var I_=Object.defineProperty;var L_=(e,t,n)=>t in e?I_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ze=(e,t,n)=>L_(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function D_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Gy={exports:{}},pc={},Ky={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aa=Symbol.for("react.element"),F_=Symbol.for("react.portal"),$_=Symbol.for("react.fragment"),z_=Symbol.for("react.strict_mode"),B_=Symbol.for("react.profiler"),U_=Symbol.for("react.provider"),V_=Symbol.for("react.context"),H_=Symbol.for("react.forward_ref"),W_=Symbol.for("react.suspense"),q_=Symbol.for("react.memo"),G_=Symbol.for("react.lazy"),Ig=Symbol.iterator;function K_(e){return e===null||typeof e!="object"?null:(e=Ig&&e[Ig]||e["@@iterator"],typeof e=="function"?e:null)}var Yy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xy=Object.assign,Jy={};function Ji(e,t,n){this.props=e,this.context=t,this.refs=Jy,this.updater=n||Yy}Ji.prototype.isReactComponent={};Ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qy(){}Qy.prototype=Ji.prototype;function ip(e,t,n){this.props=e,this.context=t,this.refs=Jy,this.updater=n||Yy}var op=ip.prototype=new Qy;op.constructor=ip;Xy(op,Ji.prototype);op.isPureReactComponent=!0;var Lg=Array.isArray,Zy=Object.prototype.hasOwnProperty,ap={current:null},ev={key:!0,ref:!0,__self:!0,__source:!0};function tv(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Zy.call(t,r)&&!ev.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Aa,type:e,key:i,ref:o,props:s,_owner:ap.current}}function Y_(e,t){return{$$typeof:Aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Aa}function X_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dg=/\/+/g;function Ed(e,t){return typeof e=="object"&&e!==null&&e.key!=null?X_(""+e.key):t.toString(36)}function nu(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Aa:case F_:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ed(o,0):r,Lg(s)?(n="",e!=null&&(n=e.replace(Dg,"$&/")+"/"),nu(s,t,n,"",function(u){return u})):s!=null&&(lp(s)&&(s=Y_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dg,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Lg(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ed(i,a);o+=nu(i,t,n,l,s)}else if(l=K_(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ed(i,a++),o+=nu(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ml(e,t,n){if(e==null)return e;var r=[],s=0;return nu(e,r,"","",function(i){return t.call(n,i,s++)}),r}function J_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},ru={transition:null},Q_={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:ru,ReactCurrentOwner:ap};function nv(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:ml,forEach:function(e,t,n){ml(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ml(e,function(){t++}),t},toArray:function(e){return ml(e,function(t){return t})||[]},only:function(e){if(!lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=Ji;Ie.Fragment=$_;Ie.Profiler=B_;Ie.PureComponent=ip;Ie.StrictMode=z_;Ie.Suspense=W_;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q_;Ie.act=nv;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xy({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ap.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Zy.call(t,l)&&!ev.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Aa,type:e.type,key:s,ref:i,props:r,_owner:o}};Ie.createContext=function(e){return e={$$typeof:V_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:U_,_context:e},e.Consumer=e};Ie.createElement=tv;Ie.createFactory=function(e){var t=tv.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:H_,render:e}};Ie.isValidElement=lp;Ie.lazy=function(e){return{$$typeof:G_,_payload:{_status:-1,_result:e},_init:J_}};Ie.memo=function(e,t){return{$$typeof:q_,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=ru.transition;ru.transition={};try{e()}finally{ru.transition=t}};Ie.unstable_act=nv;Ie.useCallback=function(e,t){return qt.current.useCallback(e,t)};Ie.useContext=function(e){return qt.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return qt.current.useEffect(e,t)};Ie.useId=function(){return qt.current.useId()};Ie.useImperativeHandle=function(e,t,n){return qt.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return qt.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return qt.current.useReducer(e,t,n)};Ie.useRef=function(e){return qt.current.useRef(e)};Ie.useState=function(e){return qt.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return qt.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return qt.current.useTransition()};Ie.version="18.3.1";Ky.exports=Ie;var M=Ky.exports;const Fe=hc(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=M,eb=Symbol.for("react.element"),tb=Symbol.for("react.fragment"),nb=Object.prototype.hasOwnProperty,rb=Z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sb={key:!0,ref:!0,__self:!0,__source:!0};function rv(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)nb.call(t,r)&&!sb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:eb,type:e,key:i,ref:o,props:s,_owner:rb.current}}pc.Fragment=tb;pc.jsx=rv;pc.jsxs=rv;Gy.exports=pc;var h=Gy.exports,sv={exports:{}},vn={},iv={exports:{}},ov={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,K){var X=Y.length;Y.push(K);e:for(;0<X;){var te=X-1>>>1,q=Y[te];if(0<s(q,K))Y[te]=K,Y[X]=q,X=te;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var K=Y[0],X=Y.pop();if(X!==K){Y[0]=X;e:for(var te=0,q=Y.length,G=q>>>1;te<G;){var ne=2*(te+1)-1,ue=Y[ne],ce=ne+1,we=Y[ce];if(0>s(ue,X))ce<q&&0>s(we,ue)?(Y[te]=we,Y[ce]=X,te=ce):(Y[te]=ue,Y[ne]=X,te=ne);else if(ce<q&&0>s(we,X))Y[te]=we,Y[ce]=X,te=ce;else break e}}return K}function s(Y,K){var X=Y.sortIndex-K.sortIndex;return X!==0?X:Y.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Y){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=Y)r(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(u)}}function R(Y){if(y=!1,x(Y),!m)if(n(l)!==null)m=!0,oe(P);else{var K=n(u);K!==null&&ee(R,K.startTime-Y)}}function P(Y,K){m=!1,y&&(y=!1,v(S),S=-1),p=!0;var X=f;try{for(x(K),d=n(l);d!==null&&(!(d.expirationTime>K)||Y&&!D());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var q=te(d.expirationTime<=K);K=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),x(K)}else r(l);d=n(l)}if(d!==null)var G=!0;else{var ne=n(u);ne!==null&&ee(R,ne.startTime-K),G=!1}return G}finally{d=null,f=X,p=!1}}var A=!1,O=null,S=-1,E=5,I=-1;function D(){return!(e.unstable_now()-I<E)}function $(){if(O!==null){var Y=e.unstable_now();I=Y;var K=!0;try{K=O(!0,Y)}finally{K?H():(A=!1,O=null)}}else A=!1}var H;if(typeof w=="function")H=function(){w($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=$,H=function(){re.postMessage(null)}}else H=function(){b($,0)};function oe(Y){O=Y,A||(A=!0,H())}function ee(Y,K){S=b(function(){Y(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,oe(P))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var X=f;f=K;try{return Y()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var X=f;f=Y;try{return K()}finally{f=X}},e.unstable_scheduleCallback=function(Y,K,X){var te=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?te+X:te):X=te,Y){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=X+q,Y={id:c++,callback:K,priorityLevel:Y,startTime:X,expirationTime:q,sortIndex:-1},X>te?(Y.sortIndex=X,t(u,Y),n(l)===null&&Y===n(u)&&(y?(v(S),S=-1):y=!0,ee(R,X-te))):(Y.sortIndex=q,t(l,Y),m||p||(m=!0,oe(P))),Y},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(Y){var K=f;return function(){var X=f;f=K;try{return Y.apply(this,arguments)}finally{f=X}}}})(ov);iv.exports=ov;var ib=iv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob=M,gn=ib;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var av=new Set,ia={};function ti(e,t){zi(e,t),zi(e+"Capture",t)}function zi(e,t){for(ia[e]=t,e=0;e<t.length;e++)av.add(t[e])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=Object.prototype.hasOwnProperty,ab=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fg={},$g={};function lb(e){return Tf.call($g,e)?!0:Tf.call(Fg,e)?!1:ab.test(e)?$g[e]=!0:(Fg[e]=!0,!1)}function ub(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cb(e,t,n,r){if(t===null||typeof t>"u"||ub(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pt[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pt[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pt[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pt[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pt[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pt[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pt[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pt[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pt[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var up=/[\-:]([a-z])/g;function cp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(up,cp);Pt[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(up,cp);Pt[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(up,cp);Pt[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function dp(e,t,n,r){var s=Pt.hasOwnProperty(t)?Pt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cb(t,n,s,r)&&(n=null),r||s===null?lb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ir=ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yl=Symbol.for("react.element"),vi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),lv=Symbol.for("react.provider"),uv=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),pp=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),cv=Symbol.for("react.offscreen"),zg=Symbol.iterator;function go(e){return e===null||typeof e!="object"?null:(e=zg&&e[zg]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,Rd;function Mo(e){if(Rd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rd=t&&t[1]||""}return`
`+Rd+e}var jd=!1;function Pd(e,t){if(!e||jd)return"";jd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{jd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mo(e):""}function db(e){switch(e.tag){case 5:return Mo(e.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return e=Pd(e.type,!1),e;case 11:return e=Pd(e.type.render,!1),e;case 1:return e=Pd(e.type,!0),e;default:return""}}function Mf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xi:return"Fragment";case vi:return"Portal";case Of:return"Profiler";case fp:return"StrictMode";case Af:return"Suspense";case Nf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uv:return(e.displayName||"Context")+".Consumer";case lv:return(e._context.displayName||"Context")+".Provider";case hp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pp:return t=e.displayName||null,t!==null?t:Mf(e.type)||"Memo";case Vr:t=e._payload,e=e._init;try{return Mf(e(t))}catch{}}return null}function fb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mf(t);case 8:return t===fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ds(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hb(e){var t=dv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vl(e){e._valueTracker||(e._valueTracker=hb(e))}function fv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ju(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function If(e,t){var n=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ds(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hv(e,t){t=t.checked,t!=null&&dp(e,"checked",t,!1)}function Lf(e,t){hv(e,t);var n=ds(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Df(e,t.type,n):t.hasOwnProperty("defaultValue")&&Df(e,t.type,ds(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ug(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Df(e,t,n){(t!=="number"||ju(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Io=Array.isArray;function Oi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ds(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ff(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(Io(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ds(n)}}function pv(e,t){var n=ds(t.value),r=ds(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xl,mv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pb=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(e){pb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uo[t]=Uo[e]})});function yv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Uo.hasOwnProperty(e)&&Uo[e]?(""+t).trim():t+"px"}function vv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var gb=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zf(e,t){if(t){if(gb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function Bf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=null;function gp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vf=null,Ai=null,Ni=null;function Wg(e){if(e=Ia(e)){if(typeof Vf!="function")throw Error(he(280));var t=e.stateNode;t&&(t=xc(t),Vf(e.stateNode,e.type,t))}}function xv(e){Ai?Ni?Ni.push(e):Ni=[e]:Ai=e}function wv(){if(Ai){var e=Ai,t=Ni;if(Ni=Ai=null,Wg(e),t)for(e=0;e<t.length;e++)Wg(t[e])}}function _v(e,t){return e(t)}function bv(){}var Td=!1;function Sv(e,t,n){if(Td)return e(t,n);Td=!0;try{return _v(e,t,n)}finally{Td=!1,(Ai!==null||Ni!==null)&&(bv(),wv())}}function aa(e,t){var n=e.stateNode;if(n===null)return null;var r=xc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var Hf=!1;if(Pr)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Hf=!1}function mb(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Vo=!1,Pu=null,Tu=!1,Wf=null,yb={onError:function(e){Vo=!0,Pu=e}};function vb(e,t,n,r,s,i,o,a,l){Vo=!1,Pu=null,mb.apply(yb,arguments)}function xb(e,t,n,r,s,i,o,a,l){if(vb.apply(this,arguments),Vo){if(Vo){var u=Pu;Vo=!1,Pu=null}else throw Error(he(198));Tu||(Tu=!0,Wf=u)}}function ni(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qg(e){if(ni(e)!==e)throw Error(he(188))}function wb(e){var t=e.alternate;if(!t){if(t=ni(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qg(s),e;if(i===r)return qg(s),t;i=i.sibling}throw Error(he(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function Cv(e){return e=wb(e),e!==null?Ev(e):null}function Ev(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ev(e);if(t!==null)return t;e=e.sibling}return null}var Rv=gn.unstable_scheduleCallback,Gg=gn.unstable_cancelCallback,_b=gn.unstable_shouldYield,bb=gn.unstable_requestPaint,gt=gn.unstable_now,Sb=gn.unstable_getCurrentPriorityLevel,mp=gn.unstable_ImmediatePriority,jv=gn.unstable_UserBlockingPriority,Ou=gn.unstable_NormalPriority,kb=gn.unstable_LowPriority,Pv=gn.unstable_IdlePriority,gc=null,dr=null;function Cb(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(gc,e,void 0,(e.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:jb,Eb=Math.log,Rb=Math.LN2;function jb(e){return e>>>=0,e===0?32:31-(Eb(e)/Rb|0)|0}var wl=64,_l=4194304;function Lo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Au(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Lo(a):(i&=o,i!==0&&(r=Lo(i)))}else o=n&~s,o!==0?r=Lo(o):i!==0&&(r=Lo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vn(t),s=1<<n,r|=e[n],t&=~s;return r}function Pb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Vn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Pb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function qf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tv(){var e=wl;return wl<<=1,!(wl&4194240)&&(wl=64),e}function Od(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Na(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vn(t),e[t]=n}function Ob(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Vn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function yp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ke=0;function Ov(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Av,vp,Nv,Mv,Iv,Gf=!1,bl=[],es=null,ts=null,ns=null,la=new Map,ua=new Map,qr=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kg(e,t){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":la.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(t.pointerId)}}function yo(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ia(t),t!==null&&vp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Nb(e,t,n,r,s){switch(t){case"focusin":return es=yo(es,e,t,n,r,s),!0;case"dragenter":return ts=yo(ts,e,t,n,r,s),!0;case"mouseover":return ns=yo(ns,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return la.set(i,yo(la.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ua.set(i,yo(ua.get(i)||null,e,t,n,r,s)),!0}return!1}function Lv(e){var t=Ls(e.target);if(t!==null){var n=ni(t);if(n!==null){if(t=n.tag,t===13){if(t=kv(n),t!==null){e.blockedOn=t,Iv(e.priority,function(){Nv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function su(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Uf=r,n.target.dispatchEvent(r),Uf=null}else return t=Ia(n),t!==null&&vp(t),e.blockedOn=n,!1;t.shift()}return!0}function Yg(e,t,n){su(e)&&n.delete(t)}function Mb(){Gf=!1,es!==null&&su(es)&&(es=null),ts!==null&&su(ts)&&(ts=null),ns!==null&&su(ns)&&(ns=null),la.forEach(Yg),ua.forEach(Yg)}function vo(e,t){e.blockedOn===t&&(e.blockedOn=null,Gf||(Gf=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,Mb)))}function ca(e){function t(s){return vo(s,e)}if(0<bl.length){vo(bl[0],e);for(var n=1;n<bl.length;n++){var r=bl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(es!==null&&vo(es,e),ts!==null&&vo(ts,e),ns!==null&&vo(ns,e),la.forEach(t),ua.forEach(t),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)Lv(n),n.blockedOn===null&&qr.shift()}var Mi=Ir.ReactCurrentBatchConfig,Nu=!0;function Ib(e,t,n,r){var s=Ke,i=Mi.transition;Mi.transition=null;try{Ke=1,xp(e,t,n,r)}finally{Ke=s,Mi.transition=i}}function Lb(e,t,n,r){var s=Ke,i=Mi.transition;Mi.transition=null;try{Ke=4,xp(e,t,n,r)}finally{Ke=s,Mi.transition=i}}function xp(e,t,n,r){if(Nu){var s=Kf(e,t,n,r);if(s===null)Bd(e,t,r,Mu,n),Kg(e,r);else if(Nb(s,e,t,n,r))r.stopPropagation();else if(Kg(e,r),t&4&&-1<Ab.indexOf(e)){for(;s!==null;){var i=Ia(s);if(i!==null&&Av(i),i=Kf(e,t,n,r),i===null&&Bd(e,t,r,Mu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bd(e,t,r,null,n)}}var Mu=null;function Kf(e,t,n,r){if(Mu=null,e=gp(r),e=Ls(e),e!==null)if(t=ni(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mu=e,null}function Dv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sb()){case mp:return 1;case jv:return 4;case Ou:case kb:return 16;case Pv:return 536870912;default:return 16}default:return 16}}var Yr=null,wp=null,iu=null;function Fv(){if(iu)return iu;var e,t=wp,n=t.length,r,s="value"in Yr?Yr.value:Yr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return iu=s.slice(e,1<r?1-r:void 0)}function ou(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function Xg(){return!1}function xn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sl:Xg,this.isPropagationStopped=Xg,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),t}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_p=xn(Qi),Ma=ut({},Qi,{view:0,detail:0}),Db=xn(Ma),Ad,Nd,xo,mc=ut({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xo&&(xo&&e.type==="mousemove"?(Ad=e.screenX-xo.screenX,Nd=e.screenY-xo.screenY):Nd=Ad=0,xo=e),Ad)},movementY:function(e){return"movementY"in e?e.movementY:Nd}}),Jg=xn(mc),Fb=ut({},mc,{dataTransfer:0}),$b=xn(Fb),zb=ut({},Ma,{relatedTarget:0}),Md=xn(zb),Bb=ut({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ub=xn(Bb),Vb=ut({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hb=xn(Vb),Wb=ut({},Qi,{data:0}),Qg=xn(Wb),qb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kb[e])?!!t[e]:!1}function bp(){return Yb}var Xb=ut({},Ma,{key:function(e){if(e.key){var t=qb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ou(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(e){return e.type==="keypress"?ou(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ou(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jb=xn(Xb),Qb=ut({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=xn(Qb),Zb=ut({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),e2=xn(Zb),t2=ut({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),n2=xn(t2),r2=ut({},mc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s2=xn(r2),i2=[9,13,27,32],Sp=Pr&&"CompositionEvent"in window,Ho=null;Pr&&"documentMode"in document&&(Ho=document.documentMode);var o2=Pr&&"TextEvent"in window&&!Ho,$v=Pr&&(!Sp||Ho&&8<Ho&&11>=Ho),em=" ",tm=!1;function zv(e,t){switch(e){case"keyup":return i2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wi=!1;function a2(e,t){switch(e){case"compositionend":return Bv(t);case"keypress":return t.which!==32?null:(tm=!0,em);case"textInput":return e=t.data,e===em&&tm?null:e;default:return null}}function l2(e,t){if(wi)return e==="compositionend"||!Sp&&zv(e,t)?(e=Fv(),iu=wp=Yr=null,wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $v&&t.locale!=="ko"?null:t.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u2[e.type]:t==="textarea"}function Uv(e,t,n,r){xv(r),t=Iu(t,"onChange"),0<t.length&&(n=new _p("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wo=null,da=null;function c2(e){Zv(e,0)}function yc(e){var t=Si(e);if(fv(t))return e}function d2(e,t){if(e==="change")return t}var Vv=!1;if(Pr){var Id;if(Pr){var Ld="oninput"in document;if(!Ld){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),Ld=typeof rm.oninput=="function"}Id=Ld}else Id=!1;Vv=Id&&(!document.documentMode||9<document.documentMode)}function sm(){Wo&&(Wo.detachEvent("onpropertychange",Hv),da=Wo=null)}function Hv(e){if(e.propertyName==="value"&&yc(da)){var t=[];Uv(t,da,e,gp(e)),Sv(c2,t)}}function f2(e,t,n){e==="focusin"?(sm(),Wo=t,da=n,Wo.attachEvent("onpropertychange",Hv)):e==="focusout"&&sm()}function h2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yc(da)}function p2(e,t){if(e==="click")return yc(t)}function g2(e,t){if(e==="input"||e==="change")return yc(t)}function m2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gn=typeof Object.is=="function"?Object.is:m2;function fa(e,t){if(Gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tf.call(t,s)||!Gn(e[s],t[s]))return!1}return!0}function im(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function om(e,t){var n=im(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=im(n)}}function Wv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qv(){for(var e=window,t=ju();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ju(e.document)}return t}function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y2(e){var t=qv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wv(n.ownerDocument.documentElement,n)){if(r!==null&&kp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=om(n,i);var o=om(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var v2=Pr&&"documentMode"in document&&11>=document.documentMode,_i=null,Yf=null,qo=null,Xf=!1;function am(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xf||_i==null||_i!==ju(r)||(r=_i,"selectionStart"in r&&kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qo&&fa(qo,r)||(qo=r,r=Iu(Yf,"onSelect"),0<r.length&&(t=new _p("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_i)))}function kl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bi={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},Dd={},Gv={};Pr&&(Gv=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function vc(e){if(Dd[e])return Dd[e];if(!bi[e])return e;var t=bi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gv)return Dd[e]=t[n];return e}var Kv=vc("animationend"),Yv=vc("animationiteration"),Xv=vc("animationstart"),Jv=vc("transitionend"),Qv=new Map,lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(e,t){Qv.set(e,t),ti(t,[e])}for(var Fd=0;Fd<lm.length;Fd++){var $d=lm[Fd],x2=$d.toLowerCase(),w2=$d[0].toUpperCase()+$d.slice(1);ys(x2,"on"+w2)}ys(Kv,"onAnimationEnd");ys(Yv,"onAnimationIteration");ys(Xv,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(Jv,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function um(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xb(r,t,void 0,e),e.currentTarget=null}function Zv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;um(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;um(s,a,u),i=l}}}if(Tu)throw e=Wf,Tu=!1,Wf=null,e}function Ze(e,t){var n=t[th];n===void 0&&(n=t[th]=new Set);var r=e+"__bubble";n.has(r)||(ex(t,e,2,!1),n.add(r))}function zd(e,t,n){var r=0;t&&(r|=4),ex(n,e,r,t)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function ha(e){if(!e[Cl]){e[Cl]=!0,av.forEach(function(n){n!=="selectionchange"&&(_2.has(n)||zd(n,!1,e),zd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cl]||(t[Cl]=!0,zd("selectionchange",!1,t))}}function ex(e,t,n,r){switch(Dv(t)){case 1:var s=Ib;break;case 4:s=Lb;break;default:s=xp}n=s.bind(null,t,n,e),s=void 0,!Hf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bd(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ls(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Sv(function(){var u=i,c=gp(n),d=[];e:{var f=Qv.get(e);if(f!==void 0){var p=_p,m=e;switch(e){case"keypress":if(ou(n)===0)break e;case"keydown":case"keyup":p=Jb;break;case"focusin":m="focus",p=Md;break;case"focusout":m="blur",p=Md;break;case"beforeblur":case"afterblur":p=Md;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=e2;break;case Kv:case Yv:case Xv:p=Ub;break;case Jv:p=n2;break;case"scroll":p=Db;break;case"wheel":p=s2;break;case"copy":case"cut":case"paste":p=Hb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Zg}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var w=u,x;w!==null;){x=w;var R=x.stateNode;if(x.tag===5&&R!==null&&(x=R,v!==null&&(R=aa(w,v),R!=null&&y.push(pa(w,R,x)))),b)break;w=w.return}0<y.length&&(f=new p(f,m,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Uf&&(m=n.relatedTarget||n.fromElement)&&(Ls(m)||m[Tr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ls(m):null,m!==null&&(b=ni(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=Jg,R="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Zg,R="onPointerLeave",v="onPointerEnter",w="pointer"),b=p==null?f:Si(p),x=m==null?f:Si(m),f=new y(R,w+"leave",p,n,c),f.target=b,f.relatedTarget=x,R=null,Ls(c)===u&&(y=new y(v,w+"enter",m,n,c),y.target=x,y.relatedTarget=b,R=y),b=R,p&&m)t:{for(y=p,v=m,w=0,x=y;x;x=di(x))w++;for(x=0,R=v;R;R=di(R))x++;for(;0<w-x;)y=di(y),w--;for(;0<x-w;)v=di(v),x--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=di(y),v=di(v)}y=null}else y=null;p!==null&&cm(d,f,p,y,!1),m!==null&&b!==null&&cm(d,b,m,y,!0)}}e:{if(f=u?Si(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var P=d2;else if(nm(f))if(Vv)P=g2;else{P=h2;var A=f2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=p2);if(P&&(P=P(e,u))){Uv(d,P,n,c);break e}A&&A(e,f,u),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Df(f,"number",f.value)}switch(A=u?Si(u):window,e){case"focusin":(nm(A)||A.contentEditable==="true")&&(_i=A,Yf=u,qo=null);break;case"focusout":qo=Yf=_i=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,am(d,n,c);break;case"selectionchange":if(v2)break;case"keydown":case"keyup":am(d,n,c)}var O;if(Sp)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else wi?zv(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&($v&&n.locale!=="ko"&&(wi||S!=="onCompositionStart"?S==="onCompositionEnd"&&wi&&(O=Fv()):(Yr=c,wp="value"in Yr?Yr.value:Yr.textContent,wi=!0)),A=Iu(u,S),0<A.length&&(S=new Qg(S,e,null,n,c),d.push({event:S,listeners:A}),O?S.data=O:(O=Bv(n),O!==null&&(S.data=O)))),(O=o2?a2(e,n):l2(e,n))&&(u=Iu(u,"onBeforeInput"),0<u.length&&(c=new Qg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}Zv(d,t)})}function pa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Iu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=aa(e,n),i!=null&&r.unshift(pa(e,i,s)),i=aa(e,t),i!=null&&r.push(pa(e,i,s))),e=e.return}return r}function di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cm(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=aa(n,i),l!=null&&o.unshift(pa(n,l,a))):s||(l=aa(n,i),l!=null&&o.push(pa(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var b2=/\r\n?/g,S2=/\u0000|\uFFFD/g;function dm(e){return(typeof e=="string"?e:""+e).replace(b2,`
`).replace(S2,"")}function El(e,t,n){if(t=dm(t),dm(e)!==t&&n)throw Error(he(425))}function Lu(){}var Jf=null,Qf=null;function Zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(e){return fm.resolve(null).then(e).catch(E2)}:eh;function E2(e){setTimeout(function(){throw e})}function Ud(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ca(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ca(t)}function rs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),cr="__reactFiber$"+Zi,ga="__reactProps$"+Zi,Tr="__reactContainer$"+Zi,th="__reactEvents$"+Zi,R2="__reactListeners$"+Zi,j2="__reactHandles$"+Zi;function Ls(e){var t=e[cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tr]||n[cr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hm(e);e!==null;){if(n=e[cr])return n;e=hm(e)}return t}e=n,n=e.parentNode}return null}function Ia(e){return e=e[cr]||e[Tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Si(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function xc(e){return e[ga]||null}var nh=[],ki=-1;function vs(e){return{current:e}}function tt(e){0>ki||(e.current=nh[ki],nh[ki]=null,ki--)}function Qe(e,t){ki++,nh[ki]=e.current,e.current=t}var fs={},$t=vs(fs),nn=vs(!1),Gs=fs;function Bi(e,t){var n=e.type.contextTypes;if(!n)return fs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rn(e){return e=e.childContextTypes,e!=null}function Du(){tt(nn),tt($t)}function pm(e,t,n){if($t.current!==fs)throw Error(he(168));Qe($t,t),Qe(nn,n)}function tx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(he(108,fb(e)||"Unknown",s));return ut({},n,r)}function Fu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fs,Gs=$t.current,Qe($t,e),Qe(nn,nn.current),!0}function gm(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=tx(e,t,Gs),r.__reactInternalMemoizedMergedChildContext=e,tt(nn),tt($t),Qe($t,e)):tt(nn),Qe(nn,n)}var br=null,wc=!1,Vd=!1;function nx(e){br===null?br=[e]:br.push(e)}function P2(e){wc=!0,nx(e)}function xs(){if(!Vd&&br!==null){Vd=!0;var e=0,t=Ke;try{var n=br;for(Ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}br=null,wc=!1}catch(s){throw br!==null&&(br=br.slice(e+1)),Rv(mp,xs),s}finally{Ke=t,Vd=!1}}return null}var Ci=[],Ei=0,$u=null,zu=0,Sn=[],kn=0,Ks=null,Cr=1,Er="";function Os(e,t){Ci[Ei++]=zu,Ci[Ei++]=$u,$u=e,zu=t}function rx(e,t,n){Sn[kn++]=Cr,Sn[kn++]=Er,Sn[kn++]=Ks,Ks=e;var r=Cr;e=Er;var s=32-Vn(r)-1;r&=~(1<<s),n+=1;var i=32-Vn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cr=1<<32-Vn(t)+s|n<<s|r,Er=i+e}else Cr=1<<i|n<<s|r,Er=e}function Cp(e){e.return!==null&&(Os(e,1),rx(e,1,0))}function Ep(e){for(;e===$u;)$u=Ci[--Ei],Ci[Ei]=null,zu=Ci[--Ei],Ci[Ei]=null;for(;e===Ks;)Ks=Sn[--kn],Sn[kn]=null,Er=Sn[--kn],Sn[kn]=null,Cr=Sn[--kn],Sn[kn]=null}var hn=null,dn=null,it=!1,zn=null;function sx(e,t){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hn=e,dn=rs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hn=e,dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ks!==null?{id:Cr,overflow:Er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hn=e,dn=null,!0):!1;default:return!1}}function rh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sh(e){if(it){var t=dn;if(t){var n=t;if(!mm(e,t)){if(rh(e))throw Error(he(418));t=rs(n.nextSibling);var r=hn;t&&mm(e,t)?sx(r,n):(e.flags=e.flags&-4097|2,it=!1,hn=e)}}else{if(rh(e))throw Error(he(418));e.flags=e.flags&-4097|2,it=!1,hn=e}}}function ym(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hn=e}function Rl(e){if(e!==hn)return!1;if(!it)return ym(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zf(e.type,e.memoizedProps)),t&&(t=dn)){if(rh(e))throw ix(),Error(he(418));for(;t;)sx(e,t),t=rs(t.nextSibling)}if(ym(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dn=rs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dn=null}}else dn=hn?rs(e.stateNode.nextSibling):null;return!0}function ix(){for(var e=dn;e;)e=rs(e.nextSibling)}function Ui(){dn=hn=null,it=!1}function Rp(e){zn===null?zn=[e]:zn.push(e)}var T2=Ir.ReactCurrentBatchConfig;function wo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function jl(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vm(e){var t=e._init;return t(e._payload)}function ox(e){function t(v,w){if(e){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=as(v,w),v.index=0,v.sibling=null,v}function i(v,w,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,w,x,R){return w===null||w.tag!==6?(w=Xd(x,v.mode,R),w.return=v,w):(w=s(w,x),w.return=v,w)}function l(v,w,x,R){var P=x.type;return P===xi?c(v,w,x.props.children,R,x.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vr&&vm(P)===w.type)?(R=s(w,x.props),R.ref=wo(v,w,x),R.return=v,R):(R=hu(x.type,x.key,x.props,null,v.mode,R),R.ref=wo(v,w,x),R.return=v,R)}function u(v,w,x,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Jd(x,v.mode,R),w.return=v,w):(w=s(w,x.children||[]),w.return=v,w)}function c(v,w,x,R,P){return w===null||w.tag!==7?(w=Us(x,v.mode,R,P),w.return=v,w):(w=s(w,x),w.return=v,w)}function d(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Xd(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yl:return x=hu(w.type,w.key,w.props,null,v.mode,x),x.ref=wo(v,null,w),x.return=v,x;case vi:return w=Jd(w,v.mode,x),w.return=v,w;case Vr:var R=w._init;return d(v,R(w._payload),x)}if(Io(w)||go(w))return w=Us(w,v.mode,x,null),w.return=v,w;jl(v,w)}return null}function f(v,w,x,R){var P=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:a(v,w,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yl:return x.key===P?l(v,w,x,R):null;case vi:return x.key===P?u(v,w,x,R):null;case Vr:return P=x._init,f(v,w,P(x._payload),R)}if(Io(x)||go(x))return P!==null?null:c(v,w,x,R,null);jl(v,x)}return null}function p(v,w,x,R,P){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(x)||null,a(w,v,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case yl:return v=v.get(R.key===null?x:R.key)||null,l(w,v,R,P);case vi:return v=v.get(R.key===null?x:R.key)||null,u(w,v,R,P);case Vr:var A=R._init;return p(v,w,x,A(R._payload),P)}if(Io(R)||go(R))return v=v.get(x)||null,c(w,v,R,P,null);jl(w,R)}return null}function m(v,w,x,R){for(var P=null,A=null,O=w,S=w=0,E=null;O!==null&&S<x.length;S++){O.index>S?(E=O,O=null):E=O.sibling;var I=f(v,O,x[S],R);if(I===null){O===null&&(O=E);break}e&&O&&I.alternate===null&&t(v,O),w=i(I,w,S),A===null?P=I:A.sibling=I,A=I,O=E}if(S===x.length)return n(v,O),it&&Os(v,S),P;if(O===null){for(;S<x.length;S++)O=d(v,x[S],R),O!==null&&(w=i(O,w,S),A===null?P=O:A.sibling=O,A=O);return it&&Os(v,S),P}for(O=r(v,O);S<x.length;S++)E=p(O,v,S,x[S],R),E!==null&&(e&&E.alternate!==null&&O.delete(E.key===null?S:E.key),w=i(E,w,S),A===null?P=E:A.sibling=E,A=E);return e&&O.forEach(function(D){return t(v,D)}),it&&Os(v,S),P}function y(v,w,x,R){var P=go(x);if(typeof P!="function")throw Error(he(150));if(x=P.call(x),x==null)throw Error(he(151));for(var A=P=null,O=w,S=w=0,E=null,I=x.next();O!==null&&!I.done;S++,I=x.next()){O.index>S?(E=O,O=null):E=O.sibling;var D=f(v,O,I.value,R);if(D===null){O===null&&(O=E);break}e&&O&&D.alternate===null&&t(v,O),w=i(D,w,S),A===null?P=D:A.sibling=D,A=D,O=E}if(I.done)return n(v,O),it&&Os(v,S),P;if(O===null){for(;!I.done;S++,I=x.next())I=d(v,I.value,R),I!==null&&(w=i(I,w,S),A===null?P=I:A.sibling=I,A=I);return it&&Os(v,S),P}for(O=r(v,O);!I.done;S++,I=x.next())I=p(O,v,S,I.value,R),I!==null&&(e&&I.alternate!==null&&O.delete(I.key===null?S:I.key),w=i(I,w,S),A===null?P=I:A.sibling=I,A=I);return e&&O.forEach(function($){return t(v,$)}),it&&Os(v,S),P}function b(v,w,x,R){if(typeof x=="object"&&x!==null&&x.type===xi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yl:e:{for(var P=x.key,A=w;A!==null;){if(A.key===P){if(P=x.type,P===xi){if(A.tag===7){n(v,A.sibling),w=s(A,x.props.children),w.return=v,v=w;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vr&&vm(P)===A.type){n(v,A.sibling),w=s(A,x.props),w.ref=wo(v,A,x),w.return=v,v=w;break e}n(v,A);break}else t(v,A);A=A.sibling}x.type===xi?(w=Us(x.props.children,v.mode,R,x.key),w.return=v,v=w):(R=hu(x.type,x.key,x.props,null,v.mode,R),R.ref=wo(v,w,x),R.return=v,v=R)}return o(v);case vi:e:{for(A=x.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(v,w.sibling),w=s(w,x.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else t(v,w);w=w.sibling}w=Jd(x,v.mode,R),w.return=v,v=w}return o(v);case Vr:return A=x._init,b(v,w,A(x._payload),R)}if(Io(x))return m(v,w,x,R);if(go(x))return y(v,w,x,R);jl(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,x),w.return=v,v=w):(n(v,w),w=Xd(x,v.mode,R),w.return=v,v=w),o(v)):n(v,w)}return b}var Vi=ox(!0),ax=ox(!1),Bu=vs(null),Uu=null,Ri=null,jp=null;function Pp(){jp=Ri=Uu=null}function Tp(e){var t=Bu.current;tt(Bu),e._currentValue=t}function ih(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t){Uu=e,jp=Ri=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tn=!0),e.firstContext=null)}function jn(e){var t=e._currentValue;if(jp!==e)if(e={context:e,memoizedValue:t,next:null},Ri===null){if(Uu===null)throw Error(he(308));Ri=e,Uu.dependencies={lanes:0,firstContext:e}}else Ri=Ri.next=e;return t}var Ds=null;function Op(e){Ds===null?Ds=[e]:Ds.push(e)}function lx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Op(t)):(n.next=s.next,s.next=n),t.interleaved=n,Or(e,r)}function Or(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hr=!1;function Ap(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ux(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Or(e,n)}return s=r.interleaved,s===null?(t.next=t,Op(r)):(t.next=s.next,s.next=t),r.interleaved=t,Or(e,n)}function au(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yp(e,n)}}function xm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vu(e,t,n,r){var s=e.updateQueue;Hr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,y=a;switch(f=t,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=ut({},d,f);break e;case 2:Hr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Xs|=o,e.lanes=o,e.memoizedState=d}}function wm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(he(191,s));s.call(r)}}}var La={},fr=vs(La),ma=vs(La),ya=vs(La);function Fs(e){if(e===La)throw Error(he(174));return e}function Np(e,t){switch(Qe(ya,t),Qe(ma,e),Qe(fr,La),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$f(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$f(t,e)}tt(fr),Qe(fr,t)}function Hi(){tt(fr),tt(ma),tt(ya)}function cx(e){Fs(ya.current);var t=Fs(fr.current),n=$f(t,e.type);t!==n&&(Qe(ma,e),Qe(fr,n))}function Mp(e){ma.current===e&&(tt(fr),tt(ma))}var at=vs(0);function Hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hd=[];function Ip(){for(var e=0;e<Hd.length;e++)Hd[e]._workInProgressVersionPrimary=null;Hd.length=0}var lu=Ir.ReactCurrentDispatcher,Wd=Ir.ReactCurrentBatchConfig,Ys=0,lt=null,xt=null,Ct=null,Wu=!1,Go=!1,va=0,O2=0;function Tt(){throw Error(he(321))}function Lp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function Dp(e,t,n,r,s,i){if(Ys=i,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lu.current=e===null||e.memoizedState===null?I2:L2,e=n(r,s),Go){i=0;do{if(Go=!1,va=0,25<=i)throw Error(he(301));i+=1,Ct=xt=null,t.updateQueue=null,lu.current=D2,e=n(r,s)}while(Go)}if(lu.current=qu,t=xt!==null&&xt.next!==null,Ys=0,Ct=xt=lt=null,Wu=!1,t)throw Error(he(300));return e}function Fp(){var e=va!==0;return va=0,e}function lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?lt.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Pn(){if(xt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Ct===null?lt.memoizedState:Ct.next;if(t!==null)Ct=t,xt=e;else{if(e===null)throw Error(he(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ct===null?lt.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function xa(e,t){return typeof t=="function"?t(e):t}function qd(e){var t=Pn(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Ys&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,lt.lanes|=c,Xs|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Gn(r,t.memoizedState)||(tn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,lt.lanes|=i,Xs|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gd(e){var t=Pn(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Gn(i,t.memoizedState)||(tn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function dx(){}function fx(e,t){var n=lt,r=Pn(),s=t(),i=!Gn(r.memoizedState,s);if(i&&(r.memoizedState=s,tn=!0),r=r.queue,$p(gx.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,wa(9,px.bind(null,n,r,s,t),void 0,null),Et===null)throw Error(he(349));Ys&30||hx(n,t,s)}return s}function hx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function px(e,t,n,r){t.value=n,t.getSnapshot=r,mx(t)&&yx(e)}function gx(e,t,n){return n(function(){mx(t)&&yx(e)})}function mx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch{return!0}}function yx(e){var t=Or(e,1);t!==null&&Hn(t,e,1,-1)}function _m(e){var t=lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=M2.bind(null,lt,e),[t.memoizedState,e]}function wa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vx(){return Pn().memoizedState}function uu(e,t,n,r){var s=lr();lt.flags|=e,s.memoizedState=wa(1|t,n,void 0,r===void 0?null:r)}function _c(e,t,n,r){var s=Pn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&Lp(r,o.deps)){s.memoizedState=wa(t,n,i,r);return}}lt.flags|=e,s.memoizedState=wa(1|t,n,i,r)}function bm(e,t){return uu(8390656,8,e,t)}function $p(e,t){return _c(2048,8,e,t)}function xx(e,t){return _c(4,2,e,t)}function wx(e,t){return _c(4,4,e,t)}function _x(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bx(e,t,n){return n=n!=null?n.concat([e]):null,_c(4,4,_x.bind(null,t,e),n)}function zp(){}function Sx(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kx(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cx(e,t,n){return Ys&21?(Gn(n,t)||(n=Tv(),lt.lanes|=n,Xs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=n)}function A2(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var r=Wd.transition;Wd.transition={};try{e(!1),t()}finally{Ke=n,Wd.transition=r}}function Ex(){return Pn().memoizedState}function N2(e,t,n){var r=os(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rx(e))jx(t,n);else if(n=lx(e,t,n,r),n!==null){var s=Wt();Hn(n,e,r,s),Px(n,t,r)}}function M2(e,t,n){var r=os(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rx(e))jx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Gn(a,o)){var l=t.interleaved;l===null?(s.next=s,Op(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=lx(e,t,s,r),n!==null&&(s=Wt(),Hn(n,e,r,s),Px(n,t,r))}}function Rx(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function jx(e,t){Go=Wu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Px(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yp(e,n)}}var qu={readContext:jn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},I2={readContext:jn,useCallback:function(e,t){return lr().memoizedState=[e,t===void 0?null:t],e},useContext:jn,useEffect:bm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,uu(4194308,4,_x.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uu(4194308,4,e,t)},useInsertionEffect:function(e,t){return uu(4,2,e,t)},useMemo:function(e,t){var n=lr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=N2.bind(null,lt,e),[r.memoizedState,e]},useRef:function(e){var t=lr();return e={current:e},t.memoizedState=e},useState:_m,useDebugValue:zp,useDeferredValue:function(e){return lr().memoizedState=e},useTransition:function(){var e=_m(!1),t=e[0];return e=A2.bind(null,e[1]),lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lt,s=lr();if(it){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),Et===null)throw Error(he(349));Ys&30||hx(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,bm(gx.bind(null,r,i,e),[e]),r.flags|=2048,wa(9,px.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=lr(),t=Et.identifierPrefix;if(it){var n=Er,r=Cr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=va++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=O2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},L2={readContext:jn,useCallback:Sx,useContext:jn,useEffect:$p,useImperativeHandle:bx,useInsertionEffect:xx,useLayoutEffect:wx,useMemo:kx,useReducer:qd,useRef:vx,useState:function(){return qd(xa)},useDebugValue:zp,useDeferredValue:function(e){var t=Pn();return Cx(t,xt.memoizedState,e)},useTransition:function(){var e=qd(xa)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:dx,useSyncExternalStore:fx,useId:Ex,unstable_isNewReconciler:!1},D2={readContext:jn,useCallback:Sx,useContext:jn,useEffect:$p,useImperativeHandle:bx,useInsertionEffect:xx,useLayoutEffect:wx,useMemo:kx,useReducer:Gd,useRef:vx,useState:function(){return Gd(xa)},useDebugValue:zp,useDeferredValue:function(e){var t=Pn();return xt===null?t.memoizedState=e:Cx(t,xt.memoizedState,e)},useTransition:function(){var e=Gd(xa)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:dx,useSyncExternalStore:fx,useId:Ex,unstable_isNewReconciler:!1};function Dn(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bc={isMounted:function(e){return(e=e._reactInternals)?ni(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),s=os(e),i=Rr(r,s);i.payload=t,n!=null&&(i.callback=n),t=ss(e,i,s),t!==null&&(Hn(t,e,s,r),au(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),s=os(e),i=Rr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ss(e,i,s),t!==null&&(Hn(t,e,s,r),au(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=os(e),s=Rr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ss(e,s,r),t!==null&&(Hn(t,e,r,n),au(t,e,r))}};function Sm(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!fa(n,r)||!fa(s,i):!0}function Tx(e,t,n){var r=!1,s=fs,i=t.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=rn(t)?Gs:$t.current,r=t.contextTypes,i=(r=r!=null)?Bi(e,s):fs),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function km(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bc.enqueueReplaceState(t,t.state,null)}function ah(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ap(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=rn(t)?Gs:$t.current,s.context=Bi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(oh(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bc.enqueueReplaceState(s,s.state,null),Vu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wi(e,t){try{var n="",r=t;do n+=db(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Kd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function lh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var F2=typeof WeakMap=="function"?WeakMap:Map;function Ox(e,t,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,vh=r),lh(e,t)},n}function Ax(e,t,n){n=Rr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){lh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){lh(e,t),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Cm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new F2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Q2.bind(null,e,t,n),t.then(e,e))}function Em(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rr(-1,1),t.tag=2,ss(n,t,1))),n.lanes|=1),e)}var $2=Ir.ReactCurrentOwner,tn=!1;function Vt(e,t,n,r){t.child=e===null?ax(t,null,n,r):Vi(t,e.child,n,r)}function jm(e,t,n,r,s){n=n.render;var i=t.ref;return Ii(t,s),r=Dp(e,t,n,r,i,s),n=Fp(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ar(e,t,s)):(it&&n&&Cp(t),t.flags|=1,Vt(e,t,r,s),t.child)}function Pm(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Kp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Nx(e,t,i,r,s)):(e=hu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fa,n(o,r)&&e.ref===t.ref)return Ar(e,t,s)}return t.flags|=1,e=as(i,r),e.ref=t.ref,e.return=t,t.child=e}function Nx(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(fa(i,r)&&e.ref===t.ref)if(tn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(tn=!0);else return t.lanes=e.lanes,Ar(e,t,s)}return uh(e,t,n,r,s)}function Mx(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Pi,cn),cn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Pi,cn),cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Qe(Pi,cn),cn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Qe(Pi,cn),cn|=r;return Vt(e,t,s,n),t.child}function Ix(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function uh(e,t,n,r,s){var i=rn(n)?Gs:$t.current;return i=Bi(t,i),Ii(t,s),n=Dp(e,t,n,r,i,s),r=Fp(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ar(e,t,s)):(it&&r&&Cp(t),t.flags|=1,Vt(e,t,n,s),t.child)}function Tm(e,t,n,r,s){if(rn(n)){var i=!0;Fu(t)}else i=!1;if(Ii(t,s),t.stateNode===null)cu(e,t),Tx(t,n,r),ah(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=rn(n)?Gs:$t.current,u=Bi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&km(t,o,r,u),Hr=!1;var f=t.memoizedState;o.state=f,Vu(t,r,o,s),l=t.memoizedState,a!==r||f!==l||nn.current||Hr?(typeof c=="function"&&(oh(t,n,c,r),l=t.memoizedState),(a=Hr||Sm(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ux(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Dn(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=rn(n)?Gs:$t.current,l=Bi(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&km(t,o,r,l),Hr=!1,f=t.memoizedState,o.state=f,Vu(t,r,o,s);var m=t.memoizedState;a!==d||f!==m||nn.current||Hr?(typeof p=="function"&&(oh(t,n,p,r),m=t.memoizedState),(u=Hr||Sm(t,n,u,r,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ch(e,t,n,r,i,s)}function ch(e,t,n,r,s,i){Ix(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&gm(t,n,!1),Ar(e,t,i);r=t.stateNode,$2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Vi(t,e.child,null,i),t.child=Vi(t,null,a,i)):Vt(e,t,a,i),t.memoizedState=r.state,s&&gm(t,n,!0),t.child}function Lx(e){var t=e.stateNode;t.pendingContext?pm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pm(e,t.context,!1),Np(e,t.containerInfo)}function Om(e,t,n,r,s){return Ui(),Rp(s),t.flags|=256,Vt(e,t,n,r),t.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dx(e,t,n){var r=t.pendingProps,s=at.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Qe(at,s&1),e===null)return sh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Cc(o,r,0,null),e=Us(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fh(n),t.memoizedState=dh,e):Bp(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return z2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=as(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=as(a,i):(i=Us(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?fh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=dh,r}return i=e.child,e=i.sibling,r=as(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bp(e,t){return t=Cc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pl(e,t,n,r){return r!==null&&Rp(r),Vi(t,e.child,null,n),e=Bp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Kd(Error(he(422))),Pl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Cc({mode:"visible",children:r.children},s,0,null),i=Us(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Vi(t,e.child,null,o),t.child.memoizedState=fh(o),t.memoizedState=dh,i);if(!(t.mode&1))return Pl(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(he(419)),r=Kd(i,r,void 0),Pl(e,t,o,r)}if(a=(o&e.childLanes)!==0,tn||a){if(r=Et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Or(e,s),Hn(r,e,s,-1))}return Gp(),r=Kd(Error(he(421))),Pl(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Z2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,dn=rs(s.nextSibling),hn=t,it=!0,zn=null,e!==null&&(Sn[kn++]=Cr,Sn[kn++]=Er,Sn[kn++]=Ks,Cr=e.id,Er=e.overflow,Ks=t),t=Bp(t,r.children),t.flags|=4096,t)}function Am(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ih(e.return,t,n)}function Yd(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fx(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Vt(e,t,r.children,n),r=at.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Am(e,n,t);else if(e.tag===19)Am(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qe(at,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Hu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yd(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Hu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yd(t,!0,n,null,i);break;case"together":Yd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=as(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=as(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function B2(e,t,n){switch(t.tag){case 3:Lx(t),Ui();break;case 5:cx(t);break;case 1:rn(t.type)&&Fu(t);break;case 4:Np(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Qe(Bu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qe(at,at.current&1),t.flags|=128,null):n&t.child.childLanes?Dx(e,t,n):(Qe(at,at.current&1),e=Ar(e,t,n),e!==null?e.sibling:null);Qe(at,at.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qe(at,at.current),r)break;return null;case 22:case 23:return t.lanes=0,Mx(e,t,n)}return Ar(e,t,n)}var $x,hh,zx,Bx;$x=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hh=function(){};zx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fs(fr.current);var i=null;switch(n){case"input":s=If(e,s),r=If(e,r),i=[];break;case"select":s=ut({},s,{value:void 0}),r=ut({},r,{value:void 0}),i=[];break;case"textarea":s=Ff(e,s),r=Ff(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Lu)}zf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ia.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ia.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Bx=function(e,t,n,r){n!==r&&(t.flags|=4)};function _o(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function U2(e,t,n){var r=t.pendingProps;switch(Ep(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return rn(t.type)&&Du(),Ot(t),null;case 3:return r=t.stateNode,Hi(),tt(nn),tt($t),Ip(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zn!==null&&(_h(zn),zn=null))),hh(e,t),Ot(t),null;case 5:Mp(t);var s=Fs(ya.current);if(n=t.type,e!==null&&t.stateNode!=null)zx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return Ot(t),null}if(e=Fs(fr.current),Rl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[cr]=t,r[ga]=i,e=(t.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<Do.length;s++)Ze(Do[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Bg(r,i),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ze("invalid",r);break;case"textarea":Vg(r,i),Ze("invalid",r)}zf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&El(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&El(r.textContent,a,e),s=["children",""+a]):ia.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ze("scroll",r)}switch(n){case"input":vl(r),Ug(r,i,!0);break;case"textarea":vl(r),Hg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Lu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[cr]=t,e[ga]=r,$x(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bf(n,r),n){case"dialog":Ze("cancel",e),Ze("close",e),s=r;break;case"iframe":case"object":case"embed":Ze("load",e),s=r;break;case"video":case"audio":for(s=0;s<Do.length;s++)Ze(Do[s],e);s=r;break;case"source":Ze("error",e),s=r;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),s=r;break;case"details":Ze("toggle",e),s=r;break;case"input":Bg(e,r),s=If(e,r),Ze("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ut({},r,{value:void 0}),Ze("invalid",e);break;case"textarea":Vg(e,r),s=Ff(e,r),Ze("invalid",e);break;default:s=r}zf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vv(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mv(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oa(e,l):typeof l=="number"&&oa(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ia.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ze("scroll",e):l!=null&&dp(e,i,l,o))}switch(n){case"input":vl(e),Ug(e,r,!1);break;case"textarea":vl(e),Hg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ds(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Oi(e,!!r.multiple,i,!1):r.defaultValue!=null&&Oi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Lu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)Bx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=Fs(ya.current),Fs(fr.current),Rl(t)){if(r=t.stateNode,n=t.memoizedProps,r[cr]=t,(i=r.nodeValue!==n)&&(e=hn,e!==null))switch(e.tag){case 3:El(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&El(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=t,t.stateNode=r}return Ot(t),null;case 13:if(tt(at),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&dn!==null&&t.mode&1&&!(t.flags&128))ix(),Ui(),t.flags|=98560,i=!1;else if(i=Rl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[cr]=t}else Ui(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),i=!1}else zn!==null&&(_h(zn),zn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||at.current&1?_t===0&&(_t=3):Gp())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return Hi(),hh(e,t),e===null&&ha(t.stateNode.containerInfo),Ot(t),null;case 10:return Tp(t.type._context),Ot(t),null;case 17:return rn(t.type)&&Du(),Ot(t),null;case 19:if(tt(at),i=t.memoizedState,i===null)return Ot(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)_o(i,!1);else{if(_t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Hu(e),o!==null){for(t.flags|=128,_o(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qe(at,at.current&1|2),t.child}e=e.sibling}i.tail!==null&&gt()>qi&&(t.flags|=128,r=!0,_o(i,!1),t.lanes=4194304)}else{if(!r)if(e=Hu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_o(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!it)return Ot(t),null}else 2*gt()-i.renderingStartTime>qi&&n!==1073741824&&(t.flags|=128,r=!0,_o(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=gt(),t.sibling=null,n=at.current,Qe(at,r?n&1|2:n&1),t):(Ot(t),null);case 22:case 23:return qp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?cn&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function V2(e,t){switch(Ep(t),t.tag){case 1:return rn(t.type)&&Du(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hi(),tt(nn),tt($t),Ip(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mp(t),null;case 13:if(tt(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(at),null;case 4:return Hi(),null;case 10:return Tp(t.type._context),null;case 22:case 23:return qp(),null;case 24:return null;default:return null}}var Tl=!1,It=!1,H2=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ji(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(e,t,r)}else n.current=null}function ph(e,t,n){try{n()}catch(r){ft(e,t,r)}}var Nm=!1;function W2(e,t){if(Jf=Nu,e=qv(),kp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qf={focusedElem:e,selectionRange:n},Nu=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Dn(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(R){ft(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return m=Nm,Nm=!1,m}function Ko(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ph(t,n,i)}s=s.next}while(s!==r)}}function Sc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ux(e){var t=e.alternate;t!==null&&(e.alternate=null,Ux(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[ga],delete t[th],delete t[R2],delete t[j2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vx(e){return e.tag===5||e.tag===3||e.tag===4}function Mm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Lu));else if(r!==4&&(e=e.child,e!==null))for(mh(e,t,n),e=e.sibling;e!==null;)mh(e,t,n),e=e.sibling}function yh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yh(e,t,n),e=e.sibling;e!==null;)yh(e,t,n),e=e.sibling}var Rt=null,Fn=!1;function $r(e,t,n){for(n=n.child;n!==null;)Hx(e,t,n),n=n.sibling}function Hx(e,t,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(gc,n)}catch{}switch(n.tag){case 5:It||ji(n,t);case 6:var r=Rt,s=Fn;Rt=null,$r(e,t,n),Rt=r,Fn=s,Rt!==null&&(Fn?(e=Rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(Fn?(e=Rt,n=n.stateNode,e.nodeType===8?Ud(e.parentNode,n):e.nodeType===1&&Ud(e,n),ca(e)):Ud(Rt,n.stateNode));break;case 4:r=Rt,s=Fn,Rt=n.stateNode.containerInfo,Fn=!0,$r(e,t,n),Rt=r,Fn=s;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ph(n,t,o),s=s.next}while(s!==r)}$r(e,t,n);break;case 1:if(!It&&(ji(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,t,a)}$r(e,t,n);break;case 21:$r(e,t,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,$r(e,t,n),It=r):$r(e,t,n);break;default:$r(e,t,n)}}function Im(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new H2),t.forEach(function(r){var s=eS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rt=a.stateNode,Fn=!1;break e;case 3:Rt=a.stateNode.containerInfo,Fn=!0;break e;case 4:Rt=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(Rt===null)throw Error(he(160));Hx(i,o,s),Rt=null,Fn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ft(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wx(t,e),t=t.sibling}function Wx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ln(t,e),rr(e),r&4){try{Ko(3,e,e.return),Sc(3,e)}catch(y){ft(e,e.return,y)}try{Ko(5,e,e.return)}catch(y){ft(e,e.return,y)}}break;case 1:Ln(t,e),rr(e),r&512&&n!==null&&ji(n,n.return);break;case 5:if(Ln(t,e),rr(e),r&512&&n!==null&&ji(n,n.return),e.flags&32){var s=e.stateNode;try{oa(s,"")}catch(y){ft(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hv(s,i),Bf(a,o);var u=Bf(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?vv(s,d):c==="dangerouslySetInnerHTML"?mv(s,d):c==="children"?oa(s,d):dp(s,c,d,u)}switch(a){case"input":Lf(s,i);break;case"textarea":pv(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Oi(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Oi(s,!!i.multiple,i.defaultValue,!0):Oi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ga]=i}catch(y){ft(e,e.return,y)}}break;case 6:if(Ln(t,e),rr(e),r&4){if(e.stateNode===null)throw Error(he(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ft(e,e.return,y)}}break;case 3:if(Ln(t,e),rr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ca(t.containerInfo)}catch(y){ft(e,e.return,y)}break;case 4:Ln(t,e),rr(e);break;case 13:Ln(t,e),rr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hp=gt())),r&4&&Im(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(It=(u=It)||c,Ln(t,e),It=u):Ln(t,e),rr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(xe=e,c=e.child;c!==null;){for(d=xe=c;xe!==null;){switch(f=xe,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ko(4,f,f.return);break;case 1:ji(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){ft(r,n,y)}}break;case 5:ji(f,f.return);break;case 22:if(f.memoizedState!==null){Dm(d);continue}}p!==null?(p.return=f,xe=p):Dm(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yv("display",o))}catch(y){ft(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ft(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ln(t,e),rr(e),r&4&&Im(e);break;case 21:break;default:Ln(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vx(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(oa(s,""),r.flags&=-33);var i=Mm(e);yh(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mm(e);mh(e,a,o);break;default:throw Error(he(161))}}catch(l){ft(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q2(e,t,n){xe=e,qx(e)}function qx(e,t,n){for(var r=(e.mode&1)!==0;xe!==null;){var s=xe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Tl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||It;a=Tl;var u=It;if(Tl=o,(It=l)&&!u)for(xe=s;xe!==null;)o=xe,l=o.child,o.tag===22&&o.memoizedState!==null?Fm(s):l!==null?(l.return=o,xe=l):Fm(s);for(;i!==null;)xe=i,qx(i),i=i.sibling;xe=s,Tl=a,It=u}Lm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,xe=i):Lm(e)}}function Lm(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:It||Sc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!It)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Dn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wm(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wm(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ca(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}It||t.flags&512&&gh(t)}catch(f){ft(t,t.return,f)}}if(t===e){xe=null;break}if(n=t.sibling,n!==null){n.return=t.return,xe=n;break}xe=t.return}}function Dm(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xe=n;break}xe=t.return}}function Fm(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sc(4,t)}catch(l){ft(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ft(t,s,l)}}var i=t.return;try{gh(t)}catch(l){ft(t,i,l)}break;case 5:var o=t.return;try{gh(t)}catch(l){ft(t,o,l)}}}catch(l){ft(t,t.return,l)}if(t===e){xe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,xe=a;break}xe=t.return}}var G2=Math.ceil,Gu=Ir.ReactCurrentDispatcher,Up=Ir.ReactCurrentOwner,Rn=Ir.ReactCurrentBatchConfig,Be=0,Et=null,yt=null,jt=0,cn=0,Pi=vs(0),_t=0,_a=null,Xs=0,kc=0,Vp=0,Yo=null,Qt=null,Hp=0,qi=1/0,xr=null,Ku=!1,vh=null,is=null,Ol=!1,Xr=null,Yu=0,Xo=0,xh=null,du=-1,fu=0;function Wt(){return Be&6?gt():du!==-1?du:du=gt()}function os(e){return e.mode&1?Be&2&&jt!==0?jt&-jt:T2.transition!==null?(fu===0&&(fu=Tv()),fu):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:Dv(e.type)),e):1}function Hn(e,t,n,r){if(50<Xo)throw Xo=0,xh=null,Error(he(185));Na(e,n,r),(!(Be&2)||e!==Et)&&(e===Et&&(!(Be&2)&&(kc|=n),_t===4&&Gr(e,jt)),sn(e,r),n===1&&Be===0&&!(t.mode&1)&&(qi=gt()+500,wc&&xs()))}function sn(e,t){var n=e.callbackNode;Tb(e,t);var r=Au(e,e===Et?jt:0);if(r===0)n!==null&&Gg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gg(n),t===1)e.tag===0?P2($m.bind(null,e)):nx($m.bind(null,e)),C2(function(){!(Be&6)&&xs()}),n=null;else{switch(Ov(r)){case 1:n=mp;break;case 4:n=jv;break;case 16:n=Ou;break;case 536870912:n=Pv;break;default:n=Ou}n=e1(n,Gx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gx(e,t){if(du=-1,fu=0,Be&6)throw Error(he(327));var n=e.callbackNode;if(Li()&&e.callbackNode!==n)return null;var r=Au(e,e===Et?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Xu(e,r);else{t=r;var s=Be;Be|=2;var i=Yx();(Et!==e||jt!==t)&&(xr=null,qi=gt()+500,Bs(e,t));do try{X2();break}catch(a){Kx(e,a)}while(!0);Pp(),Gu.current=i,Be=s,yt!==null?t=0:(Et=null,jt=0,t=_t)}if(t!==0){if(t===2&&(s=qf(e),s!==0&&(r=s,t=wh(e,s))),t===1)throw n=_a,Bs(e,0),Gr(e,r),sn(e,gt()),n;if(t===6)Gr(e,r);else{if(s=e.current.alternate,!(r&30)&&!K2(s)&&(t=Xu(e,r),t===2&&(i=qf(e),i!==0&&(r=i,t=wh(e,i))),t===1))throw n=_a,Bs(e,0),Gr(e,r),sn(e,gt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:As(e,Qt,xr);break;case 3:if(Gr(e,r),(r&130023424)===r&&(t=Hp+500-gt(),10<t)){if(Au(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eh(As.bind(null,e,Qt,xr),t);break}As(e,Qt,xr);break;case 4:if(Gr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Vn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G2(r/1960))-r,10<r){e.timeoutHandle=eh(As.bind(null,e,Qt,xr),r);break}As(e,Qt,xr);break;case 5:As(e,Qt,xr);break;default:throw Error(he(329))}}}return sn(e,gt()),e.callbackNode===n?Gx.bind(null,e):null}function wh(e,t){var n=Yo;return e.current.memoizedState.isDehydrated&&(Bs(e,t).flags|=256),e=Xu(e,t),e!==2&&(t=Qt,Qt=n,t!==null&&_h(t)),e}function _h(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function K2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gr(e,t){for(t&=~Vp,t&=~kc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vn(t),r=1<<n;e[n]=-1,t&=~r}}function $m(e){if(Be&6)throw Error(he(327));Li();var t=Au(e,0);if(!(t&1))return sn(e,gt()),null;var n=Xu(e,t);if(e.tag!==0&&n===2){var r=qf(e);r!==0&&(t=r,n=wh(e,r))}if(n===1)throw n=_a,Bs(e,0),Gr(e,t),sn(e,gt()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e,Qt,xr),sn(e,gt()),null}function Wp(e,t){var n=Be;Be|=1;try{return e(t)}finally{Be=n,Be===0&&(qi=gt()+500,wc&&xs())}}function Js(e){Xr!==null&&Xr.tag===0&&!(Be&6)&&Li();var t=Be;Be|=1;var n=Rn.transition,r=Ke;try{if(Rn.transition=null,Ke=1,e)return e()}finally{Ke=r,Rn.transition=n,Be=t,!(Be&6)&&xs()}}function qp(){cn=Pi.current,tt(Pi)}function Bs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,k2(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Ep(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Du();break;case 3:Hi(),tt(nn),tt($t),Ip();break;case 5:Mp(r);break;case 4:Hi();break;case 13:tt(at);break;case 19:tt(at);break;case 10:Tp(r.type._context);break;case 22:case 23:qp()}n=n.return}if(Et=e,yt=e=as(e.current,null),jt=cn=t,_t=0,_a=null,Vp=kc=Xs=0,Qt=Yo=null,Ds!==null){for(t=0;t<Ds.length;t++)if(n=Ds[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ds=null}return e}function Kx(e,t){do{var n=yt;try{if(Pp(),lu.current=qu,Wu){for(var r=lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wu=!1}if(Ys=0,Ct=xt=lt=null,Go=!1,va=0,Up.current=null,n===null||n.return===null){_t=1,_a=t,yt=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Em(o);if(p!==null){p.flags&=-257,Rm(p,o,a,i,t),p.mode&1&&Cm(i,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break e}else{if(!(t&1)){Cm(i,u,t),Gp();break e}l=Error(he(426))}}else if(it&&a.mode&1){var b=Em(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Rm(b,o,a,i,t),Rp(Wi(l,a));break e}}i=l=Wi(l,a),_t!==4&&(_t=2),Yo===null?Yo=[i]:Yo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Ox(i,l,t);xm(i,v);break e;case 1:a=l;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(is===null||!is.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var R=Ax(i,a,t);xm(i,R);break e}}i=i.return}while(i!==null)}Jx(n)}catch(P){t=P,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function Yx(){var e=Gu.current;return Gu.current=qu,e===null?qu:e}function Gp(){(_t===0||_t===3||_t===2)&&(_t=4),Et===null||!(Xs&268435455)&&!(kc&268435455)||Gr(Et,jt)}function Xu(e,t){var n=Be;Be|=2;var r=Yx();(Et!==e||jt!==t)&&(xr=null,Bs(e,t));do try{Y2();break}catch(s){Kx(e,s)}while(!0);if(Pp(),Be=n,Gu.current=r,yt!==null)throw Error(he(261));return Et=null,jt=0,_t}function Y2(){for(;yt!==null;)Xx(yt)}function X2(){for(;yt!==null&&!_b();)Xx(yt)}function Xx(e){var t=Zx(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?Jx(e):yt=t,Up.current=null}function Jx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=V2(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_t=6,yt=null;return}}else if(n=U2(n,t,cn),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);_t===0&&(_t=5)}function As(e,t,n){var r=Ke,s=Rn.transition;try{Rn.transition=null,Ke=1,J2(e,t,n,r)}finally{Rn.transition=s,Ke=r}return null}function J2(e,t,n,r){do Li();while(Xr!==null);if(Be&6)throw Error(he(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ob(e,i),e===Et&&(yt=Et=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ol||(Ol=!0,e1(Ou,function(){return Li(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rn.transition,Rn.transition=null;var o=Ke;Ke=1;var a=Be;Be|=4,Up.current=null,W2(e,n),Wx(n,e),y2(Qf),Nu=!!Jf,Qf=Jf=null,e.current=n,q2(n),bb(),Be=a,Ke=o,Rn.transition=i}else e.current=n;if(Ol&&(Ol=!1,Xr=e,Yu=s),i=e.pendingLanes,i===0&&(is=null),Cb(n.stateNode),sn(e,gt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ku)throw Ku=!1,e=vh,vh=null,e;return Yu&1&&e.tag!==0&&Li(),i=e.pendingLanes,i&1?e===xh?Xo++:(Xo=0,xh=e):Xo=0,xs(),null}function Li(){if(Xr!==null){var e=Ov(Yu),t=Rn.transition,n=Ke;try{if(Rn.transition=null,Ke=16>e?16:e,Xr===null)var r=!1;else{if(e=Xr,Xr=null,Yu=0,Be&6)throw Error(he(331));var s=Be;for(Be|=4,xe=e.current;xe!==null;){var i=xe,o=i.child;if(xe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(xe=u;xe!==null;){var c=xe;switch(c.tag){case 0:case 11:case 15:Ko(8,c,i)}var d=c.child;if(d!==null)d.return=c,xe=d;else for(;xe!==null;){c=xe;var f=c.sibling,p=c.return;if(Ux(c),c===u){xe=null;break}if(f!==null){f.return=p,xe=f;break}xe=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}xe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,xe=o;else e:for(;xe!==null;){if(i=xe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ko(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,xe=v;break e}xe=i.return}}var w=e.current;for(xe=w;xe!==null;){o=xe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,xe=x;else e:for(o=w;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sc(9,a)}}catch(P){ft(a,a.return,P)}if(a===o){xe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,xe=R;break e}xe=a.return}}if(Be=s,xs(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(gc,e)}catch{}r=!0}return r}finally{Ke=n,Rn.transition=t}}return!1}function zm(e,t,n){t=Wi(n,t),t=Ox(e,t,1),e=ss(e,t,1),t=Wt(),e!==null&&(Na(e,1,t),sn(e,t))}function ft(e,t,n){if(e.tag===3)zm(e,e,n);else for(;t!==null;){if(t.tag===3){zm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){e=Wi(n,e),e=Ax(t,e,1),t=ss(t,e,1),e=Wt(),t!==null&&(Na(t,1,e),sn(t,e));break}}t=t.return}}function Q2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,Et===e&&(jt&n)===n&&(_t===4||_t===3&&(jt&130023424)===jt&&500>gt()-Hp?Bs(e,0):Vp|=n),sn(e,t)}function Qx(e,t){t===0&&(e.mode&1?(t=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):t=1);var n=Wt();e=Or(e,t),e!==null&&(Na(e,t,n),sn(e,n))}function Z2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qx(e,n)}function eS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),Qx(e,n)}var Zx;Zx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nn.current)tn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tn=!1,B2(e,t,n);tn=!!(e.flags&131072)}else tn=!1,it&&t.flags&1048576&&rx(t,zu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cu(e,t),e=t.pendingProps;var s=Bi(t,$t.current);Ii(t,n),s=Dp(null,t,r,e,s,n);var i=Fp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(r)?(i=!0,Fu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ap(t),s.updater=bc,t.stateNode=s,s._reactInternals=t,ah(t,r,e,n),t=ch(null,t,r,!0,i,n)):(t.tag=0,it&&i&&Cp(t),Vt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=nS(r),e=Dn(r,e),s){case 0:t=uh(null,t,r,e,n);break e;case 1:t=Tm(null,t,r,e,n);break e;case 11:t=jm(null,t,r,e,n);break e;case 14:t=Pm(null,t,r,Dn(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dn(r,s),uh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dn(r,s),Tm(e,t,r,s,n);case 3:e:{if(Lx(t),e===null)throw Error(he(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ux(e,t),Vu(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Wi(Error(he(423)),t),t=Om(e,t,r,n,s);break e}else if(r!==s){s=Wi(Error(he(424)),t),t=Om(e,t,r,n,s);break e}else for(dn=rs(t.stateNode.containerInfo.firstChild),hn=t,it=!0,zn=null,n=ax(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ui(),r===s){t=Ar(e,t,n);break e}Vt(e,t,r,n)}t=t.child}return t;case 5:return cx(t),e===null&&sh(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Zf(r,s)?o=null:i!==null&&Zf(r,i)&&(t.flags|=32),Ix(e,t),Vt(e,t,o,n),t.child;case 6:return e===null&&sh(t),null;case 13:return Dx(e,t,n);case 4:return Np(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vi(t,null,r,n):Vt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dn(r,s),jm(e,t,r,s,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Qe(Bu,r._currentValue),r._currentValue=o,i!==null)if(Gn(i.value,o)){if(i.children===s.children&&!nn.current){t=Ar(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Rr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ih(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(he(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ih(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ii(t,n),s=jn(s),r=r(s),t.flags|=1,Vt(e,t,r,n),t.child;case 14:return r=t.type,s=Dn(r,t.pendingProps),s=Dn(r.type,s),Pm(e,t,r,s,n);case 15:return Nx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dn(r,s),cu(e,t),t.tag=1,rn(r)?(e=!0,Fu(t)):e=!1,Ii(t,n),Tx(t,r,s),ah(t,r,s,n),ch(null,t,r,!0,e,n);case 19:return Fx(e,t,n);case 22:return Mx(e,t,n)}throw Error(he(156,t.tag))};function e1(e,t){return Rv(e,t)}function tS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,r){return new tS(e,t,n,r)}function Kp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nS(e){if(typeof e=="function")return Kp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hp)return 11;if(e===pp)return 14}return 2}function as(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hu(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Kp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xi:return Us(n.children,s,i,t);case fp:o=8,s|=8;break;case Of:return e=Cn(12,n,t,s|2),e.elementType=Of,e.lanes=i,e;case Af:return e=Cn(13,n,t,s),e.elementType=Af,e.lanes=i,e;case Nf:return e=Cn(19,n,t,s),e.elementType=Nf,e.lanes=i,e;case cv:return Cc(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lv:o=10;break e;case uv:o=9;break e;case hp:o=11;break e;case pp:o=14;break e;case Vr:o=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=Cn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Us(e,t,n,r){return e=Cn(7,e,r,t),e.lanes=n,e}function Cc(e,t,n,r){return e=Cn(22,e,r,t),e.elementType=cv,e.lanes=n,e.stateNode={isHidden:!1},e}function Xd(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function Jd(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Od(0),this.expirationTimes=Od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Od(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yp(e,t,n,r,s,i,o,a,l){return e=new rS(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Cn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(i),e}function sS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function t1(e){if(!e)return fs;e=e._reactInternals;e:{if(ni(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(rn(n))return tx(e,n,t)}return t}function n1(e,t,n,r,s,i,o,a,l){return e=Yp(n,r,!0,e,s,i,o,a,l),e.context=t1(null),n=e.current,r=Wt(),s=os(n),i=Rr(r,s),i.callback=t??null,ss(n,i,s),e.current.lanes=s,Na(e,s,r),sn(e,r),e}function Ec(e,t,n,r){var s=t.current,i=Wt(),o=os(s);return n=t1(n),t.context===null?t.context=n:t.pendingContext=n,t=Rr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ss(s,t,o),e!==null&&(Hn(e,s,o,i),au(e,s,o)),o}function Ju(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xp(e,t){Bm(e,t),(e=e.alternate)&&Bm(e,t)}function iS(){return null}var r1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jp(e){this._internalRoot=e}Rc.prototype.render=Jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));Ec(e,t,null,null)};Rc.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){Ec(null,e,null,null)}),t[Tr]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qr.length&&t!==0&&t<qr[n].priority;n++);qr.splice(n,0,e),n===0&&Lv(e)}};function Qp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Um(){}function oS(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ju(o);i.call(u)}}var o=n1(t,r,e,0,null,!1,!1,"",Um);return e._reactRootContainer=o,e[Tr]=o.current,ha(e.nodeType===8?e.parentNode:e),Js(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ju(l);a.call(u)}}var l=Yp(e,0,!1,null,null,!1,!1,"",Um);return e._reactRootContainer=l,e[Tr]=l.current,ha(e.nodeType===8?e.parentNode:e),Js(function(){Ec(t,l,n,r)}),l}function Pc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ju(o);a.call(l)}}Ec(t,o,e,s)}else o=oS(n,t,e,s,r);return Ju(o)}Av=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lo(t.pendingLanes);n!==0&&(yp(t,n|1),sn(t,gt()),!(Be&6)&&(qi=gt()+500,xs()))}break;case 13:Js(function(){var r=Or(e,1);if(r!==null){var s=Wt();Hn(r,e,1,s)}}),Xp(e,1)}};vp=function(e){if(e.tag===13){var t=Or(e,134217728);if(t!==null){var n=Wt();Hn(t,e,134217728,n)}Xp(e,134217728)}};Nv=function(e){if(e.tag===13){var t=os(e),n=Or(e,t);if(n!==null){var r=Wt();Hn(n,e,t,r)}Xp(e,t)}};Mv=function(){return Ke};Iv=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};Vf=function(e,t,n){switch(t){case"input":if(Lf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xc(r);if(!s)throw Error(he(90));fv(r),Lf(r,s)}}}break;case"textarea":pv(e,n);break;case"select":t=n.value,t!=null&&Oi(e,!!n.multiple,t,!1)}};_v=Wp;bv=Js;var aS={usingClientEntryPoint:!1,Events:[Ia,Si,xc,xv,wv,Wp]},bo={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lS={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cv(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{gc=Al.inject(lS),dr=Al}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aS;vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qp(t))throw Error(he(200));return sS(e,t,null,n)};vn.createRoot=function(e,t){if(!Qp(e))throw Error(he(299));var n=!1,r="",s=r1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yp(e,1,!1,null,null,n,!1,r,s),e[Tr]=t.current,ha(e.nodeType===8?e.parentNode:e),new Jp(t)};vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=Cv(t),e=e===null?null:e.stateNode,e};vn.flushSync=function(e){return Js(e)};vn.hydrate=function(e,t,n){if(!jc(t))throw Error(he(200));return Pc(null,e,t,!0,n)};vn.hydrateRoot=function(e,t,n){if(!Qp(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=r1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=n1(t,null,e,1,n??null,s,!1,i,o),e[Tr]=t.current,ha(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Rc(t)};vn.render=function(e,t,n){if(!jc(t))throw Error(he(200));return Pc(null,e,t,!1,n)};vn.unmountComponentAtNode=function(e){if(!jc(e))throw Error(he(40));return e._reactRootContainer?(Js(function(){Pc(null,null,e,!1,function(){e._reactRootContainer=null,e[Tr]=null})}),!0):!1};vn.unstable_batchedUpdates=Wp;vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jc(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Pc(e,t,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function s1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s1)}catch(e){console.error(e)}}s1(),sv.exports=vn;var uS=sv.exports,i1,Vm=uS;i1=Vm.createRoot,Vm.hydrateRoot;const cS="modulepreload",dS=function(e){return"/"+e},Hm={},Gi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=dS(l),l in Hm)return;Hm[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":cS,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},fS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gi(async()=>{const{default:r}=await Promise.resolve().then(()=>eo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Zp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class hS extends Zp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pS extends Zp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gS extends Zp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bh||(bh={}));var mS=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class yS{constructor(t,{headers:n={},customFetch:r,region:s=bh.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=fS(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return mS(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(m=>{throw new hS(m)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new pS(c);if(!c.ok)throw new gS(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield c.json():f==="application/octet-stream"?p=yield c.blob():f==="text/event-stream"?p=c:f==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Zt={},eg={},Tc={},Da={},Oc={},Ac={},vS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ki=vS();const xS=Ki.fetch,o1=Ki.fetch.bind(Ki),a1=Ki.Headers,wS=Ki.Request,_S=Ki.Response,eo=Object.freeze(Object.defineProperty({__proto__:null,Headers:a1,Request:wS,Response:_S,default:o1,fetch:xS},Symbol.toStringTag,{value:"Module"})),bS=D_(eo);var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});let SS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Nc.default=SS;var l1=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ac,"__esModule",{value:!0});const kS=l1(bS),CS=l1(Nc);let ES=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=kS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=v:c=JSON.parse(v))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,p="OK")}catch{i.status===404&&y===""?(f=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new CS.default(u)}return{error:u,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Ac.default=ES;var RS=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oc,"__esModule",{value:!0});const jS=RS(Ac);let PS=class extends jS.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Oc.default=PS;var TS=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Da,"__esModule",{value:!0});const OS=TS(Oc);let AS=class extends OS.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Da.default=AS;var NS=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tc,"__esModule",{value:!0});const So=NS(Da);let MS=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new So.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new So.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new So.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new So.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new So.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Tc.default=MS;var Mc={},Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.version=void 0;Ic.version="0.0.0-automated";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.DEFAULT_HEADERS=void 0;const IS=Ic;Mc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${IS.version}`};var u1=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eg,"__esModule",{value:!0});const LS=u1(Tc),DS=u1(Da),FS=Mc;let $S=class c1{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},FS.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new LS.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new c1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new DS.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};eg.default=$S;var to=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.PostgrestError=Zt.PostgrestBuilder=Zt.PostgrestTransformBuilder=Zt.PostgrestFilterBuilder=Zt.PostgrestQueryBuilder=Zt.PostgrestClient=void 0;const d1=to(eg);Zt.PostgrestClient=d1.default;const f1=to(Tc);Zt.PostgrestQueryBuilder=f1.default;const h1=to(Da);Zt.PostgrestFilterBuilder=h1.default;const p1=to(Oc);Zt.PostgrestTransformBuilder=p1.default;const g1=to(Ac);Zt.PostgrestBuilder=g1.default;const m1=to(Nc);Zt.PostgrestError=m1.default;var zS=Zt.default={PostgrestClient:d1.default,PostgrestQueryBuilder:f1.default,PostgrestFilterBuilder:h1.default,PostgrestTransformBuilder:p1.default,PostgrestBuilder:g1.default,PostgrestError:m1.default};const{PostgrestClient:BS,PostgrestQueryBuilder:fM,PostgrestFilterBuilder:hM,PostgrestTransformBuilder:pM,PostgrestBuilder:gM,PostgrestError:mM}=zS,US="2.11.2",VS={"X-Client-Info":`realtime-js/${US}`},HS="1.0.0",y1=1e4,WS=1e3;var Di;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Di||(Di={}));var un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(un||(un={}));var $n;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($n||($n={}));var Sh;(function(e){e.websocket="websocket"})(Sh||(Sh={}));var Is;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Is||(Is={}));class qS{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class v1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Je||(Je={}));const Wm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=GS(o,e,t,s),i),{})},GS=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?x1(i,o):kh(o)},x1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return JS(t,n)}switch(e){case Je.bool:return KS(t);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return YS(t);case Je.json:case Je.jsonb:return XS(t);case Je.timestamp:return QS(t);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return kh(t);default:return kh(t)}},kh=e=>e,KS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},YS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>x1(t,a))}return e},QS=e=>typeof e=="string"?e.replace(" ","T"):e,w1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Qd{constructor(t,n,r={},s=y1){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qm||(qm={}));class Jo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Jo.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jo.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const f=c.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),m=c.filter(b=>p.indexOf(b.presence_ref)<0),y=d.filter(b=>f.indexOf(b.presence_ref)<0);m.length>0&&(a[u]=m),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(p=>p.presence_ref),f=c.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gm||(Gm={}));var Km;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Km||(Km={}));var wr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class tg{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qd(this,$n.join,this.params,this.timeout),this.rejoinTimer=new v1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=un.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Jo(this),this.broadcastEndpointURL=w1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(wr.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(wr.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){t==null||t(wr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,m=[];for(let y=0;y<p;y++){const b=f[y],{filter:{event:v,schema:w,table:x,filter:R}}=b,P=c&&c[y];if(P&&P.event===v&&P.schema===w&&P.table===x&&P.filter===R)m.push(Object.assign(Object.assign({},b),{id:P.id}));else{this.unsubscribe(),t==null||t(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(wr.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Qd(this,$n.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Qd(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=$n;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,y,b;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(y=p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,y,b,v,w,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const R=p.id,P=(m=p.filter)===null||m===void 0?void 0:m.event;return R&&((y=n.ids)===null||y===void 0?void 0:y.includes(R))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const R=(w=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return R==="*"||R===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:y,table:b,commit_timestamp:v,type:w,errors:x}=m;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===un.closed}_isJoined(){return this.state===un.joined}_isJoining(){return this.state===un.joining}_isLeaving(){return this.state===un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&tg.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($n.close,{},t)}_onError(t){this._on($n.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Wm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Wm(t.columns,t.old_record)),n}}const ZS=()=>{},ek=typeof WebSocket<"u",tk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nk{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=VS,this.params={},this.timeout=y1,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ZS,this.conn=null,this.sendBuffer=[],this.serializer=new qS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Gi(async()=>{const{default:l}=await Promise.resolve().then(()=>eo);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Sh.websocket}`,this.httpEndpoint=w1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new v1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ek){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new rk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Gi(async()=>{const{default:t}=await import("./browser-DOA4j8zY.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HS}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Di.connecting:return Is.Connecting;case Di.open:return Is.Open;case Di.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}channel(t,n={config:{}}){const r=new tg(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push($n.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(WS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger($n.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([tk],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class rk{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Di.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ng extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sk extends ng{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ch extends ng{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ik=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const _1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gi(async()=>{const{default:r}=await Promise.resolve().then(()=>eo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ok=()=>ik(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gi(()=>Promise.resolve().then(()=>eo),void 0)).Response:Response}),Eh=e=>{if(Array.isArray(e))return e.map(n=>Eh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Eh(r)}),t};var ri=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Zd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ak=(e,t,n)=>ri(void 0,void 0,void 0,function*(){const r=yield ok();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new sk(Zd(s),e.status||500))}).catch(s=>{t(new Ch(Zd(s),s))}):t(new Ch(Zd(e),e))}),lk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Fa(e,t,n,r,s,i){return ri(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,lk(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ak(l,a,r))})})}function Qu(e,t,n,r){return ri(this,void 0,void 0,function*(){return Fa(e,"GET",t,n,r)})}function Wr(e,t,n,r,s){return ri(this,void 0,void 0,function*(){return Fa(e,"POST",t,r,s,n)})}function uk(e,t,n,r,s){return ri(this,void 0,void 0,function*(){return Fa(e,"PUT",t,r,s,n)})}function ck(e,t,n,r){return ri(this,void 0,void 0,function*(){return Fa(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function b1(e,t,n,r,s){return ri(this,void 0,void 0,function*(){return Fa(e,"DELETE",t,r,s,n)})}var Xt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const dk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ym={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fk{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=_1(s)}uploadOrUpdate(t,n,r,s){return Xt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ym),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Xt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Ym.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Xt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Wr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ng("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Xt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Wr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Xt(this,void 0,void 0,function*(){try{const s=yield Wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}download(t,n){return Xt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Qu(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}info(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Qu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Eh(r),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}exists(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ck(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(kt(r)&&r instanceof Ch){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield b1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dk),n),{prefix:t||""});return{data:yield Wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const hk="2.7.1",pk={"X-Client-Info":`storage-js/${hk}`};var fi=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class gk{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},pk),n),this.fetch=_1(r)}listBuckets(){return fi(this,void 0,void 0,function*(){try{return{data:yield Qu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kt(t))return{data:null,error:t};throw t}})}getBucket(t){return fi(this,void 0,void 0,function*(){try{return{data:yield Qu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return fi(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return fi(this,void 0,void 0,function*(){try{return{data:yield uk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return fi(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return fi(this,void 0,void 0,function*(){try{return{data:yield b1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}}class mk extends gk{constructor(t,n={},r){super(t,n,r)}from(t){return new fk(this.url,this.headers,t,this.fetch)}}const yk="2.49.4";let Fo="";typeof Deno<"u"?Fo="deno":typeof document<"u"?Fo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fo="react-native":Fo="node";const vk={"X-Client-Info":`supabase-js-${Fo}/${yk}`},xk={headers:vk},wk={schema:"public"},_k={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bk={};var Sk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const kk=e=>{let t;return e?t=e:typeof fetch>"u"?t=o1:t=fetch,(...n)=>t(...n)},Ck=()=>typeof Headers>"u"?a1:Headers,Ek=(e,t,n)=>{const r=kk(n),s=Ck();return(i,o)=>Sk(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Rk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function jk(e){return e.replace(/\/$/,"")}function Pk(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Rk(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const S1="2.69.1",mi=30*1e3,Rh=3,ef=Rh*mi,Tk="http://localhost:9999",Ok="supabase.auth.token",Ak={"X-Client-Info":`gotrue-js/${S1}`},jh="X-Supabase-Api-Version",k1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mk=6e5;class rg extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ik extends rg{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Lk(e){return Oe(e)&&e.name==="AuthApiError"}class C1 extends rg{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ws extends rg{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Br extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dk(e){return Oe(e)&&e.name==="AuthSessionMissingError"}class tf extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nl extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ml extends ws{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fk(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xm extends ws{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ph extends ws{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nf(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}class Jm extends ws{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Qo extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zm=` 	
\r=`.split(""),$k=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zm.length;t+=1)e[Zm[t].charCodeAt(0)]=-2;for(let t=0;t<Qm.length;t+=1)e[Qm[t].charCodeAt(0)]=t;return e})();function E1(e,t,n){const r=$k[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function e0(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Uk(o,r,n)};for(let o=0;o<e.length;o+=1)E1(e.charCodeAt(o),s,i);return t.join("")}function zk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bk(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}zk(r,t)}}function Uk(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Vk(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)E1(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Hk(e){const t=[];return Bk(e,n=>t.push(n)),new Uint8Array(t)}function Wk(e){return Math.round(Date.now()/1e3)+e}function qk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const or=()=>typeof window<"u"&&typeof document<"u",Es={tested:!1,writable:!1},Zo=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Es.tested)return Es.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Es.tested=!0,Es.writable=!0}catch{Es.tested=!0,Es.writable=!1}return Es.writable};function Gk(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const R1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gi(async()=>{const{default:r}=await Promise.resolve().then(()=>eo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Kk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",j1=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Il=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ll=async(e,t)=>{await e.removeItem(t)};class Lc{constructor(){this.promise=new Lc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Lc.promiseConstructor=Promise;function rf(e){const t=e.split(".");if(t.length!==3)throw new Qo("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Nk.test(t[r]))throw new Qo("JWT not in base64url format");return{header:JSON.parse(e0(t[0])),payload:JSON.parse(e0(t[1])),signature:Vk(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xk(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Jk(e){return("0"+e.toString(16)).substr(-2)}function Qk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Jk).join("")}async function Zk(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function eC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Zk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hi(e,t,n=!1){const r=Qk();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await j1(e,`${t}-code-verifier`,s);const i=await eC(r);return[i,r===i?"plain":"s256"]}const tC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nC(e){const t=e.headers.get(jh);if(!t||!t.match(tC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var iC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Ns=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oC=[502,503,504];async function t0(e){var t;if(!Kk(e))throw new Ph(Ns(e),0);if(oC.includes(e.status))throw new Ph(Ns(e),e.status);let n;try{n=await e.json()}catch(i){throw new C1(Ns(i),i)}let r;const s=nC(e);if(s&&s.getTime()>=k1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Jm(Ns(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Br}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Jm(Ns(n),e.status,n.weak_password.reasons);throw new Ik(Ns(n),e.status||500,r)}const aC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Le(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[jh]||(i[jh]=k1["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await lC(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function lC(e,t,n,r,s,i){const o=aC(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Ph(Ns(l),0)}if(a.ok||await t0(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await t0(l)}}function Ur(e){var t;let n=null;fC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Wk(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function n0(e){const t=Ur(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uC(e){return{data:e,error:null}}function cC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=iC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function dC(e){return e}function fC(e){return e.access_token&&e.refresh_token&&e.expires_in}var hC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class pC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=R1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kr})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=hC(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kr})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:dC});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kr})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kr})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kr})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}}const gC={getItem:e=>Zo()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Zo()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Zo()&&globalThis.localStorage.removeItem(e)}};function r0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function mC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pi={debug:!!(globalThis&&Zo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yC extends P1{}async function vC(e,t,n){pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),pi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(pi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}mC();const xC={url:Tk,storageKey:Ok,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ak,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function s0(e,t,n){return await n()}class ba{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ba.nextInstanceID,ba.nextInstanceID+=1,this.instanceID>0&&or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new pC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=R1(s.fetch),this.lock=s.lock||s0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:or()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vC:this.lock=s0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Zo()?this.storage=gC:(this.memoryStorage={},this.storage=r0(this.memoryStorage)):(this.memoryStorage={},this.storage=r0(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${S1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Gk(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),or()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fk(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Oe(n)?{error:n}:{error:new C1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ur}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Oe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:d,options:f}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await hi(this.storage,this.storageKey)),i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ur})}else if("phone"in t){const{phone:c,password:d,options:f}=t;i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ur})}else throw new Nl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:n0})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:n0})}else throw new Nl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new tf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Il(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ur});if(await Ll(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new tf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Oe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ur}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new tf}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await hi(this.storage,this.storageKey));const{error:d}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Nl("You must provide either an email or phone number.")}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ur});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hi(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:uC})}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Br;const{error:s}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Nl("You must provide either an email or phone number and a type")}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Il(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ef:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Br}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kr})})}catch(n){if(Oe(n))return Dk(n)&&(await this._removeSession(),await Ll(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Br;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await hi(this.storage,this.storageKey));const{data:u,error:c}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Kr});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Br;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=rf(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Br;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!or())throw new Ml("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ml(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ml("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xm("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Ml("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const p=f-c;p*1e3<=mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(Oe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Il(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Lk(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ll(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=qk(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await hi(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return or()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Oe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Xk(async s=>(s>0&&await Yk(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ur})),(s,i)=>{const o=200*Math.pow(2,s);return i&&nf(i)&&Date.now()+o-r<mi})}catch(r){if(this._debug(n,"error",r),Oe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),or()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Il(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ef;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ef}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),nf(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Br;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Oe(i)){const o={session:null,error:i};return nf(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await j1(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ll(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mi}ms, refresh threshold is ${Rh} ticks`),s<=Rh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof P1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await hi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rf(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Mk>Date.now()))return r;const{data:s,error:i}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Qo("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new Qo("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=rf(r);if(rC(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=sC(s.alg),c=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Hk(`${a}.${l}`)))throw new Qo("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}}ba.nextInstanceID=0;const wC=ba;class _C extends wC{constructor(t){super(t)}}var bC=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class SC{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=jk(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:wk,realtime:bk,auth:Object.assign(Object.assign({},_k),{storageKey:l}),global:xk},c=Pk(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Ek(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new BS(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new yS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mk(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return bC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _C({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new nk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const T1=(e,t,n)=>new SC(e,t,n),Vs="https://jjtdvdbfbsdcoyehubmx.supabase.co",kC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqdGR2ZGJmYnNkY295ZWh1Ym14Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUyOTcyNzAsImV4cCI6MjA2MDg3MzI3MH0.TtRDY8WdcvGCm39kOqodZoU8xQ_k4E7zO1NLfbtpPhA";console.log(" Supabase configuration found:"),console.log("- URL:",Vs),console.log("- Key available:",!0);console.log("URL starts with:",(Vs==null?void 0:Vs.substring(0,15))+"...");let pu;const CC=!1;try{console.log("Creating Supabase client..."),CC&&(!Vs.includes("supabase.co")||Vs.includes("example"))||(pu=T1(Vs,kC,{auth:{persistSession:!0,autoRefreshToken:!0,storageKey:"inventory-system-auth-storage",detectSessionInUrl:!1,debug:!0}}),console.log(" Supabase client created successfully")),pu.auth.onAuthStateChange((e,t)=>{console.log("Auth state changed event:",e),console.log("User authenticated:",!!(t!=null&&t.user))})}catch(e){console.error(" Failed to create Supabase client:",e),pu={auth:{signInWithPassword:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}}),signUp:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}}),signOut:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}}),getSession:()=>Promise.resolve({data:{session:null}}),onAuthStateChange:()=>({subscription:{unsubscribe:()=>{}}})},from:()=>({select:()=>({limit:()=>({maybeSingle:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}})})})})}}const Ne=pu,EC=async()=>{try{const{data:{session:e},error:t}=await Ne.auth.getSession();return t?(console.error("Session check error:",t),{success:!1,error:t}):e?(console.log("Existing session found. User ID:",e.user.id),{success:!0,session:e,user:e.user}):(console.log("No active session found. User needs to sign in."),{success:!1,requiresAuth:!0})}catch(e){return console.error("Authentication initialization error:",e),{success:!1,error:e}}};EC().then(({success:e,user:t})=>{console.log(`Authentication initialization ${e?"successful":"failed"}`),e&&t&&console.log(`User authenticated: ${t.id}`)}).catch(e=>console.error("Auth init error:",e));const ko={async addOrUpdateInventory(e){var t;if(!e)return console.error("No inventory item data provided"),null;try{const{data:{session:n}}=await Ne.auth.getSession();if(!n)return console.warn("No active session. User must sign in to access the database."),null;const r={...e,updated_at:new Date().toISOString(),created_at:e.created_at||new Date().toISOString(),user_id:n.user.id},{data:s,error:i}=await Ne.from("inventory").upsert(r,{onConflict:"sku, user_id",returning:"minimal"});return i?i.code==="42501"||(t=i.message)!=null&&t.includes("policy")?(console.error("Row Level Security policy violation when adding inventory - check your RLS policies:",i),console.error("Make sure your RLS policies include this condition: auth.uid() = user_id"),null):(console.error("Error adding/updating inventory:",i),null):r}catch(n){return console.error("Failed to add/update inventory:",n),null}},async getInventory(){try{const{data:{session:e}}=await Ne.auth.getSession();if(!e)return console.warn("No active session. User must sign in to access the database."),[];const{data:t,error:n}=await Ne.from("inventory").select("*").eq("user_id",e.user.id).order("updated_at",{ascending:!1});return n?(console.error("Error getting inventory:",n),[]):t||[]}catch(e){return console.error("Failed to get inventory:",e),[]}},async getInventoryBySku(e){if(!e)return null;try{const{data:{session:t}}=await Ne.auth.getSession();if(!t)return console.warn("No active session. User must sign in to access the database."),null;const{data:n,error:r}=await Ne.from("inventory").select("*").eq("sku",e).eq("user_id",t.user.id).maybeSingle();return r?(console.error(`Error getting inventory for SKU ${e}:`,r),null):n}catch(t){return console.error(`Failed to get inventory for SKU ${e}:`,t),null}},async getInventoryItemById(e){if(!e)return null;try{const{data:{session:t}}=await Ne.auth.getSession();if(!t)return console.warn("No active session. User must sign in to access the database."),null;const{data:n,error:r}=await Ne.from("inventory").select("*").eq("id",e).eq("user_id",t.user.id).maybeSingle();return r?(console.error(`Error getting inventory item by ID ${e}:`,r),null):n}catch(t){return console.error(`Failed to get inventory item by ID ${e}:`,t),null}},async updateInventoryQuantity(e,t){if(!e)return console.error("No inventory ID provided"),!1;try{const{data:{session:n}}=await Ne.auth.getSession();if(!n)return console.warn("No active session. User must sign in to access the database."),!1;const{data:r,error:s}=await Ne.from("inventory").update({quantity:t,updated_at:new Date().toISOString()}).eq("id",e).eq("user_id",n.user.id);return s?(console.error("Error updating inventory quantity:",s),!1):!0}catch(n){return console.error("Failed to update inventory quantity:",n),!1}}},O1=M.createContext(null),An=()=>{const e=M.useContext(O1);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},RC=({children:e})=>{const[t,n]=M.useState(null),[r,s]=M.useState(null),[i,o]=M.useState(!0),a=(m,y={})=>{console.log(`AUTH STATE [${m}]:`,{isAuthenticated:!!t,hasSession:!!r,userData:t?{id:t.id,email:t.email}:null,...y})};M.useEffect(()=>{console.log("AuthProvider initialized, checking for session..."),(async()=>{try{console.log("Requesting session from Supabase...");const{data:b,error:v}=await Ne.auth.getSession();v?(console.error("Error getting session:",v),n(null),s(null),a("init-error",{error:v})):b!=null&&b.session?(console.log("Session found:",b.session.user.id),s(b.session),n(b.session.user),a("init-success",{userId:b.session.user.id})):(console.log("No active session found"),a("init-no-session"))}catch(b){console.error("Unexpected error during auth initialization:",b),a("init-exception",{error:b})}finally{o(!1),console.log("Auth initialization complete")}})();const{data:y}=Ne.auth.onAuthStateChange(async(b,v)=>{var w,x;console.log("Auth state changed:",b,(w=v==null?void 0:v.user)==null?void 0:w.id),s(v),n((v==null?void 0:v.user)||null),o(!1),a("state-change",{event:b,userId:(x=v==null?void 0:v.user)==null?void 0:x.id})});return()=>{var b;console.log("Cleaning up auth listener"),(b=y==null?void 0:y.subscription)==null||b.unsubscribe()}},[]);const p={user:t,session:r,loading:i,isAuthenticated:!!t,signIn:async(m,y)=>{var b,v;console.log("SignIn attempt with email:",m);try{o(!0),console.log("Calling Supabase signInWithPassword...");const{data:w,error:x}=await Ne.auth.signInWithPassword({email:m,password:y});return x?(console.error("Supabase login error:",x),a("signin-error",{error:x}),{success:!1,error:x.message,data:null}):(console.log("Sign in successful for user:",(b=w==null?void 0:w.user)==null?void 0:b.id),a("signin-success",{userId:(v=w==null?void 0:w.user)==null?void 0:v.id}),{success:!0,data:w})}catch(w){return console.error("Login exception:",w),a("signin-exception",{error:w}),{success:!1,error:w.message,data:null}}finally{o(!1)}},signUp:async(m,y)=>{var b,v,w;console.log("SignUp attempt with email:",m);try{o(!0);const{data:x,error:R}=await Ne.auth.signUp({email:m,password:y});return R?(console.error("Signup error:",R),a("signup-error",{error:R}),{success:!1,error:R.message}):(console.log("Sign up result:",x),a("signup-success",{userId:(b=x==null?void 0:x.user)==null?void 0:b.id}),((w=(v=x==null?void 0:x.user)==null?void 0:v.identities)==null?void 0:w.length)===0?(console.log("Email confirmation required"),{success:!0,requiresEmailConfirmation:!0,data:x}):{success:!0,data:x})}catch(x){return console.error("Signup exception:",x),a("signup-exception",{error:x}),{success:!1,error:x.message}}finally{o(!1)}},signOut:async()=>{console.log("SignOut attempt");try{o(!0);const{error:m}=await Ne.auth.signOut();return m?(console.error("Signout error:",m),a("signout-error",{error:m}),{success:!1,error:m.message}):(console.log("Sign out successful"),a("signout-success"),{success:!0})}catch(m){return console.error("Signout exception:",m),a("signout-exception",{error:m}),{success:!1,error:m.message}}finally{o(!1)}},hasPermission:m=>(console.log("Permission check:",m),!0),hasRole:m=>(console.log("Role check:",m),!0),currentUser:t};return h.jsx(O1.Provider,{value:p,children:e})};var sg={};Object.defineProperty(sg,"__esModule",{value:!0});sg.parse=MC;sg.serialize=IC;const jC=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,PC=/^[\u0021-\u003A\u003C-\u007E]*$/,TC=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,OC=/^[\u0020-\u003A\u003D-\u007E]*$/,AC=Object.prototype.toString,NC=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function MC(e,t){const n=new NC,r=e.length;if(r<2)return n;const s=(t==null?void 0:t.decode)||LC;let i=0;do{const o=e.indexOf("=",i);if(o===-1)break;const a=e.indexOf(";",i),l=a===-1?r:a;if(o>l){i=e.lastIndexOf(";",o-1)+1;continue}const u=i0(e,i,o),c=o0(e,o,u),d=e.slice(u,c);if(n[d]===void 0){let f=i0(e,o+1,l),p=o0(e,l,f);const m=s(e.slice(f,p));n[d]=m}i=l+1}while(i<r);return n}function i0(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function o0(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function IC(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!jC.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=r(t);if(!PC.test(s))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+s;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!TC.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!OC.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!DC(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function LC(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function DC(e){return AC.call(e)==="[object Date]"}var a0="popstate";function FC(e={}){function t(s,i){let{pathname:o="/",search:a="",hash:l=""}=si(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Th("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:Sa(i))}function r(s,i){mn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return zC(t,n,r,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $C(){return Math.random().toString(36).substring(2,10)}function l0(e,t){return{usr:e.state,key:e.key,idx:t}}function Th(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?si(t):t,state:n,key:t&&t.key||r||$C()}}function Sa({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function si(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function zC(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let b=c(),v=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:v})}function f(b,v){a="PUSH";let w=Th(y.location,b,v);n&&n(w,b),u=c()+1;let x=l0(w,u),R=y.createHref(w);try{o.pushState(x,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(R)}i&&l&&l({action:a,location:y.location,delta:1})}function p(b,v){a="REPLACE";let w=Th(y.location,b,v);n&&n(w,b),u=c();let x=l0(w,u),R=y.createHref(w);o.replaceState(x,"",R),i&&l&&l({action:a,location:y.location,delta:0})}function m(b){return BC(b)}let y={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(a0,d),l=b,()=>{s.removeEventListener(a0,d),l=null}},createHref(b){return t(s,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}function BC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Sa(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function A1(e,t,n="/"){return UC(e,t,n,!1)}function UC(e,t,n,r){let s=typeof t=="string"?si(t):t,i=Nr(s.pathname||"/",n);if(i==null)return null;let o=N1(e);VC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=eE(i);a=QC(o[l],u,r)}return a}function N1(e,t=[],n=[],r=""){let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=jr([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(ot(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),N1(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:XC(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of M1(i.path))s(i,o,l)}),t}function M1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=M1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function VC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:JC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var HC=/^:[\w-]+$/,WC=3,qC=2,GC=1,KC=10,YC=-2,u0=e=>e==="*";function XC(e,t){let n=e.split("/"),r=n.length;return n.some(u0)&&(r+=YC),t&&(r+=qC),n.filter(s=>!u0(s)).reduce((s,i)=>s+(HC.test(i)?WC:i===""?GC:KC),r)}function JC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function QC(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=Zu({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Zu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:jr([i,d.pathname]),pathnameBase:sE(jr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=jr([i,d.pathnameBase]))}return o}function Zu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZC(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let m=a[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function ZC(e,t=!1,n=!0){mn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function eE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tE(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?si(e):e;return{pathname:n?n.startsWith("/")?n:nE(n,t):t,search:iE(r),hash:oE(s)}}function nE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function sf(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ig(e){let t=rE(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function og(e,t,n,r=!1){let s;typeof e=="string"?s=si(e):(s={...e},ot(!s.pathname||!s.pathname.includes("?"),sf("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),sf("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),sf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=tE(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var jr=e=>e.join("/").replace(/\/\/+/g,"/"),sE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var lE=["GET",...I1];new Set(lE);var no=M.createContext(null);no.displayName="DataRouter";var Dc=M.createContext(null);Dc.displayName="DataRouterState";var L1=M.createContext({isTransitioning:!1});L1.displayName="ViewTransition";var uE=M.createContext(new Map);uE.displayName="Fetchers";var cE=M.createContext(null);cE.displayName="Await";var Kn=M.createContext(null);Kn.displayName="Navigation";var $a=M.createContext(null);$a.displayName="Location";var Nn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var ag=M.createContext(null);ag.displayName="RouteError";function dE(e,{relative:t}={}){ot(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Kn),{hash:s,pathname:i,search:o}=za(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:jr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function ro(){return M.useContext($a)!=null}function Yn(){return ot(ro(),"useLocation() may be used only in the context of a <Router> component."),M.useContext($a).location}var D1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F1(e){M.useContext(Kn).static||M.useLayoutEffect(e)}function hr(){let{isDataRoute:e}=M.useContext(Nn);return e?RE():fE()}function fE(){ot(ro(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(no),{basename:t,navigator:n}=M.useContext(Kn),{matches:r}=M.useContext(Nn),{pathname:s}=Yn(),i=JSON.stringify(ig(r)),o=M.useRef(!1);return F1(()=>{o.current=!0}),M.useCallback((l,u={})=>{if(mn(o.current,D1),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=og(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:jr([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,i,s,e])}var hE=M.createContext(null);function pE(e){let t=M.useContext(Nn).outlet;return t&&M.createElement(hE.Provider,{value:e},t)}function gE(){let{matches:e}=M.useContext(Nn),t=e[e.length-1];return t?t.params:{}}function za(e,{relative:t}={}){let{matches:n}=M.useContext(Nn),{pathname:r}=Yn(),s=JSON.stringify(ig(n));return M.useMemo(()=>og(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function mE(e,t){return $1(e,t)}function $1(e,t,n,r){var w;ot(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=M.useContext(Kn),{matches:o}=M.useContext(Nn),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let x=d&&d.path||"";z1(u,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=Yn(),p;if(t){let x=typeof t=="string"?si(t):t;ot(c==="/"||((w=x.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=f;let m=p.pathname||"/",y=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=!i&&n&&n.matches&&n.matches.length>0?n.matches:A1(e,{pathname:y});mn(d||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),mn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=_E(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:jr([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:jr([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&v?M.createElement($a.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function yE(){let e=EE(),t=aE(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:i},"ErrorBoundary")," or"," ",M.createElement("code",{style:i},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:s},n):null,o)}var vE=M.createElement(yE,null),xE=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(Nn.Provider,{value:this.props.routeContext},M.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wE({routeContext:e,match:t,children:n}){let r=M.useContext(no);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(Nn.Provider,{value:e},n)}function _E(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=n==null?void 0:n.errors;if(i!=null){let l=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);ot(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,c)=>{let d,f=!1,p=null,m=null;n&&(d=i&&u.route.id?i[u.route.id]:void 0,p=u.route.errorElement||vE,o&&(a<0&&c===0?(z1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):a===c&&(f=!0,m=u.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,c+1)),b=()=>{let v;return d?v=p:f?v=m:u.route.Component?v=M.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,M.createElement(wE,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?M.createElement(xE,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function lg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bE(e){let t=M.useContext(no);return ot(t,lg(e)),t}function SE(e){let t=M.useContext(Dc);return ot(t,lg(e)),t}function kE(e){let t=M.useContext(Nn);return ot(t,lg(e)),t}function ug(e){let t=kE(e),n=t.matches[t.matches.length-1];return ot(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function CE(){return ug("useRouteId")}function EE(){var r;let e=M.useContext(ag),t=SE("useRouteError"),n=ug("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function RE(){let{router:e}=bE("useNavigate"),t=ug("useNavigate"),n=M.useRef(!1);return F1(()=>{n.current=!0}),M.useCallback(async(s,i={})=>{mn(n.current,D1),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var c0={};function z1(e,t,n){!t&&!c0[e]&&(c0[e]=!0,mn(!1,n))}M.memo(jE);function jE({routes:e,future:t,state:n}){return $1(e,void 0,n,t)}function Dl({to:e,replace:t,state:n,relative:r}){ot(ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(Kn);mn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=M.useContext(Nn),{pathname:o}=Yn(),a=hr(),l=og(e,ig(i),o,r==="path"),u=JSON.stringify(l);return M.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function PE(e){return pE(e.context)}function Nt(e){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TE({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){ot(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=M.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=si(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,p=M.useMemo(()=>{let m=Nr(l,o);return m==null?null:{location:{pathname:m,search:u,hash:c,state:d,key:f},navigationType:r}},[o,l,u,c,d,f,r]);return mn(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:M.createElement(Kn.Provider,{value:a},M.createElement($a.Provider,{children:t,value:p}))}function OE({children:e,location:t}){return mE(Oh(e),t)}function Oh(e,t=[]){let n=[];return M.Children.forEach(e,(r,s)=>{if(!M.isValidElement(r))return;let i=[...t,s];if(r.type===M.Fragment){n.push.apply(n,Oh(r.props.children,i));return}ot(r.type===Nt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Oh(r.props.children,i)),n.push(o)}),n}var gu="get",mu="application/x-www-form-urlencoded";function Fc(e){return e!=null&&typeof e.tagName=="string"}function AE(e){return Fc(e)&&e.tagName.toLowerCase()==="button"}function NE(e){return Fc(e)&&e.tagName.toLowerCase()==="form"}function ME(e){return Fc(e)&&e.tagName.toLowerCase()==="input"}function IE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LE(e,t){return e.button===0&&(!t||t==="_self")&&!IE(e)}function Ah(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function DE(e,t){let n=Ah(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Fl=null;function FE(){if(Fl===null)try{new FormData(document.createElement("form"),0),Fl=!1}catch{Fl=!0}return Fl}var $E=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function of(e){return e!=null&&!$E.has(e)?(mn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mu}"`),null):e}function zE(e,t){let n,r,s,i,o;if(NE(e)){let a=e.getAttribute("action");r=a?Nr(a,t):null,n=e.getAttribute("method")||gu,s=of(e.getAttribute("enctype"))||mu,i=new FormData(e)}else if(AE(e)||ME(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Nr(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||gu,s=of(e.getAttribute("formenctype"))||of(a.getAttribute("enctype"))||mu,i=new FormData(a,e),!FE()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,d)}}else{if(Fc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gu,r=null,s=mu,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function cg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function BE(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VE(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await BE(i,n);return o.links?o.links():[]}return[]}));return GE(r.flat(1).filter(UE).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function d0(e,t,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function HE(e,t,{includeHydrateFallback:n}={}){return WE(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function WE(e){return[...new Set(e)]}function qE(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function GE(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(qE(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KE=new Set([100,101,204,205]);function YE(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Nr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function B1(){let e=M.useContext(no);return cg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function XE(){let e=M.useContext(Dc);return cg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dg=M.createContext(void 0);dg.displayName="FrameworkContext";function U1(){let e=M.useContext(dg);return cg(e,"You must render this element inside a <HydratedRouter> element"),e}function JE(e,t){let n=M.useContext(dg),[r,s]=M.useState(!1),[i,o]=M.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=M.useRef(null);M.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=v=>{v.forEach(w=>{o(w.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),M.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Co(a,p),onBlur:Co(l,m),onMouseEnter:Co(u,p),onMouseLeave:Co(c,m),onTouchStart:Co(d,p)}]:[!1,f,{}]}function Co(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function QE({page:e,...t}){let{router:n}=B1(),r=M.useMemo(()=>A1(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?M.createElement(eR,{page:e,matches:r,...t}):null}function ZE(e){let{manifest:t,routeModules:n}=U1(),[r,s]=M.useState([]);return M.useEffect(()=>{let i=!1;return VE(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function eR({page:e,matches:t,...n}){let r=Yn(),{manifest:s,routeModules:i}=U1(),{basename:o}=B1(),{loaderData:a,matches:l}=XE(),u=M.useMemo(()=>d0(e,t,l,s,r,"data"),[e,t,l,s,r]),c=M.useMemo(()=>d0(e,t,l,s,r,"assets"),[e,t,l,s,r]),d=M.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let m=new Set,y=!1;if(t.forEach(v=>{var x;let w=s.routes[v.route.id];!w||!w.hasLoader||(!u.some(R=>R.route.id===v.route.id)&&v.route.id in a&&((x=i[v.route.id])!=null&&x.shouldRevalidate)||w.hasClientLoader?y=!0:m.add(v.route.id))}),m.size===0)return[];let b=YE(e,o);return y&&m.size>0&&b.searchParams.set("_routes",t.filter(v=>m.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[o,a,r,s,u,t,e,i]),f=M.useMemo(()=>HE(c,s),[c,s]),p=ZE(c);return M.createElement(M.Fragment,null,d.map(m=>M.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>M.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:y})=>M.createElement("link",{key:m,...y})))}function tR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V1&&(window.__reactRouterVersion="7.6.0")}catch{}function nR({basename:e,children:t,window:n}){let r=M.useRef();r.current==null&&(r.current=FC({window:n,v5Compat:!0}));let s=r.current,[i,o]=M.useState({action:s.action,location:s.location}),a=M.useCallback(l=>{M.startTransition(()=>o(l))},[o]);return M.useLayoutEffect(()=>s.listen(a),[s,a]),M.createElement(TE,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var H1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=M.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},p){let{basename:m}=M.useContext(Kn),y=typeof u=="string"&&H1.test(u),b,v=!1;if(typeof u=="string"&&y&&(b=u,V1))try{let E=new URL(window.location.href),I=u.startsWith("//")?new URL(E.protocol+u):new URL(u),D=Nr(I.pathname,m);I.origin===E.origin&&D!=null?u=D+I.search+I.hash:v=!0}catch{mn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=dE(u,{relative:s}),[x,R,P]=JE(r,f),A=oR(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function O(E){t&&t(E),E.defaultPrevented||A(E)}let S=M.createElement("a",{...f,...P,href:b||w,onClick:v||i?t:O,ref:tR(p,R),target:l,"data-discover":!y&&n==="render"?"true":void 0});return x&&!y?M.createElement(M.Fragment,null,S,M.createElement(QE,{page:w})):S});Wn.displayName="Link";var rR=M.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},c){let d=za(o,{relative:u.relative}),f=Yn(),p=M.useContext(Dc),{navigator:m,basename:y}=M.useContext(Kn),b=p!=null&&fR(d)&&a===!0,v=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,w=f.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&y&&(x=Nr(x,y)||x);const R=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let P=w===v||!s&&w.startsWith(v)&&w.charAt(R)==="/",A=x!=null&&(x===v||!s&&x.startsWith(v)&&x.charAt(v.length)==="/"),O={isActive:P,isPending:A,isTransitioning:b},S=P?t:void 0,E;typeof r=="function"?E=r(O):E=[r,P?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(O):i;return M.createElement(Wn,{...u,"aria-current":S,className:E,ref:c,style:I,to:o,viewTransition:a},typeof l=="function"?l(O):l)});rR.displayName="NavLink";var sR=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=gu,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},p)=>{let m=cR(),y=dR(a,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&H1.test(a),w=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let R=x.nativeEvent.submitter,P=(R==null?void 0:R.getAttribute("formmethod"))||o;m(R||x.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:d})};return M.createElement("form",{ref:p,method:b,action:y,onSubmit:r?l:w,...f,"data-discover":!v&&e==="render"?"true":void 0})});sR.displayName="Form";function iR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(e){let t=M.useContext(no);return ot(t,iR(e)),t}function oR(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=hr(),l=Yn(),u=za(e,{relative:i});return M.useCallback(c=>{if(LE(c,t)){c.preventDefault();let d=n!==void 0?n:Sa(l)===Sa(u);a(e,{replace:d,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,n,r,t,e,s,i,o])}function aR(e){mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=M.useRef(Ah(e)),n=M.useRef(!1),r=Yn(),s=M.useMemo(()=>DE(r.search,n.current?null:t.current),[r.search]),i=hr(),o=M.useCallback((a,l)=>{const u=Ah(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var lR=0,uR=()=>`__${String(++lR)}__`;function cR(){let{router:e}=W1("useSubmit"),{basename:t}=M.useContext(Kn),n=CE();return M.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=zE(r,t);if(s.navigate===!1){let c=s.fetcherKey||uR();await e.fetch(c,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function dR(e,{relative:t}={}){let{basename:n}=M.useContext(Kn),r=M.useContext(Nn);ot(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...za(e||".",{relative:t})},o=Yn();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:jr([n,i.pathname])),Sa(i)}function fR(e,t={}){let n=M.useContext(L1);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=W1("useViewTransitionState"),s=za(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Nr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Nr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zu(s.pathname,o)!=null||Zu(s.pathname,i)!=null}[...KE];function q1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=q1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hs(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=q1(e))&&(r&&(r+=" "),r+=t);return r}function hR(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}hR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ba=e=>typeof e=="number"&&!isNaN(e),Qs=e=>typeof e=="string",Mr=e=>typeof e=="function",pR=e=>Qs(e)||Ba(e),Nh=e=>Qs(e)||Mr(e)?e:null,gR=(e,t)=>e===!1||Ba(e)&&e>0?e:t,Mh=e=>M.isValidElement(e)||Qs(e)||Mr(e)||Ba(e);function mR(e,t,n=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function yR({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:c,playToast:d}){let f=n?`${e}--${o}`:e,p=n?`${t}--${o}`:t,m=M.useRef(0);return M.useLayoutEffect(()=>{let y=u.current,b=f.split(" "),v=w=>{w.target===u.current&&(d(),y.removeEventListener("animationend",v),y.removeEventListener("animationcancel",v),m.current===0&&w.type!=="animationcancel"&&y.classList.remove(...b))};y.classList.add(...b),y.addEventListener("animationend",v),y.addEventListener("animationcancel",v)},[]),M.useEffect(()=>{let y=u.current,b=()=>{y.removeEventListener("animationend",b),r?mR(y,l,s):l()};c||(a?b():(m.current=1,y.className+=` ${p}`,y.addEventListener("animationend",b)))},[c]),Fe.createElement(Fe.Fragment,null,i)}}function f0(e,t){return{content:G1(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function G1(e,t,n=!1){return M.isValidElement(e)&&!Qs(e.type)?M.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Mr(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function vR({closeToast:e,theme:t,ariaLabel:n="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function xR({delay:e,isRunning:t,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:c}){let d=s||o&&a===0,f={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(f.transform=`scaleX(${a})`);let p=Hs("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),m=Mr(i)?i({rtl:l,type:r,defaultClassName:p}):Hs(p,i),y={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&n()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":d},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${r}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:m,style:f,...y}))}var wR=1,K1=()=>`${wR++}`;function _R(e,t,n){let r=1,s=0,i=[],o=[],a=t,l=new Map,u=new Set,c=w=>(u.add(w),()=>u.delete(w)),d=()=>{o=Array.from(l.values()),u.forEach(w=>w())},f=({containerId:w,toastId:x,updateId:R})=>{let P=w?w!==e:e!==1,A=l.has(x)&&R==null;return P||A},p=(w,x)=>{l.forEach(R=>{var P;(x==null||x===R.props.toastId)&&((P=R.toggle)==null||P.call(R,w))})},m=w=>{var x,R;(R=(x=w.props)==null?void 0:x.onClose)==null||R.call(x,w.removalReason),w.isActive=!1},y=w=>{if(w==null)l.forEach(m);else{let x=l.get(w);x&&m(x)}d()},b=()=>{s-=i.length,i=[]},v=w=>{var x,R;let{toastId:P,updateId:A}=w.props,O=A==null;w.staleId&&l.delete(w.staleId),w.isActive=!0,l.set(P,w),d(),n(f0(w,O?"added":"updated")),O&&((R=(x=w.props).onOpen)==null||R.call(x))};return{id:e,props:a,observe:c,toggle:p,removeToast:y,toasts:l,clearQueue:b,buildToast:(w,x)=>{if(f(x))return;let{toastId:R,updateId:P,data:A,staleId:O,delay:S}=x,E=P==null;E&&s++;let I={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(x).filter(([$,H])=>H!=null)),toastId:R,updateId:P,data:A,isIn:!1,className:Nh(x.className||a.toastClassName),progressClassName:Nh(x.progressClassName||a.progressClassName),autoClose:x.isLoading?!1:gR(x.autoClose,a.autoClose),closeToast($){l.get(R).removalReason=$,y(R)},deleteToast(){let $=l.get(R);if($!=null){if(n(f0($,"removed")),l.delete(R),s--,s<0&&(s=0),i.length>0){v(i.shift());return}d()}}};I.closeButton=a.closeButton,x.closeButton===!1||Mh(x.closeButton)?I.closeButton=x.closeButton:x.closeButton===!0&&(I.closeButton=Mh(a.closeButton)?a.closeButton:!0);let D={content:w,props:I,staleId:O};a.limit&&a.limit>0&&s>a.limit&&E?i.push(D):Ba(S)?setTimeout(()=>{v(D)},S):v(D)},setProps(w){a=w},setToggle:(w,x)=>{let R=l.get(w);R&&(R.toggle=x)},isToastActive:w=>{var x;return(x=l.get(w))==null?void 0:x.isActive},getSnapshot:()=>o}}var Ht=new Map,ka=[],Ih=new Set,bR=e=>Ih.forEach(t=>t(e)),Y1=()=>Ht.size>0;function SR(){ka.forEach(e=>J1(e.content,e.options)),ka=[]}var kR=(e,{containerId:t})=>{var n;return(n=Ht.get(t||1))==null?void 0:n.toasts.get(e)};function X1(e,t){var n;if(t)return!!((n=Ht.get(t))!=null&&n.isToastActive(e));let r=!1;return Ht.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function CR(e){if(!Y1()){ka=ka.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||pR(e))Ht.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ht.get(e.containerId);t?t.removeToast(e.id):Ht.forEach(n=>{n.removeToast(e.id)})}}var ER=(e={})=>{Ht.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function J1(e,t){Mh(e)&&(Y1()||ka.push({content:e,options:t}),Ht.forEach(n=>{n.buildToast(e,t)}))}function RR(e){var t;(t=Ht.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function Q1(e,t){Ht.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function jR(e){let t=e.containerId||1;return{subscribe(n){let r=_R(t,e,bR);Ht.set(t,r);let s=r.observe(n);return SR(),()=>{s(),Ht.delete(t)}},setProps(n){var r;(r=Ht.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ht.get(t))==null?void 0:n.getSnapshot()}}}function PR(e){return Ih.add(e),()=>{Ih.delete(e)}}function TR(e){return e&&(Qs(e.toastId)||Ba(e.toastId))?e.toastId:K1()}function Ua(e,t){return J1(e,t),t.toastId}function $c(e,t){return{...t,type:t&&t.type||e,toastId:TR(t)}}function zc(e){return(t,n)=>Ua(t,$c(e,n))}function le(e,t){return Ua(e,$c("default",t))}le.loading=(e,t)=>Ua(e,$c("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function OR(e,{pending:t,error:n,success:r},s){let i;t&&(i=Qs(t)?le.loading(t,s):le.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,c,d)=>{if(c==null){le.dismiss(i);return}let f={type:u,...o,...s,data:d},p=Qs(c)?{render:c}:c;return i?le.update(i,{...f,...p}):le(p.render,{...f,...p}),d},l=Mr(e)?e():e;return l.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),l}le.promise=OR;le.success=zc("success");le.info=zc("info");le.error=zc("error");le.warning=zc("warning");le.warn=le.warning;le.dark=(e,t)=>Ua(e,$c("default",{theme:"dark",...t}));function AR(e){CR(e)}le.dismiss=AR;le.clearWaitingQueue=ER;le.isActive=X1;le.update=(e,t={})=>{let n=kR(e,t);if(n){let{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:K1()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,Ua(o,i)}};le.done=e=>{le.update(e,{progress:1})};le.onChange=PR;le.play=e=>Q1(!0,e);le.pause=e=>Q1(!1,e);function NR(e){var t;let{subscribe:n,getSnapshot:r,setProps:s}=M.useRef(jR(e)).current;s(e);let i=(t=M.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!i)return[];let l=new Map;return e.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:c}=u.props;l.has(c)||l.set(c,[]),l.get(c).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:X1,count:i==null?void 0:i.length}}function MR(e){let[t,n]=M.useState(!1),[r,s]=M.useState(!1),i=M.useRef(null),o=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:d}=e;RR({id:e.toastId,containerId:e.containerId,fn:n}),M.useEffect(()=>{if(e.pauseOnFocusLoss)return f(),()=>{p()}},[e.pauseOnFocusLoss]);function f(){document.hasFocus()||v(),window.addEventListener("focus",b),window.addEventListener("blur",v)}function p(){window.removeEventListener("focus",b),window.removeEventListener("blur",v)}function m(O){if(e.draggable===!0||e.draggable===O.pointerType){w();let S=i.current;o.canCloseOnClick=!0,o.canDrag=!0,S.style.transition="none",e.draggableDirection==="x"?(o.start=O.clientX,o.removalDistance=S.offsetWidth*(e.draggablePercent/100)):(o.start=O.clientY,o.removalDistance=S.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(O){let{top:S,bottom:E,left:I,right:D}=i.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&e.pauseOnHover&&O.clientX>=I&&O.clientX<=D&&O.clientY>=S&&O.clientY<=E?v():b()}function b(){n(!0)}function v(){n(!1)}function w(){o.didMove=!1,document.addEventListener("pointermove",R),document.addEventListener("pointerup",P)}function x(){document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",P)}function R(O){let S=i.current;if(o.canDrag&&S){o.didMove=!0,t&&v(),e.draggableDirection==="x"?o.delta=O.clientX-o.start:o.delta=O.clientY-o.start,o.start!==O.clientX&&(o.canCloseOnClick=!1);let E=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;S.style.transform=`translate3d(${E},0)`,S.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function P(){x();let O=i.current;if(o.canDrag&&o.didMove&&O){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let A={onPointerDown:m,onPointerUp:y};return a&&l&&(A.onMouseEnter=v,e.stacked||(A.onMouseLeave=b)),d&&(A.onClick=O=>{c&&c(O),o.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:v,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:A}}var IR=typeof window<"u"?M.useLayoutEffect:M.useEffect,Bc=({theme:e,type:t,isLoading:n,...r})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function LR(e){return Fe.createElement(Bc,{...e},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function DR(e){return Fe.createElement(Bc,{...e},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function FR(e){return Fe.createElement(Bc,{...e},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function $R(e){return Fe.createElement(Bc,{...e},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zR(){return Fe.createElement("div",{className:"Toastify__spinner"})}var Lh={info:DR,warning:LR,success:FR,error:$R,spinner:zR},BR=e=>e in Lh;function UR({theme:e,type:t,isLoading:n,icon:r}){let s=null,i={theme:e,type:t};return r===!1||(Mr(r)?s=r({...i,isLoading:n}):M.isValidElement(r)?s=M.cloneElement(r,i):n?s=Lh.spinner():BR(t)&&(s=Lh[t](i))),s}var VR=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=MR(e),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:f,transition:p,position:m,className:y,style:b,progressClassName:v,updateId:w,role:x,progress:R,rtl:P,toastId:A,deleteToast:O,isIn:S,isLoading:E,closeOnClick:I,theme:D,ariaLabel:$}=e,H=Hs("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":I}),Q=Mr(y)?y({rtl:P,position:m,type:c,defaultClassName:H}):Hs(H,y),re=UR(e),oe=!!R||!l,ee={closeToast:f,type:c,theme:D},Y=null;return o===!1||(Mr(o)?Y=o(ee):M.isValidElement(o)?Y=M.cloneElement(o,ee):Y=vR(ee)),Fe.createElement(p,{isIn:S,done:O,position:m,preventExitTransition:n,nodeRef:r,playToast:i},Fe.createElement("div",{id:A,tabIndex:0,onClick:u,"data-in":S,className:Q,...s,style:b,ref:r,...S&&{role:x,"aria-label":$}},re!=null&&Fe.createElement("div",{className:Hs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},re),G1(a,e,!t),Y,!e.customProgressBar&&Fe.createElement(xR,{...w&&!oe?{key:`p-${w}`}:{},rtl:P,theme:D,delay:l,isRunning:t,isIn:S,closeToast:f,hide:d,type:c,className:v,controlledProgress:oe,progress:R||0})))},HR=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),WR=yR(HR("bounce",!0)),qR={position:"top-right",transition:WR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function GR(e){let t={...qR,...e},n=e.stacked,[r,s]=M.useState(!0),i=M.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=NR(t),{className:u,style:c,rtl:d,containerId:f,hotKeys:p}=t;function m(b){let v=Hs("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":d});return Mr(u)?u({position:b,rtl:d,defaultClassName:v}):Hs(v,Nh(u))}function y(){n&&(s(!0),le.play())}return IR(()=>{var b;if(n){let v=i.current.querySelectorAll('[data-in="true"]'),w=12,x=(b=t.position)==null?void 0:b.includes("top"),R=0,P=0;Array.from(v).reverse().forEach((A,O)=>{let S=A;S.classList.add("Toastify__toast--stacked"),O>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=x?"top":"bot");let E=R*(r?.2:1)+(r?0:w*O);S.style.setProperty("--y",`${x?E:E*-1}px`),S.style.setProperty("--g",`${w}`),S.style.setProperty("--s",`${1-(r?P:0)}`),R+=S.offsetHeight,P+=.025})}},[r,l,n]),M.useEffect(()=>{function b(v){var w;let x=i.current;p(v)&&((w=x.querySelector('[tabIndex="0"]'))==null||w.focus(),s(!1),le.pause()),v.key==="Escape"&&(document.activeElement===x||x!=null&&x.contains(document.activeElement))&&(s(!0),le.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[p]),Fe.createElement("section",{ref:i,className:"Toastify",id:f,onMouseEnter:()=>{n&&(s(!1),le.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,v)=>{let w=v.length?{...c}:{...c,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:m(b),"data-stacked":n,style:w,key:`c-${b}`},v.map(({content:x,props:R})=>Fe.createElement(VR,{...R,stacked:n,collapseAll:y,isIn:a(R.toastId,R.containerId),key:`t-${R.key}`},x)))}))}const Z1=M.createContext(),KR=()=>{const e=M.useContext(Z1);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e},YR=({children:e})=>{const[t,n]=M.useState(!1),[r,s]=M.useState(!1),[i,o]=M.useState("/dashboard"),a=Yn(),l=p=>{o(p)};M.useEffect(()=>{l(a.pathname)},[a]);const u=[{name:"Dashboard",path:"/dashboard",icon:"HomeIcon",permission:null,role:null},{name:"Products",path:"/products",icon:"TagIcon",permission:"view_products",role:null},{name:"Scanner",path:"/scanner",icon:"QrCodeIcon",permission:"use_scanner",role:null},{name:"Reports",path:"/reports",icon:"ChartBarIcon",permission:"view_reports",role:null},{name:"Users",path:"/users",icon:"UsersIcon",permission:null,role:"admin"},{name:"Settings",path:"/settings",icon:"Cog6ToothIcon",permission:null,role:null}],c=()=>{n(!t)},d=()=>{s(!r)};M.useEffect(()=>{r&&s(!1)},[a.pathname]),M.useEffect(()=>{const p=()=>{window.innerWidth<768&&n(!0)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const f={sidebarCollapsed:t,setSidebarCollapsed:n,toggleSidebar:c,mobileNavOpen:r,setMobileNavOpen:s,toggleMobileNav:d,navigationItems:u,activeRoute:i,setCurrentRoute:l};return h.jsx(Z1.Provider,{value:f,children:e})};function XR({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const JR=M.forwardRef(XR);function QR({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const ZR=M.forwardRef(QR);function ej({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Ca=M.forwardRef(ej);function tj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const fg=M.forwardRef(tj);function nj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const rj=M.forwardRef(nj);function sj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const ij=M.forwardRef(sj);function oj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const aj=M.forwardRef(oj);function lj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const uj=M.forwardRef(lj);function cj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const yu=M.forwardRef(cj);function dj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const fj=M.forwardRef(dj);function hj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const h0=M.forwardRef(hj);function pj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const gj=M.forwardRef(pj);function mj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const yj=M.forwardRef(mj);function vj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const ew=M.forwardRef(vj);function xj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const wj=M.forwardRef(xj);function _j({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const bj=M.forwardRef(_j);function Sj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Va=M.forwardRef(Sj);function kj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Cj=M.forwardRef(kj);function Ej({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Uc=M.forwardRef(Ej);function Rj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const jj=M.forwardRef(Rj);function Pj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const tw=M.forwardRef(Pj);function Tj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const Oj=M.forwardRef(Tj);function Aj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Nj=M.forwardRef(Aj);function Mj({title:e,titleId:t,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const hg=M.forwardRef(Mj),fn=({children:e,title:t,subtitle:n,className:r="",padding:s=!0,noDivider:i=!1,headerAction:o,footer:a,variant:l="default",bordered:u=!0,flat:c=!1,...d})=>{const p=u?`border ${{default:"",primary:"border-blue-500",success:"border-green-500",danger:"border-red-500",warning:"border-yellow-500",info:"border-cyan-500"}[l]}`:"",m=c?"":"shadow-sm",y=s?"p-5":"";return h.jsxs("div",{className:`bg-white rounded-lg ${p} ${m} ${r}`,...d,children:[(t||o)&&h.jsxs("div",{className:`flex items-center justify-between ${i?"":"border-b border-gray-200"} ${s?"px-5 py-4":"p-0"}`,children:[h.jsxs("div",{children:[t&&h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t}),n&&h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),o&&h.jsx("div",{className:"ml-4",children:o})]}),h.jsx("div",{className:y,children:e}),a&&h.jsx("div",{className:`${i?"":"border-t border-gray-200"} ${s?"px-5 py-4":"p-0"}`,children:a})]})},He=({children:e,variant:t="primary",size:n="md",type:r="button",fullWidth:s=!1,disabled:i=!1,isLoading:o=!1,onClick:a,className:l="",iconLeft:u,iconRight:c,...d})=>{const f="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",p={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base",xl:"px-6 py-3 text-lg"},m={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-500 text-white hover:bg-yellow-600 focus:ring-yellow-500",info:"bg-cyan-500 text-white hover:bg-cyan-600 focus:ring-cyan-500",outline:"bg-transparent border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500","outline-primary":"bg-transparent border border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500",link:"bg-transparent text-blue-600 hover:underline focus:ring-blue-500 px-0 py-0",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},y=s?"w-full":"",b=i||o?"opacity-60 cursor-not-allowed":"cursor-pointer",v=n==="sm"?"mr-1.5":"mr-2",w=n==="sm"?"ml-1.5":"ml-2";return h.jsxs("button",{type:r,disabled:i||o,onClick:a,className:`
        ${f} 
        ${p[n]||p.md} 
        ${m[t]||m.primary}
        ${y}
        ${b}
        ${l}
      `,...d,children:[o?h.jsxs("svg",{className:`animate-spin ${e?v:""} h-4 w-4 text-current`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):u&&h.jsx("span",{className:e?v:"",children:u}),e,c&&!o&&h.jsx("span",{className:e?w:"",children:c})]})},Ij=()=>{const[e,t]=M.useState(!1),{user:n,isAuthenticated:r,loading:s}=An();return e?h.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-800 text-white p-4 rounded-lg shadow-lg max-w-sm z-50",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h3",{className:"font-bold",children:"Debug Information"}),h.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white",children:"Close"})]}),h.jsxs("div",{className:"text-sm",children:[h.jsxs("p",{className:"mb-1",children:[h.jsx("span",{className:"font-semibold",children:"Auth State:"})," ",r?"Authenticated":"Not authenticated"]}),h.jsxs("p",{className:"mb-1",children:[h.jsx("span",{className:"font-semibold",children:"Loading:"})," ",s?"True":"False"]}),h.jsxs("p",{className:"mb-1",children:[h.jsx("span",{className:"font-semibold",children:"User ID:"})," ",(n==null?void 0:n.id)||"None"]}),h.jsxs("p",{className:"mb-1",children:[h.jsx("span",{className:"font-semibold",children:"Email:"})," ",(n==null?void 0:n.email)||"None"]}),h.jsxs("p",{className:"mb-1",children:[h.jsx("span",{className:"font-semibold",children:"Last Updated:"})," ",new Date().toLocaleTimeString()]})]})]}):h.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg opacity-70 hover:opacity-100 z-50",children:"Debug Info"})};var nw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},p0=Fe.createContext&&Fe.createContext(nw),Lj=["attr","size","title"];function Dj(e,t){if(e==null)return{};var n=Fj(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fj(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}function g0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g0(Object(n),!0).forEach(function(r){$j(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $j(e,t,n){return t=zj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zj(e){var t=Bj(e,"string");return typeof t=="symbol"?t:t+""}function Bj(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rw(e){return e&&e.map((t,n)=>Fe.createElement(t.tag,tc({key:n},t.attr),rw(t.child)))}function ct(e){return t=>Fe.createElement(Uj,ec({attr:tc({},e.attr)},t),rw(e.child))}function Uj(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=Dj(e,Lj),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Fe.createElement("svg",ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:tc(tc({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Fe.createElement("title",null,i),e.children)};return p0!==void 0?Fe.createElement(p0.Consumer,null,n=>t(n)):t(nw)}function Vj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Hj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function m0(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function Wj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function qj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function Gj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(e)}function Kj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Yj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Xj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function Dh(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Jj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function sw(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function iw(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Qj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function y0(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Zj(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function af(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function eP(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function tP(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function nP(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function rP(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function sP(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function nc(e){return ct({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}const Ha=()=>typeof window<"u"&&typeof window.electronAPI<"u",hs=e=>e?e.message:"Unknown Supabase error",iP=async()=>{if(Ha())return await window.electronAPI.getDashboardStats();{let e=0,t=0,n=0,r=0,s=null;try{const{data:i,error:o}=await Ne.rpc("count_distinct_products");if(o)throw o;e=i??0}catch(i){console.error("Error fetching totalProducts:",i),s=i}if(!s)try{const{data:i,error:o}=await Ne.rpc("sum_total_quantity");if(o)throw o;t=i??0}catch(i){console.error("Error fetching totalInventory:",i),s=i}if(!s)try{const{count:i,error:o}=await Ne.from("inventory").select("*",{count:"exact",head:!0});if(o)throw o;n=i??0,console.warn("Warning: Recent scans count is inaccurate due to missing timestamp column.")}catch(i){console.error("Error fetching recentScans:",i),s=i}if(!s)try{const{count:i,error:o}=await Ne.from("inventory").select("*",{count:"exact",head:!0}).lte("quantity",10);if(o)throw o;r=i??0}catch(i){console.error("Error fetching lowStock:",i),s=i}if(s){const i=(s==null?void 0:s.message)||(s==null?void 0:s.details)||(s==null?void 0:s.hint)||(typeof s=="object"?JSON.stringify(s):"Unknown Supabase error");return console.error("Final detailed error in getDashboardStats:",{message:s==null?void 0:s.message,code:s==null?void 0:s.code,details:s==null?void 0:s.details,hint:s==null?void 0:s.hint,fullError:typeof s=="object"?JSON.stringify(s,Object.getOwnPropertyNames(s)):s}),{success:!1,error:`Supabase dashboard stats error: ${i}`,data:null}}else return{success:!0,data:{totalProducts:e,totalInventory:t,recentScans:n,lowStock:r}}}},ow=async e=>{if(Ha())return await window.electronAPI.searchItems(e);try{const t=`%${e}%`,{data:n,error:r}=await Ne.from("inventory").select("id, fnsku, asin, quantity, condition").or(`fnsku.ilike.${t},asin.ilike.${t}`).limit(50);if(r)throw r;return console.log(`Supabase found ${(n==null?void 0:n.length)||0} items matching '${e}'`),{success:!0,data:n||[]}}catch(t){return console.error("Supabase search error:",t),le.error(`Search Error: ${hs(t)}`),{success:!1,error:hs(t),data:[]}}},oP=async()=>{if(Ha())return await window.electronAPI.clearItemsDatabase();try{const{error:e}=await Ne.from("inventory").delete().neq("id",-1);if(e)throw e;return console.log("Supabase items cleared (count not available from basic delete)"),{success:!0,rowsDeleted:"N/A"}}catch(e){return console.error("Supabase clear error:",e),le.error(`Clear Error: ${hs(e)}`),{success:!1,error:hs(e)}}},aP=async()=>{if(Ha())return await window.electronAPI.getItemsDatabase();try{let{data:e,error:t}=await Ne.from("inventory").select("id, fnsku, asin, quantity, condition");if(t)throw console.error("Supabase fetch all items error:",t),t;return{success:!0,data:(e||[]).map(r=>({...r}))}}catch(e){return console.error("Failed to fetch Supabase items:",hs(e)),{success:!1,error:hs(e),data:[]}}},lP=async e=>{if(!Array.isArray(e)||e.length===0)return console.warn("batchSaveItems called with invalid or empty data.",e),{success:!1,error:"No valid item data provided for save.",data:null};if(console.log(`Attempting to batch save ${e.length} items...`),Ha())return console.log("Using electronAPI.saveItemsData"),window.electronAPI&&typeof window.electronAPI.saveItemsData=="function"?await window.electronAPI.saveItemsData(e):(console.error('Electron API function "saveItemsData" is not defined.'),le.error("Batch save via Electron is not available."),{success:!1,error:'Electron API function "saveItemsData" is not defined.'});try{console.log("(Web) Attempting Supabase batch upsert with provided data...");const t=e.filter(s=>s.upc);if(t.length===0)return console.warn("(Web) No items with UPC found in batch for Supabase upsert."),{success:!1,error:"No items with UPC found for Supabase upsert.",data:null};const{data:n,error:r}=await Ne.from("inventory").upsert(t,{onConflict:"upc"}).select();if(r)throw console.error("Supabase batch upsert error:",r),r;return console.log(`Supabase batch upsert successful. ${(n==null?void 0:n.length)||0} rows affected/returned.`),{success:!0,data:n||[],count:(n==null?void 0:n.length)||0}}catch(t){return console.error("Failed during Supabase batch upsert:",t),le.error(`Batch Import Error: ${hs(t)}`),{success:!1,error:hs(t),data:null}}},$l=({title:e,value:t,icon:n,color:r,href:s})=>h.jsx(Wn,{to:s,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`p-3 rounded-full ${r} text-white`,children:n}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e}),h.jsx("p",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-200",children:t})]})]})}),v0=()=>{const{user:e}=An(),[t,n]=M.useState({totalProducts:0,totalInventory:0,recentScans:0,lowStock:0}),[r,s]=M.useState(!0),[i,o]=M.useState(""),[a,l]=M.useState([]),[u,c]=M.useState(""),[d,f]=M.useState(!1);M.useEffect(()=>{console.log("Dashboard component mounted"),console.log("Current user:",e==null?void 0:e.email),(async()=>{var b,v,w,x;s(!0);try{const R=await iP();R&&R.success?(n({totalProducts:((b=R.data)==null?void 0:b.totalProducts)??0,totalInventory:((v=R.data)==null?void 0:v.totalInventory)??0,recentScans:((w=R.data)==null?void 0:w.recentScans)??0,lowStock:((x=R.data)==null?void 0:x.lowStock)??0}),console.log("Dashboard stats loaded:",R.data)):(console.error("Failed to fetch dashboard stats:",R==null?void 0:R.error),le.error("Could not load dashboard statistics."),n({totalProducts:0,totalInventory:0,recentScans:0,lowStock:0}))}catch(R){console.error("Error fetching dashboard stats:",R),le.error("An error occurred while loading dashboard statistics."),n({totalProducts:0,totalInventory:0,recentScans:0,lowStock:0})}finally{s(!1)}})()},[e]);const p=async y=>{if(y&&y.preventDefault(),!i.trim()){l([]),c("Please enter a search term.");return}f(!0),c(`Searching for "${i}"...`),l([]);try{const b=await ow(i.trim());b.success?(l(b.data),c(b.data.length>0?`Found ${b.data.length} result(s).`:"No results found.")):(console.error("Search failed:",b.error),c(`Error searching: ${b.error}`))}catch(b){console.error("Error during search:",b),c("An error occurred during search.")}finally{f(!1)}},m=y=>{if(!y||typeof y!="string")return null;const b=y.trim().toUpperCase();return/^[A-Z0-9]{10}$/.test(b)?`https://www.amazon.com/dp/${b}`:null};return h.jsxs("div",{className:"px-4 py-6",children:[h.jsx(Ij,{}),h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Welcome back, ",(e==null?void 0:e.email)||"User"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Here's an overview of your inventory management system"})]}),r?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((y,b)=>h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 animate-pulse",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 rounded-full bg-gray-300 dark:bg-gray-700"}),h.jsxs("div",{className:"ml-4 w-full",children:[h.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-1/4 mb-2"}),h.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-700 rounded w-1/2"})]})]})},b))}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx($l,{title:"Products",value:t.totalProducts,icon:h.jsx(y0,{size:24}),color:"bg-blue-600",href:"/products"}),h.jsx($l,{title:"Inventory Items",value:t.totalInventory,icon:h.jsx(Gj,{size:24}),color:"bg-green-600",href:"/inventory"}),h.jsx($l,{title:"Recent Scans (7 days)",value:t.recentScans,icon:h.jsx(Vj,{size:24}),color:"bg-purple-600",href:"/scanner"}),h.jsx($l,{title:"Low Stock Items",value:t.lowStock,icon:h.jsx(m0,{size:24}),color:"bg-red-600",href:"/reports"})]}),h.jsxs("div",{className:"mt-12",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(Wn,{to:"/scanner",className:"flex items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[h.jsx(eP,{className:"text-blue-600 dark:text-blue-400 w-6 h-6 mr-3"}),h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Scan Products"})]}),h.jsxs(Wn,{to:"/products",className:"flex items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[h.jsx(y0,{className:"text-green-600 dark:text-green-400 w-6 h-6 mr-3"}),h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Manage Products"})]}),h.jsxs(Wn,{to:"/reports",className:"flex items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[h.jsx(m0,{className:"text-purple-600 dark:text-purple-400 w-6 h-6 mr-3"}),h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"View Reports"})]})]})]}),h.jsxs(fn,{className:"mb-6",title:"Item Lookup",children:[h.jsxs("form",{onSubmit:p,children:[" ",h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:[h.jsxs("div",{className:"relative flex-grow w-full",children:[h.jsx("input",{type:"text",placeholder:"Enter LPN, FNSKU, or ASIN...",value:i,onChange:y=>o(y.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:d}),h.jsx(Va,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"})]}),h.jsx(He,{type:"submit",disabled:d||!i.trim(),isLoading:d,className:"w-full sm:w-auto flex-shrink-0",children:d?"Searching...":"Search"})]})]}),u&&h.jsx("p",{className:`mt-3 text-sm ${u.startsWith("Error")?"text-red-600":"text-gray-600"}`,children:u})]}),a.length>0&&h.jsx(fn,{title:"Search Results",children:h.jsx("div",{className:"space-y-4",children:a.map(y=>{const b=m(y.asin);return h.jsxs("div",{className:"p-3 border border-gray-200 rounded-md bg-gray-50",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"LPN:"})," ",y.lpn_xz_asin||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"FNSKU:"})," ",y.fnsku||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"ASIN:"})," ",y.asin||"N/A"]}),y.description&&h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.description}),b&&h.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-block text-blue-600 hover:text-blue-800 hover:underline text-sm",children:"View on Amazon.com"}),h.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Imported: ",new Date(y.timestamp).toLocaleString()]})]},y.id)})})})]})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Jr(e,t){return typeof e=="function"?e(t):e}function yn(e,t){return n=>{t.setState(r=>({...r,[e]:Jr(n,r[e])}))}}function Vc(e){return e instanceof Function}function uP(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function cP(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function ke(e,t,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return s;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,p=(m,y)=>{for(m=String(m);m.length<y;)m=" "+m;return m};console.info(`%c ${p(d,5)} /${p(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function Ce(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function dP(e,t,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:ke(()=>[e,n,t,i],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),Ce(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function fP(e,t,n,r){var s,i;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(s=(i=a.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let p=f;for(const y of l.split(".")){var m;p=(m=p)==null?void 0:m[y]}return p}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:ke(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},Ce(e.options,"debugColumns")),getLeafColumns:ke(()=>[e._getOrderColumnsFn()],f=>{var p;if((p=d.columns)!=null&&p.length){let m=d.columns.flatMap(y=>y.getLeafColumns());return f(m)}return[d]},Ce(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const At="debugHeaders";function x0(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const hP={createTable:e=>{e.getHeaderGroups=ke(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,o;const a=(i=r==null?void 0:r.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?i:[],l=(o=s==null?void 0:s.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(s!=null&&s.includes(d.id)));return zl(t,[...a,...u,...l],e)},Ce(e.options,At)),e.getCenterHeaderGroups=ke(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),zl(t,n,e,"center")),Ce(e.options,At)),e.getLeftHeaderGroups=ke(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return zl(t,i,e,"left")},Ce(e.options,At)),e.getRightHeaderGroups=ke(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return zl(t,i,e,"right")},Ce(e.options,At)),e.getFooterGroups=ke(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Ce(e.options,At)),e.getLeftFooterGroups=ke(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Ce(e.options,At)),e.getCenterFooterGroups=ke(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Ce(e.options,At)),e.getRightFooterGroups=ke(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Ce(e.options,At)),e.getFlatHeaders=ke(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ce(e.options,At)),e.getLeftFlatHeaders=ke(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ce(e.options,At)),e.getCenterFlatHeaders=ke(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ce(e.options,At)),e.getRightFlatHeaders=ke(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ce(e.options,At)),e.getCenterLeafHeaders=ke(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ce(e.options,At)),e.getLeftLeafHeaders=ke(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ce(e.options,At)),e.getRightLeafHeaders=ke(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ce(e.options,At)),e.getLeafHeaders=ke(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,o,a,l,u;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},Ce(e.options,At))}};function zl(e,t,n,r){var s,i;let o=0;const a=function(f,p){p===void 0&&(p=1),o=Math.max(o,p),f.filter(m=>m.getIsVisible()).forEach(m=>{var y;(y=m.columns)!=null&&y.length&&a(m.columns,p+1)},0)};a(e);let l=[];const u=(f,p)=>{const m={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},y=[];f.forEach(b=>{const v=[...y].reverse()[0],w=b.column.depth===m.depth;let x,R=!1;if(w&&b.column.parent?x=b.column.parent:(x=b.column,R=!0),v&&(v==null?void 0:v.column)===x)v.subHeaders.push(b);else{const P=x0(n,x,{id:[r,p,x.id,b==null?void 0:b.id].filter(Boolean).join("_"),isPlaceholder:R,placeholderId:R?`${y.filter(A=>A.column===x).length}`:void 0,depth:p,index:y.length});P.subHeaders.push(b),y.push(P)}m.headers.push(b),b.headerGroup=m}),l.push(m),p>0&&u(y,p-1)},c=t.map((f,p)=>x0(n,f,{depth:o,index:p}));u(c,o-1),l.reverse();const d=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let y=0,b=0,v=[0];m.subHeaders&&m.subHeaders.length?(v=[],d(m.subHeaders).forEach(x=>{let{colSpan:R,rowSpan:P}=x;y+=R,v.push(P)})):y=1;const w=Math.min(...v);return b=b+w,m.colSpan=y,m.rowSpan=b,{colSpan:y,rowSpan:b}});return d((s=(i=l[0])==null?void 0:i.headers)!=null?s:[]),l}const pP=(e,t,n,r,s,i,o)=>{let a={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>cP(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:ke(()=>[e.getAllLeafColumns()],l=>l.map(u=>dP(e,a,u,u.id)),Ce(e.options,"debugRows")),_getAllCellsByColumnId:ke(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),Ce(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},gP={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},aw=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};aw.autoRemove=e=>qn(e);const lw=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};lw.autoRemove=e=>qn(e);const uw=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};uw.autoRemove=e=>qn(e);const cw=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};cw.autoRemove=e=>qn(e);const dw=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});dw.autoRemove=e=>qn(e)||!(e!=null&&e.length);const fw=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});fw.autoRemove=e=>qn(e)||!(e!=null&&e.length);const hw=(e,t,n)=>e.getValue(t)===n;hw.autoRemove=e=>qn(e);const pw=(e,t,n)=>e.getValue(t)==n;pw.autoRemove=e=>qn(e);const pg=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};pg.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const a=i;i=o,o=a}return[i,o]};pg.autoRemove=e=>qn(e)||qn(e[0])&&qn(e[1]);const _r={includesString:aw,includesStringSensitive:lw,equalsString:uw,arrIncludes:cw,arrIncludesAll:dw,arrIncludesSome:fw,equals:hw,weakEquals:pw,inNumberRange:pg};function qn(e){return e==null||e===""}const mP={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:yn("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?_r.includesString:typeof r=="number"?_r.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?_r.equals:Array.isArray(r)?_r.arrIncludes:_r.weakEquals},e.getFilterFn=()=>{var n,r;return Vc(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:_r[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r==null?void 0:r.find(c=>c.id===e.id),o=Jr(n,i?i.value:void 0);if(w0(s,o,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(i){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=Jr(t,s))==null?void 0:i.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(w0(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function w0(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const yP=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),vP=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},xP=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},wP=(e,t,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},_P=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},bP=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!uP(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},SP=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),kP=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,CP=(e,t)=>t.length,lf={sum:yP,min:vP,max:xP,extent:wP,mean:_P,median:bP,unique:SP,uniqueCount:kP,count:CP},EP={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:yn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return lf.sum;if(Object.prototype.toString.call(r)==="[object Date]")return lf.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Vc(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:lf[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function RP(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const jP={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:yn("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=ke(n=>[ea(t,n)],n=>n.findIndex(r=>r.id===e.id),Ce(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=ea(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=ea(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=ke(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const o=[...t],a=[...s];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&i.push(a.splice(u,1)[0])}i=[...i,...a]}return RP(i,n,r)},Ce(e.options,"debugTable"))}},uf=()=>({left:[],right:[]}),PP={getInitialState:e=>({columnPinning:uf(),...e}),getDefaultOptions:e=>({onColumnPinningChange:yn("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,o;if(n==="right"){var a,l;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=s==null?void 0:s.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=s==null?void 0:s.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(d=>!(r!=null&&r.includes(d))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=ke(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},Ce(t.options,"debugRows")),e.getLeftVisibleCells=ke(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),Ce(t.options,"debugRows")),e.getRightVisibleCells=ke(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),Ce(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?uf():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:uf())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=ke(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Ce(e.options,"debugColumns")),e.getRightLeafColumns=ke(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Ce(e.options,"debugColumns")),e.getCenterLeafColumns=ke(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},Ce(e.options,"debugColumns"))}};function TP(e){return e||(typeof document<"u"?document:null)}const Bl={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},cf=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),OP={getDefaultColumnDef:()=>Bl,getInitialState:e=>({columnSizing:{},columnSizingInfo:cf(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:yn("columnSizing",e),onColumnSizingInfoChange:yn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Bl.minSize,(r=i??e.columnDef.size)!=null?r:Bl.size),(s=e.columnDef.maxSize)!=null?s:Bl.maxSize)},e.getStart=ke(n=>[n,ea(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),Ce(t.options,"debugColumns")),e.getAfter=ke(n=>[n,ea(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),Ce(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),df(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=df(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(v,w)=>{typeof w=="number"&&(t.setColumnSizingInfo(x=>{var R,P;const A=t.options.columnResizeDirection==="rtl"?-1:1,O=(w-((R=x==null?void 0:x.startOffset)!=null?R:0))*A,S=Math.max(O/((P=x==null?void 0:x.startSize)!=null?P:0),-.999999);return x.columnSizingStart.forEach(E=>{let[I,D]=E;u[I]=Math.round(Math.max(D+D*S,0)*100)/100}),{...x,deltaOffset:O,deltaPercentage:S}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(x=>({...x,...u})))},d=v=>c("move",v),f=v=>{c("end",v),t.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=TP(n),m={moveHandler:v=>d(v.clientX),upHandler:v=>{p==null||p.removeEventListener("mousemove",m.moveHandler),p==null||p.removeEventListener("mouseup",m.upHandler),f(v.clientX)}},y={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),d(v.touches[0].clientX),!1),upHandler:v=>{var w;p==null||p.removeEventListener("touchmove",y.moveHandler),p==null||p.removeEventListener("touchend",y.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),f((w=v.touches[0])==null?void 0:w.clientX)}},b=AP()?{passive:!1}:!1;df(i)?(p==null||p.addEventListener("touchmove",y.moveHandler,b),p==null||p.addEventListener("touchend",y.upHandler,b)):(p==null||p.addEventListener("mousemove",m.moveHandler,b),p==null||p.addEventListener("mouseup",m.upHandler,b)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?cf():(n=e.initialState.columnSizingInfo)!=null?n:cf())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let Ul=null;function AP(){if(typeof Ul=="boolean")return Ul;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Ul=e,Ul}function df(e){return e.type==="touchstart"}const NP={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:yn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=ke(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ce(t.options,"debugRows")),e.getVisibleCells=ke(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],Ce(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>ke(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),Ce(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function ea(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const MP={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},IP={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:yn("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>_r.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Vc(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:_r[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},LP={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:yn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Fh=0,$h=10,ff=()=>({pageIndex:Fh,pageSize:$h}),DP={getInitialState:e=>({...e,pagination:{...ff(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:yn("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>Jr(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?ff():(s=e.initialState.pagination)!=null?s:ff())},e.setPageIndex=r=>{e.setPagination(s=>{let i=Jr(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?Fh:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:Fh)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?$h:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:$h)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,Jr(r,s.pageSize)),o=s.pageSize*s.pageIndex,a=Math.floor(o/i);return{...s,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let o=Jr(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=ke(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},Ce(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},hf=()=>({top:[],bottom:[]}),FP={getInitialState:e=>({rowPinning:hf(),...e}),getDefaultOptions:e=>({onRowPinningChange:yn("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=s?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,e.id,...i]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(y=>!(a!=null&&a.has(y))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(y=>!(a!=null&&a.has(y))),...Array.from(a)]}}if(n==="top"){var p,m;return{top:[...((p=l==null?void 0:l.top)!=null?p:[]).filter(y=>!(a!=null&&a.has(y))),...Array.from(a)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(y=>!(a!=null&&a.has(y)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(y=>!(a!=null&&a.has(y))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(y=>!(a!=null&&a.has(y)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?hf():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:hf())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=ke(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Ce(e.options,"debugRows")),e.getBottomRows=ke(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Ce(e.options,"debugRows")),e.getCenterRows=ke(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},Ce(e.options,"debugRows"))}},$P={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:yn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{zh(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=ke(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?pf(e,n):{rows:[],flatRows:[],rowsById:{}},Ce(e.options,"debugTable")),e.getFilteredSelectedRowModel=ke(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?pf(e,n):{rows:[],flatRows:[],rowsById:{}},Ce(e.options,"debugTable")),e.getGroupedSelectedRowModel=ke(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?pf(e,n):{rows:[],flatRows:[],rowsById:{}},Ce(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const a={...i};return zh(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return gg(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Bh(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Bh(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},zh=(e,t,n,r,s)=>{var i;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>zh(e,a.id,n,r,s))};function pf(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(o,a){return o.map(l=>{var u;const c=gg(l,n);if(c&&(r.push(l),s[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:i(l.subRows)}),c)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function gg(e,t){var n;return(n=t[e.id])!=null?n:!1}function Bh(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(gg(o,t)?i=!0:s=!1),o.subRows&&o.subRows.length)){const a=Bh(o,t);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const Uh=/([0-9]+)/gm,zP=(e,t,n)=>gw(ps(e.getValue(n)).toLowerCase(),ps(t.getValue(n)).toLowerCase()),BP=(e,t,n)=>gw(ps(e.getValue(n)),ps(t.getValue(n))),UP=(e,t,n)=>mg(ps(e.getValue(n)).toLowerCase(),ps(t.getValue(n)).toLowerCase()),VP=(e,t,n)=>mg(ps(e.getValue(n)),ps(t.getValue(n))),HP=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},WP=(e,t,n)=>mg(e.getValue(n),t.getValue(n));function mg(e,t){return e===t?0:e>t?1:-1}function ps(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function gw(e,t){const n=e.split(Uh).filter(Boolean),r=t.split(Uh).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),a=parseInt(i,10),l=[o,a].sort();if(isNaN(l[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const Eo={alphanumeric:zP,alphanumericCaseSensitive:BP,text:UP,textCaseSensitive:VP,datetime:HP,basic:WP},qP={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:yn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Eo.datetime;if(typeof i=="string"&&(r=!0,i.split(Uh).length>1))return Eo.alphanumeric}return r?Eo.text:Eo.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Vc(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Eo[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(p=>p.id===e.id),l=o==null?void 0:o.findIndex(p=>p.id===e.id);let u=[],c,d=i?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(i||s||(c="remove")),c==="add"){var f;u=[...o,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(p=>p.id===e.id?{...p,desc:d}:p):c==="remove"?u=o.filter(p=>p.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},GP=[hP,NP,jP,PP,gP,mP,MP,IP,qP,EP,LP,DP,FP,$P,OP];function KP(e){var t,n;const r=[...GP,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(s)),{}),o=f=>s.options.mergeOptions?s.options.mergeOptions(i,f):{...i,...f};let l={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(f=>{var p;l=(p=f.getInitialState==null?void 0:f.getInitialState(l))!=null?p:l});const u=[];let c=!1;const d={_features:r,options:{...i,...e},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{s.setState(s.initialState)},setOptions:f=>{const p=Jr(f,s.options);s.options=o(p)},getState:()=>s.options.state,setState:f=>{s.options.onStateChange==null||s.options.onStateChange(f)},_getRowId:(f,p,m)=>{var y;return(y=s.options.getRowId==null?void 0:s.options.getRowId(f,p,m))!=null?y:`${m?[m.id,p].join("."):p}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(f,p)=>{let m=(p?s.getPrePaginationRowModel():s.getRowModel()).rowsById[f];if(!m&&(m=s.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:ke(()=>[s.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:m=>{const y=m.header.column.columnDef;return y.accessorKey?y.accessorKey:y.accessorFn?y.id:null},cell:m=>{var y,b;return(y=(b=m.renderValue())==null||b.toString==null?void 0:b.toString())!=null?y:null},...s._features.reduce((m,y)=>Object.assign(m,y.getDefaultColumnDef==null?void 0:y.getDefaultColumnDef()),{}),...f}},Ce(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:ke(()=>[s._getColumnDefs()],f=>{const p=function(m,y,b){return b===void 0&&(b=0),m.map(v=>{const w=fP(s,v,b,y),x=v;return w.columns=x.columns?p(x.columns,w,b+1):[],w})};return p(f)},Ce(e,"debugColumns")),getAllFlatColumns:ke(()=>[s.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),Ce(e,"debugColumns")),_getAllFlatColumnsById:ke(()=>[s.getAllFlatColumns()],f=>f.reduce((p,m)=>(p[m.id]=m,p),{}),Ce(e,"debugColumns")),getAllLeafColumns:ke(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(f,p)=>{let m=f.flatMap(y=>y.getLeafColumns());return p(m)},Ce(e,"debugColumns")),getColumn:f=>s._getAllFlatColumnsById()[f]};Object.assign(s,d);for(let f=0;f<s._features.length;f++){const p=s._features[f];p==null||p.createTable==null||p.createTable(s)}return s}function YP(){return e=>ke(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const a=[];for(let u=0;u<s.length;u++){const c=pP(e,e._getRowId(s[u],u,o),s[u],u,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(s[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,i+1,c))}}return a};return n.rows=r(t),n},Ce(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function XP(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function JP(e){return t=>ke(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:o,flatRows:a,rowsById:l}=r;const u=s*i,c=u+s;o=o.slice(u,c);let d;t.options.paginateExpandedRows?d={rows:o,flatRows:a,rowsById:l}:d=XP({rows:o,flatRows:a,rowsById:l}),d.flatRows=[];const f=p=>{d.flatRows.push(p),p.subRows.length&&p.subRows.forEach(f)};return d.rows.forEach(f),d},Ce(t.options,"debugTable"))}function QP(){return e=>ke(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};i.forEach(l=>{const u=e.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let p=0;p<i.length;p+=1){var f;const m=i[p],y=o[m.id],b=y.sortUndefined,v=(f=m==null?void 0:m.desc)!=null?f:!1;let w=0;if(b){const x=c.getValue(m.id),R=d.getValue(m.id),P=x===void 0,A=R===void 0;if(P||A){if(b==="first")return P?-1:1;if(b==="last")return P?1:-1;w=P&&A?0:P?b:-b}}if(w===0&&(w=y.sortingFn(c,d,m.id)),w!==0)return v&&(w*=-1),y.invertSorting&&(w*=-1),w}return c.index-d.index}),u.forEach(c=>{var d;s.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},Ce(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function _0(e,t){return e?ZP(e)?M.createElement(e,t):e:null}function ZP(e){return e5(e)||typeof e=="function"||t5(e)}function e5(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function t5(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function n5(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=M.useState(()=>({current:KP(t)})),[r,s]=M.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const yg=({data:e=[],columns:t=[],pagination:n=!0,rowsPerPage:r=10,sortable:s=!0,loading:i=!1,noDataMessage:o="No data available",className:a="",striped:l=!0,hover:u=!0,bordered:c=!1,compact:d=!1,onRowClick:f})=>{const p=n5({data:e,columns:t,getCoreRowModel:YP(),getSortedRowModel:s?QP():void 0,getPaginationRowModel:n?JP():void 0,initialState:{pagination:{pageSize:r}}}),m=`min-w-full divide-y divide-gray-200 ${a}`,y="bg-gray-50",b="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",v="divide-y divide-gray-200 bg-white",w=O=>{let S="";return l&&O%2!==0&&(S+="bg-gray-50 "),u&&(S+="hover:bg-gray-100 "),f&&(S+="cursor-pointer "),S},x=`px-6 ${d?"py-2":"py-4"} text-sm text-gray-500`,R=c?"border border-gray-200":"",P=()=>h.jsx("tr",{children:h.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-center text-sm text-gray-500",children:h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]})})}),A=()=>h.jsx("tr",{children:h.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-center text-sm text-gray-500",children:o})});return h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:`${m} ${R}`,children:[h.jsx("thead",{className:y,children:p.getHeaderGroups().map(O=>h.jsx("tr",{children:O.headers.map(S=>h.jsx("th",{className:b,onClick:S.column.getToggleSortingHandler(),style:{cursor:s?"pointer":"default"},children:h.jsxs("div",{className:"flex items-center",children:[_0(S.column.columnDef.header,S.getContext()),s&&h.jsx("span",{className:"ml-1",children:S.column.getIsSorted()==="asc"?"":S.column.getIsSorted()==="desc"?"":""})]})},S.id))},O.id))}),h.jsx("tbody",{className:v,children:i?h.jsx(P,{}):p.getRowModel().rows.length>0?p.getRowModel().rows.map((O,S)=>h.jsx("tr",{className:w(S),onClick:()=>f&&f(O.original),children:O.getVisibleCells().map(E=>h.jsx("td",{className:x,children:_0(E.column.columnDef.cell,E.getContext())},E.id))},O.id)):h.jsx(A,{})})]}),n&&e.length>0&&h.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:h.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[h.jsx("div",{children:h.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",h.jsx("span",{className:"font-medium",children:p.getState().pagination.pageIndex*p.getState().pagination.pageSize+1})," ","to"," ",h.jsx("span",{className:"font-medium",children:Math.min((p.getState().pagination.pageIndex+1)*p.getState().pagination.pageSize,e.length)})," ","of ",h.jsx("span",{className:"font-medium",children:e.length})," results"]})}),h.jsx("div",{children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[h.jsx("button",{className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 ${p.getCanPreviousPage()?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,onClick:()=>p.previousPage(),disabled:!p.getCanPreviousPage(),children:"Previous"}),h.jsx("button",{className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 ${p.getCanNextPage()?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,onClick:()=>p.nextPage(),disabled:!p.getCanNextPage(),children:"Next"})]})})]})})]})},r5=({isOpen:e,onClose:t,title:n,children:r,size:s="md",showCloseButton:i=!0})=>{if(M.useEffect(()=>{const l=u=>{u.key==="Escape"&&e&&t()};return document.addEventListener("keydown",l),e&&(document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[e,t]),!e)return null;const o=()=>{switch(s){case"sm":return"max-w-md";case"lg":return"max-w-4xl";case"xl":return"max-w-6xl";case"full":return"max-w-full mx-4";case"md":default:return"max-w-2xl"}},a=l=>{l.target===l.currentTarget&&t()};return h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",onClick:a,children:h.jsx("div",{className:`${o()} w-full bg-white rounded-lg shadow-xl transform transition-all`,role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,children:h.jsxs("div",{className:"p-6",children:[n&&h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{id:"modal-title",className:"text-lg font-medium leading-6 text-gray-900",children:n}),i&&h.jsx("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none",onClick:t,"aria-label":"Close",children:h.jsx(hg,{className:"h-6 w-6","aria-hidden":"true"})})]}),h.jsx("div",{className:n?"":"mt-2",children:r})]})})})};var mw={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(pn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},l=0,u={};function c(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var I=P(E);I.chunkSize=parseInt(I.chunkSize),E.step||E.chunk||(I.chunkSize=null),this._handle=new y(I),(this._handle.streamer=this)._config=I}).call(this,S),this.parseChunk=function(E,I){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let H=this._config.newline;H||($=this._config.quoteChar||'"',H=this._handle.guessLineEndings(E,$)),E=[...E.split(H).slice(D)].join(H)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&($=this._config.beforeFirstChunk(E))!==void 0&&(E=$),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+E,$=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(E=$.meta.cursor,D=(this._finished||(this._partialLine=D.substring(E-this._baseIndex),this._baseIndex=E),$&&$.data&&(this._rowCount+=$.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:$,workerId:u.WORKER_ID,finished:D});else if(O(this._config.chunk)&&!I){if(this._config.chunk($,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=$=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat($.data),this._completeResults.errors=this._completeResults.errors.concat($.errors),this._completeResults.meta=$.meta),this._completed||!D||!O(this._config.complete)||$&&$.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||$&&$.meta.paused||this._nextChunk(),$}this._halted=!0},this._sendError=function(E){O(this._config.error)?this._config.error(E):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:E,finished:!1})}}function d(S){var E;(S=S||{}).chunkSize||(S.chunkSize=u.RemoteChunkSize),c.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),i||(E.onload=A(this._chunkLoaded,this),E.onerror=A(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var I,D=this._config.downloadRequestHeaders;for(I in D)E.setRequestHeader(I,D[I])}var $;this._config.chunkSize&&($=this._start+this._config.chunkSize-1,E.setRequestHeader("Range","bytes="+this._start+"-"+$));try{E.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}i&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize||E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(E),this.parseChunk(E.responseText)))},this._chunkError=function(I){I=E.statusText||I,this._sendError(new Error(I))}}function f(S){(S=S||{}).chunkSize||(S.chunkSize=u.LocalChunkSize),c.call(this,S);var E,I,D=typeof FileReader<"u";this.stream=function($){this._input=$,I=$.slice||$.webkitSlice||$.mozSlice,D?((E=new FileReader).onload=A(this._chunkLoaded,this),E.onerror=A(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var $=this._input,H=(this._config.chunkSize&&(H=Math.min(this._start+this._config.chunkSize,this._input.size),$=I.call($,this._start,H)),E.readAsText($,this._config.encoding));D||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function($){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk($.target.result)},this._chunkError=function(){this._sendError(E.error)}}function p(S){var E;c.call(this,S=S||{}),this.stream=function(I){return E=I,this._nextChunk()},this._nextChunk=function(){var I,D;if(!this._finished)return I=this._config.chunkSize,E=I?(D=E.substring(0,I),E.substring(I)):(D=E,""),this._finished=!E,this.parseChunk(D)}}function m(S){c.call(this,S=S||{});var E=[],I=!0,D=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function($){this._input=$,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):I=!0},this._streamData=A(function($){try{E.push(typeof $=="string"?$:$.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(H){this._streamError(H)}},this),this._streamError=A(function($){this._streamCleanUp(),this._sendError($)},this),this._streamEnd=A(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=A(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(S){var E,I,D,$,H=Math.pow(2,53),Q=-H,re=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ee=this,Y=0,K=0,X=!1,te=!1,q=[],G={data:[],errors:[],meta:{}};function ne(ve){return S.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function ue(){if(G&&D&&(we("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),D=!1),S.skipEmptyLines&&(G.data=G.data.filter(function(ye){return!ne(ye)})),ce()){let ye=function(je,Me){O(S.transformHeader)&&(je=S.transformHeader(je,Me)),q.push(je)};if(G)if(Array.isArray(G.data[0])){for(var ve=0;ce()&&ve<G.data.length;ve++)G.data[ve].forEach(ye);G.data.splice(0,1)}else G.data.forEach(ye)}function me(ye,je){for(var Me=S.header?{}:[],Ue=0;Ue<ye.length;Ue++){var We=Ue,Ae=ye[Ue],Ae=((bt,Pe)=>(Ye=>(S.dynamicTypingFunction&&S.dynamicTyping[Ye]===void 0&&(S.dynamicTyping[Ye]=S.dynamicTypingFunction(Ye)),(S.dynamicTyping[Ye]||S.dynamicTyping)===!0))(bt)?Pe==="true"||Pe==="TRUE"||Pe!=="false"&&Pe!=="FALSE"&&((Ye=>{if(re.test(Ye)&&(Ye=parseFloat(Ye),Q<Ye&&Ye<H))return 1})(Pe)?parseFloat(Pe):oe.test(Pe)?new Date(Pe):Pe===""?null:Pe):Pe)(We=S.header?Ue>=q.length?"__parsed_extra":q[Ue]:We,Ae=S.transform?S.transform(Ae,We):Ae);We==="__parsed_extra"?(Me[We]=Me[We]||[],Me[We].push(Ae)):Me[We]=Ae}return S.header&&(Ue>q.length?we("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+Ue,K+je):Ue<q.length&&we("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+Ue,K+je)),Me}var be;G&&(S.header||S.dynamicTyping||S.transform)&&(be=1,!G.data.length||Array.isArray(G.data[0])?(G.data=G.data.map(me),be=G.data.length):G.data=me(G.data,0),S.header&&G.meta&&(G.meta.fields=q),K+=be)}function ce(){return S.header&&q.length===0}function we(ve,me,be,ye){ve={type:ve,code:me,message:be},ye!==void 0&&(ve.row=ye),G.errors.push(ve)}O(S.step)&&($=S.step,S.step=function(ve){G=ve,ce()?ue():(ue(),G.data.length!==0&&(Y+=ve.data.length,S.preview&&Y>S.preview?I.abort():(G.data=G.data[0],$(G,ee))))}),this.parse=function(ve,me,be){var ye=S.quoteChar||'"',ye=(S.newline||(S.newline=this.guessLineEndings(ve,ye)),D=!1,S.delimiter?O(S.delimiter)&&(S.delimiter=S.delimiter(ve),G.meta.delimiter=S.delimiter):((ye=((je,Me,Ue,We,Ae)=>{var bt,Pe,Ye,ln;Ae=Ae||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Jn=0;Jn<Ae.length;Jn++){for(var zt,Qn=Ae[Jn],dt=0,Bt=0,rt=0,vt=(Ye=void 0,new v({comments:We,delimiter:Qn,newline:Me,preview:10}).parse(je)),Kt=0;Kt<vt.data.length;Kt++)Ue&&ne(vt.data[Kt])?rt++:(zt=vt.data[Kt].length,Bt+=zt,Ye===void 0?Ye=zt:0<zt&&(dt+=Math.abs(zt-Ye),Ye=zt));0<vt.data.length&&(Bt/=vt.data.length-rt),(Pe===void 0||dt<=Pe)&&(ln===void 0||ln<Bt)&&1.99<Bt&&(Pe=dt,bt=Qn,ln=Bt)}return{successful:!!(S.delimiter=bt),bestDelimiter:bt}})(ve,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=ye.bestDelimiter:(D=!0,S.delimiter=u.DefaultDelimiter),G.meta.delimiter=S.delimiter),P(S));return S.preview&&S.header&&ye.preview++,E=ve,I=new v(ye),G=I.parse(E,me,be),ue(),X?{meta:{paused:!0}}:G||{meta:{paused:!1}}},this.paused=function(){return X},this.pause=function(){X=!0,I.abort(),E=O(S.chunk)?"":E.substring(I.getCharIndex())},this.resume=function(){ee.streamer._halted?(X=!1,ee.streamer.parseChunk(E,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return te},this.abort=function(){te=!0,I.abort(),G.meta.aborted=!0,O(S.complete)&&S.complete(G),E=""},this.guessLineEndings=function(je,ye){je=je.substring(0,1048576);var ye=new RegExp(b(ye)+"([^]*?)"+b(ye),"gm"),be=(je=je.replace(ye,"")).split("\r"),ye=je.split(`
`),je=1<ye.length&&ye[0].length<be[0].length;if(be.length===1||je)return`
`;for(var Me=0,Ue=0;Ue<be.length;Ue++)be[Ue][0]===`
`&&Me++;return Me>=be.length/2?`\r
`:"\r"}}function b(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(S){var E=(S=S||{}).delimiter,I=S.newline,D=S.comments,$=S.step,H=S.preview,Q=S.fastMode,re=null,oe=!1,ee=S.quoteChar==null?'"':S.quoteChar,Y=ee;if(S.escapeChar!==void 0&&(Y=S.escapeChar),(typeof E!="string"||-1<u.BAD_DELIMITERS.indexOf(E))&&(E=","),D===E)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<u.BAD_DELIMITERS.indexOf(D))&&(D=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var K=0,X=!1;this.parse=function(te,q,G){if(typeof te!="string")throw new Error("Input must be a string");var ne=te.length,ue=E.length,ce=I.length,we=D.length,ve=O($),me=[],be=[],ye=[],je=K=0;if(!te)return dt();if(Q||Q!==!1&&te.indexOf(ee)===-1){for(var Me=te.split(I),Ue=0;Ue<Me.length;Ue++){if(ye=Me[Ue],K+=ye.length,Ue!==Me.length-1)K+=I.length;else if(G)return dt();if(!D||ye.substring(0,we)!==D){if(ve){if(me=[],ln(ye.split(E)),Bt(),X)return dt()}else ln(ye.split(E));if(H&&H<=Ue)return me=me.slice(0,H),dt(!0)}}return dt()}for(var We=te.indexOf(E,K),Ae=te.indexOf(I,K),bt=new RegExp(b(Y)+b(ee),"g"),Pe=te.indexOf(ee,K);;)if(te[K]===ee)for(Pe=K,K++;;){if((Pe=te.indexOf(ee,Pe+1))===-1)return G||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:me.length,index:K}),zt();if(Pe===ne-1)return zt(te.substring(K,Pe).replace(bt,ee));if(ee===Y&&te[Pe+1]===Y)Pe++;else if(ee===Y||Pe===0||te[Pe-1]!==Y){We!==-1&&We<Pe+1&&(We=te.indexOf(E,Pe+1));var Ye=Jn((Ae=Ae!==-1&&Ae<Pe+1?te.indexOf(I,Pe+1):Ae)===-1?We:Math.min(We,Ae));if(te.substr(Pe+1+Ye,ue)===E){ye.push(te.substring(K,Pe).replace(bt,ee)),te[K=Pe+1+Ye+ue]!==ee&&(Pe=te.indexOf(ee,K)),We=te.indexOf(E,K),Ae=te.indexOf(I,K);break}if(Ye=Jn(Ae),te.substring(Pe+1+Ye,Pe+1+Ye+ce)===I){if(ye.push(te.substring(K,Pe).replace(bt,ee)),Qn(Pe+1+Ye+ce),We=te.indexOf(E,K),Pe=te.indexOf(ee,K),ve&&(Bt(),X))return dt();if(H&&me.length>=H)return dt(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:me.length,index:K}),Pe++}}else if(D&&ye.length===0&&te.substring(K,K+we)===D){if(Ae===-1)return dt();K=Ae+ce,Ae=te.indexOf(I,K),We=te.indexOf(E,K)}else if(We!==-1&&(We<Ae||Ae===-1))ye.push(te.substring(K,We)),K=We+ue,We=te.indexOf(E,K);else{if(Ae===-1)break;if(ye.push(te.substring(K,Ae)),Qn(Ae+ce),ve&&(Bt(),X))return dt();if(H&&me.length>=H)return dt(!0)}return zt();function ln(rt){me.push(rt),je=K}function Jn(rt){var vt=0;return vt=rt!==-1&&(rt=te.substring(Pe+1,rt))&&rt.trim()===""?rt.length:vt}function zt(rt){return G||(rt===void 0&&(rt=te.substring(K)),ye.push(rt),K=ne,ln(ye),ve&&Bt()),dt()}function Qn(rt){K=rt,ln(ye),ye=[],Ae=te.indexOf(I,K)}function dt(rt){if(S.header&&!q&&me.length&&!oe){var vt=me[0],Kt={},Lr=new Set(vt);let Dr=!1;for(let Zn=0;Zn<vt.length;Zn++){let Yt=vt[Zn];if(Kt[Yt=O(S.transformHeader)?S.transformHeader(Yt,Zn):Yt]){let er,ii=Kt[Yt];for(;er=Yt+"_"+ii,ii++,Lr.has(er););Lr.add(er),vt[Zn]=er,Kt[Yt]++,Dr=!0,(re=re===null?{}:re)[er]=Yt}else Kt[Yt]=1,vt[Zn]=Yt;Lr.add(Yt)}Dr&&console.warn("Duplicate headers found and renamed."),oe=!0}return{data:me,errors:be,meta:{delimiter:E,linebreak:I,aborted:X,truncated:!!rt,cursor:je+(q||0),renamedHeaders:re}}}function Bt(){$(dt()),me=[],be=[]}},this.abort=function(){X=!0},this.getCharIndex=function(){return K}}function w(S){var E=S.data,I=a[E.workerId],D=!1;if(E.error)I.userError(E.error,E.file);else if(E.results&&E.results.data){var $={abort:function(){D=!0,x(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(O(I.userStep)){for(var H=0;H<E.results.data.length&&(I.userStep({data:E.results.data[H],errors:E.results.errors,meta:E.results.meta},$),!D);H++);delete E.results}else O(I.userChunk)&&(I.userChunk(E.results,$,E.file),delete E.results)}E.finished&&!D&&x(E.workerId,E.results)}function x(S,E){var I=a[S];O(I.userComplete)&&I.userComplete(E),I.terminate(),delete a[S]}function R(){throw new Error("Not implemented.")}function P(S){if(typeof S!="object"||S===null)return S;var E,I=Array.isArray(S)?[]:{};for(E in S)I[E]=P(S[E]);return I}function A(S,E){return function(){S.apply(E,arguments)}}function O(S){return typeof S=="function"}return u.parse=function(S,E){var I=(E=E||{}).dynamicTyping||!1;if(O(I)&&(E.dynamicTypingFunction=I,I={}),E.dynamicTyping=I,E.transform=!!O(E.transform)&&E.transform,!E.worker||!u.WORKERS_SUPPORTED)return I=null,u.NODE_STREAM_INPUT,typeof S=="string"?(S=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(S),I=new(E.download?d:p)(E)):S.readable===!0&&O(S.read)&&O(S.on)?I=new m(E):(r.File&&S instanceof File||S instanceof Object)&&(I=new f(E)),I.stream(S);(I=(()=>{var D;return!!u.WORKERS_SUPPORTED&&(D=(()=>{var $=r.URL||r.webkitURL||null,H=n.toString();return u.BLOB_URL||(u.BLOB_URL=$.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))})(),(D=new r.Worker(D)).onmessage=w,D.id=l++,a[D.id]=D)})()).userStep=E.step,I.userChunk=E.chunk,I.userComplete=E.complete,I.userError=E.error,E.step=O(E.step),E.chunk=O(E.chunk),E.complete=O(E.complete),E.error=O(E.error),delete E.worker,I.postMessage({input:S,config:E,workerId:I.id})},u.unparse=function(S,E){var I=!1,D=!0,$=",",H=`\r
`,Q='"',re=Q+Q,oe=!1,ee=null,Y=!1,K=((()=>{if(typeof E=="object"){if(typeof E.delimiter!="string"||u.BAD_DELIMITERS.filter(function(q){return E.delimiter.indexOf(q)!==-1}).length||($=E.delimiter),typeof E.quotes!="boolean"&&typeof E.quotes!="function"&&!Array.isArray(E.quotes)||(I=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(oe=E.skipEmptyLines),typeof E.newline=="string"&&(H=E.newline),typeof E.quoteChar=="string"&&(Q=E.quoteChar),typeof E.header=="boolean"&&(D=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");ee=E.columns}E.escapeChar!==void 0&&(re=E.escapeChar+Q),E.escapeFormulae instanceof RegExp?Y=E.escapeFormulae:typeof E.escapeFormulae=="boolean"&&E.escapeFormulae&&(Y=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(Q),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return X(null,S,oe);if(typeof S[0]=="object")return X(ee||Object.keys(S[0]),S,oe)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||ee),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),X(S.fields||[],S.data||[],oe);throw new Error("Unable to serialize unrecognized input");function X(q,G,ne){var ue="",ce=(typeof q=="string"&&(q=JSON.parse(q)),typeof G=="string"&&(G=JSON.parse(G)),Array.isArray(q)&&0<q.length),we=!Array.isArray(G[0]);if(ce&&D){for(var ve=0;ve<q.length;ve++)0<ve&&(ue+=$),ue+=te(q[ve],ve);0<G.length&&(ue+=H)}for(var me=0;me<G.length;me++){var be=(ce?q:G[me]).length,ye=!1,je=ce?Object.keys(G[me]).length===0:G[me].length===0;if(ne&&!ce&&(ye=ne==="greedy"?G[me].join("").trim()==="":G[me].length===1&&G[me][0].length===0),ne==="greedy"&&ce){for(var Me=[],Ue=0;Ue<be;Ue++){var We=we?q[Ue]:Ue;Me.push(G[me][We])}ye=Me.join("").trim()===""}if(!ye){for(var Ae=0;Ae<be;Ae++){0<Ae&&!je&&(ue+=$);var bt=ce&&we?q[Ae]:Ae;ue+=te(G[me][bt],Ae)}me<G.length-1&&(!ne||0<be&&!je)&&(ue+=H)}}return ue}function te(q,G){var ne,ue;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(ue=!1,Y&&typeof q=="string"&&Y.test(q)&&(q="'"+q,ue=!0),ne=q.toString().replace(K,re),(ue=ue||I===!0||typeof I=="function"&&I(q,G)||Array.isArray(I)&&I[G]||((ce,we)=>{for(var ve=0;ve<we.length;ve++)if(-1<ce.indexOf(we[ve]))return!0;return!1})(ne,u.BAD_DELIMITERS)||-1<ne.indexOf($)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?Q+ne+Q:ne)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=v,u.ParserHandle=y,u.NetworkStreamer=d,u.FileStreamer=f,u.StringStreamer=p,u.ReadableStreamStreamer=m,r.jQuery&&((s=r.jQuery).fn.parse=function(S){var E=S.config||{},I=[];return this.each(function(H){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Q=0;Q<this.files.length;Q++)I.push({file:this.files[Q],inputElem:this,instanceConfig:s.extend({},E)})}),D(),this;function D(){if(I.length===0)O(S.complete)&&S.complete();else{var H,Q,re,oe,ee=I[0];if(O(S.before)){var Y=S.before(ee.file,ee.inputElem);if(typeof Y=="object"){if(Y.action==="abort")return H="AbortError",Q=ee.file,re=ee.inputElem,oe=Y.reason,void(O(S.error)&&S.error({name:H},Q,re,oe));if(Y.action==="skip")return void $();typeof Y.config=="object"&&(ee.instanceConfig=s.extend(ee.instanceConfig,Y.config))}else if(Y==="skip")return void $()}var K=ee.instanceConfig.complete;ee.instanceConfig.complete=function(X){O(K)&&K(X,ee.file,ee.inputElem),$()},u.parse(ee.file,ee.instanceConfig)}}function $(){I.splice(0,1),D()}}),o&&(r.onmessage=function(S){S=S.data,u.WORKER_ID===void 0&&S&&(u.WORKER_ID=S.workerId),typeof S.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(S.input,S.config),finished:!0}):(r.File&&S.input instanceof File||S.input instanceof Object)&&(S=u.parse(S.input,S.config))&&r.postMessage({workerId:u.WORKER_ID,results:S,finished:!0})}),(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(c.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(c.prototype)).constructor=m,u})})(mw);var s5=mw.exports;const i5=hc(s5),o5=()=>{const{apiClient:e,user:t}=An();hr();const[n,r]=M.useState(!0),[s,i]=M.useState([]),[o,a]=M.useState(""),[l,u]=M.useState({category:"",status:""}),[c,d]=M.useState(!1),[f,p]=M.useState(!1),[m,y]=M.useState(!1),[b,v]=M.useState(!1),[w,x]=M.useState(null),[R,P]=M.useState(!1),[A,O]=M.useState(""),[S,E]=M.useState(!1),I=M.useRef(null),D=async()=>{var X;console.log("Products.jsx: Fetching products from database..."),r(!0),i([]);try{const te=await aP();te.success?(console.log(`Products.jsx: Successfully fetched ${((X=te.data)==null?void 0:X.length)||0} products.`),i(te.data||[])):(console.error("Products.jsx: Fetch failed:",te.error),le.error(`Failed to fetch products: ${te.error}`),i([]))}catch(te){console.error("Products.jsx: Error in fetchProducts:",te),le.error(`An unexpected error occurred: ${te.message}`),i([])}finally{r(!1)}};M.useEffect(()=>{D()},[]);const $=X=>{const te=new Date(X);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(te)},H=()=>{u({category:"",status:""}),a(""),le.info("Filters have been reset")},Q=()=>{le.success("Products data has been exported successfully")},re=()=>{p(!0)},oe=s.filter(X=>{const te=o.toLowerCase();return o===""||X.lpn_xz_asin&&X.lpn_xz_asin.toLowerCase().includes(te)||X.fnsku&&X.fnsku.toLowerCase().includes(te)||X.asin&&X.asin.toLowerCase().includes(te)||X.description&&X.description.toLowerCase().includes(te)}),ee=Fe.useMemo(()=>[{accessorKey:"lpn_xz_asin",header:"LPN",cell:({row:X})=>h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-800",children:X.original.lpn_xz_asin}),X.original.description&&h.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",title:X.original.description,children:X.original.description})]})},{accessorKey:"fnsku",header:"FNSKU"},{accessorKey:"asin",header:"ASIN",cell:({row:X})=>{const te=K(X.original.asin);return h.jsxs("div",{children:[h.jsx("span",{children:X.original.asin||"N/A"}),te&&h.jsx("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800 hover:underline text-xs",onClick:q=>q.stopPropagation(),children:"(View)"})]})}},{accessorKey:"quantity",header:"Qty"},{accessorKey:"value1",header:"Value 1",cell:({row:X})=>{var te;return((te=X.original.value1)==null?void 0:te.toFixed(2))??""}},{accessorKey:"value2",header:"Value 2",cell:({row:X})=>{var te;return((te=X.original.value2)==null?void 0:te.toFixed(2))??""}},{accessorKey:"timestamp",header:"Imported On",cell:({row:X})=>$(X.original.timestamp)}],[]),Y=async()=>{if(!I.current||!I.current.files||I.current.files.length===0){le.error("Please select a CSV manifest file first.");return}const X=I.current.files[0];E(!0),O("Starting import..."),le.info("Parsing CSV file...");let te=[],q=0,G=0,ne="UNKNOWN",ue=null;const ce=100,we=async me=>{if(me.length>0)try{O(`Saving batch of ${me.length} items... (Total saved: ${q})`),console.log("Saving chunk:",me);const be=await lP(me);be.success?(q+=be.itemsSaved,le.success(`Batch saved. Total saved: ${q}`,{autoClose:1500})):(console.error("Chunk save error:",be.error),le.error(`Batch save failed: ${be.error}`))}catch(be){console.error("Error calling batchSaveItems:",be),le.error(`API Error during batch save: ${be.message}`)}},ve=()=>{if(ue&&ue.lpn_xz_asin&&ue.asin){if(te.push(ue),G++,ue=null,te.length>=ce){const me=[...te];te=[],we(me)}}else ue&&ue.lpn_xz_asin&&(console.warn("Skipping item build, missing ASIN for LPN:",ue.lpn_xz_asin),ue=null)};i5.parse(X,{skipEmptyLines:!0,worker:!0,step:async(me,be)=>{var Me;const ye=me.data;if(me.meta.cursor===0){ne=((Me=ye[1])==null?void 0:Me.trim())||"UNKNOWN",console.log(`Extracted Listing ID: ${ne}`);return}if(!ye||ye.length===0||!ye[0])return;const je=ye[0].trim();je.startsWith("LPN")?(ve(),ue={listing_id:ne,lpn_xz_asin:je,fnsku:null,asin:null,description:null,quantity:parseInt(ye[1],10)||0,value1:parseFloat(ye[2])||0,value2:parseFloat(ye[3])||0}):ue&&(je.startsWith("X00")?ue.fnsku=je:je.startsWith("B0")?ue.asin=je:ue.description=je)},complete:async()=>{console.log("Papaparse complete callback triggered."),ve(),await we(te),O(`Import finished. Total items saved: ${q}. Rows processed: ${G}.`),le.success(`Import complete! Saved ${q} items.`),E(!1),I.current&&(I.current.value=""),D()},error:(me,be)=>{console.error("Papaparse Error:",me),O(`Error parsing CSV: ${me.message}`),le.error(`Error parsing file: ${me.message}`),E(!1),I.current&&(I.current.value="")}})},K=X=>{if(!X||typeof X!="string")return null;const te=X.trim().toUpperCase();return/^[A-Z0-9]{10}$/.test(te)?`https://www.amazon.com/dp/${te}`:null};return h.jsxs("div",{className:"container mx-auto p-4",children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),h.jsx("p",{className:"text-gray-600",children:"View and manage all products in your inventory"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsxs(He,{variant:"outline",className:"flex items-center",onClick:()=>d(!c),children:[h.jsx(ew,{className:"h-5 w-5 mr-2"}),c?"Hide Filters":"Show Filters"]}),h.jsxs(He,{variant:"outline",className:"flex items-center",onClick:Q,children:[h.jsx(Ca,{className:"h-5 w-5 mr-2"}),"Export"]}),h.jsxs(He,{variant:"primary",className:"flex items-center",onClick:re,children:[h.jsx(Uc,{className:"h-5 w-5 mr-2"}),"Add Product"]})]})]}),h.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4 gap-2",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("input",{type:"text",placeholder:"Search by product name, SKU, or UPC...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:o,onChange:X=>a(X.target.value)}),h.jsx(Va,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(He,{variant:"secondary",size:"sm",onClick:H,disabled:!o&&!l.category&&!l.status,children:[h.jsx(fg,{className:"h-4 w-4 mr-1"}),"Reset"]})})]}),h.jsxs(fn,{className:"mb-4",title:"Import Manifest (CSV)",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-start",children:[h.jsx("input",{type:"file",ref:I,accept:".csv",className:`block w-full text-sm text-gray-500
              file:mr-4 file:py-2 file:px-4
              file:rounded-md file:border-0
              file:text-sm file:font-semibold
              file:bg-blue-50 file:text-blue-700
              hover:file:bg-blue-100
              flex-grow`,disabled:S}),h.jsx(He,{onClick:Y,disabled:S,isLoading:S,className:"w-full sm:w-auto flex-shrink-0",children:S?"Importing...":"Import Selected File"})]}),A&&h.jsx("p",{className:`mt-2 text-sm ${A.startsWith("Error")?"text-red-600":"text-gray-600"}`,children:A})]}),c&&h.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:h.jsxs("div",{className:"flex flex-wrap gap-4",children:[h.jsxs("div",{className:"min-w-[200px]",children:[h.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),h.jsx("select",{id:"category-filter",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:l.category,onChange:X=>u({...l,category:X.target.value}),children:h.jsx("option",{value:"",children:"All Categories"})})]}),h.jsxs("div",{className:"min-w-[200px]",children:[h.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsx("select",{id:"status-filter",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:l.status,onChange:X=>u({...l,status:X.target.value}),children:h.jsx("option",{value:"",children:"All"})})]})]})}),h.jsx(yg,{data:oe,columns:ee,loading:n,pagination:!0,rowsPerPage:15,noDataMessage:"No products found in the database. Try importing a CSV file."})]})},a5=({quantity:e,minQuantity:t})=>{let n,r,s;return e<=0?(n="Out of Stock",r="bg-red-100",s="text-red-800"):e<t?(n="Low Stock",r="bg-yellow-100",s="text-yellow-800"):(n="In Stock",r="bg-green-100",s="text-green-800"),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium ${r} ${s}`,children:n})},l5=({isOpen:e,onClose:t,onAddItems:n})=>{const[r,s]=M.useState("manual"),[i,o]=M.useState([{sku:"",name:"",quantity:1,location:"",category:""}]),[a,l]=M.useState([]),[u,c]=M.useState(!1),d=M.useRef(null),f=["Warehouse A","Warehouse B","Warehouse C","Warehouse D"],p=["Smart Speakers","Streaming Devices","E-readers","Smart Home","Tablets"],m=()=>{o([...i,{sku:"",name:"",quantity:1,location:"",category:""}])},y=O=>{const S=[...i];S.splice(O,1),o(S)},b=(O,S,E)=>{const I=[...i];if(S==="quantity"){const D=parseInt(E,10);I[O][S]=isNaN(D)||D<=0?1:D}else I[O][S]=E;o(I)},v=O=>{try{const S=O.split(/\r\n|\n/),E=S[0].split(",").map(H=>H.trim().toLowerCase()),I={sku:["sku","barcode","upc","ean"],name:["name","product","item","description","title"],quantity:["quantity","qty","count","amount"],location:["location","warehouse","store"],category:["category","type","group"]},D={};for(const[H,Q]of Object.entries(I)){const re=E.findIndex(oe=>Q.includes(oe));re!==-1&&(D[H]=re)}if(!("sku"in D)||!("name"in D))throw new Error("CSV is missing required columns (SKU/Barcode and Product Name)");const $=[];for(let H=1;H<S.length;H++){if(!S[H].trim())continue;const Q=S[H].split(",").map(oe=>oe.trim());if(Q.length<Math.max(...Object.values(D))+1)continue;const re={id:H-1,sku:D.sku!==void 0?Q[D.sku]:"",name:D.name!==void 0?Q[D.name]:"",quantity:D.quantity!==void 0&&parseInt(Q[D.quantity],10)||1,location:D.location!==void 0?Q[D.location]:"",category:D.category!==void 0?Q[D.category]:""};re.sku&&re.name&&(re.quantity<=0&&(re.quantity=1),$.push(re))}return $}catch(S){throw console.error("Error parsing CSV:",S),S}},w=O=>{const S=O.target.files[0];if(!S)return;if(S.name.split(".").pop().toLowerCase()!=="csv"){le.error("Please upload a CSV file"),d.current&&(d.current.value="");return}const I=new FileReader;I.onload=D=>{try{const $=v(D.target.result);if($.length===0){le.error("No valid items found in the CSV file"),d.current&&(d.current.value="");return}const H=$.filter(Q=>!Q.sku||!Q.name);H.length>0&&le.warning(`${H.length} items were skipped due to missing SKU or name`),l($),le.success(`Successfully imported ${$.length} items`)}catch($){console.error("Error parsing file:",$),le.error(`Failed to parse the file: ${$.message||"Please check the format"}`),d.current&&(d.current.value="")}},I.onerror=()=>{le.error("Failed to read the file"),d.current&&(d.current.value="")},I.readAsText(S)},x=async()=>{if(i.filter(E=>!E.sku||!E.name||!E.location).length>0){le.error("Please fill in all required fields (SKU, Name, Location) for all items");return}if(i.filter(E=>isNaN(E.quantity)||E.quantity<=0).length>0){le.error("Quantity must be a positive number for all items");return}c(!0);try{const E=i.map(I=>({...I,quantity:parseInt(I.quantity,10),min_quantity:10,condition:"New",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"Active"}));await n(E),o([{sku:"",name:"",quantity:1,location:"",category:""}]),t()}catch(E){console.error("Error adding stock:",E),le.error("Failed to add stock items. Please try again.")}finally{c(!1)}},R=async()=>{if(a.length===0){le.error("Please import items before submitting");return}c(!0);try{const O=a.map(S=>({...S,quantity:parseInt(S.quantity,10),min_quantity:10,condition:"New",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"Active"}));await n(O),l([]),d.current&&(d.current.value=""),t()}catch(O){console.error("Error adding imported stock:",O),le.error("Failed to add imported items. Please try again.")}finally{c(!1)}},P=()=>{const O=`SKU,Name,Quantity,Location,Category
123456789,Product Name,10,Warehouse A,Category`,S=new Blob([O],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a"),I=URL.createObjectURL(S);E.setAttribute("href",I),E.setAttribute("download","inventory_import_template.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E),le.success("Template downloaded successfully")},A=()=>{o([{sku:"",name:"",quantity:1,location:"",category:""}]),l([]),s("manual"),d.current&&(d.current.value=""),t()};return h.jsxs(r5,{isOpen:e,onClose:A,title:"Add Stock",size:"lg",children:[h.jsxs("div",{className:"flex border-b border-gray-200 mb-4",children:[h.jsx("button",{className:`py-2 px-4 ${r==="manual"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>s("manual"),children:"Manual Entry"}),h.jsx("button",{className:`py-2 px-4 ${r==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>s("import"),children:"Import from CSV"})]}),r==="manual"&&h.jsxs("div",{children:[h.jsx("div",{className:"mb-4",children:h.jsx("p",{className:"text-sm text-gray-600",children:'Add items manually by filling in the details below. Click "Add Item" to add multiple items.'})}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.map((O,S)=>h.jsxs("div",{className:"flex flex-wrap gap-3 mb-3 pb-3 border-b border-gray-200",children:[h.jsxs("div",{className:"w-full md:w-[calc(25%-0.75rem)]",children:[h.jsx("label",{htmlFor:`sku-${S}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Barcode*"}),h.jsx("input",{type:"text",id:`sku-${S}`,value:O.sku,onChange:E=>b(S,"sku",E.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{className:"w-full md:w-[calc(30%-0.75rem)]",children:[h.jsx("label",{htmlFor:`name-${S}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name*"}),h.jsx("input",{type:"text",id:`name-${S}`,value:O.name,onChange:E=>b(S,"name",E.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{className:"w-full md:w-[calc(15%-0.75rem)]",children:[h.jsx("label",{htmlFor:`quantity-${S}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity*"}),h.jsx("input",{type:"number",id:`quantity-${S}`,value:O.quantity,onChange:E=>b(S,"quantity",E.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),h.jsxs("div",{className:"w-full md:w-[calc(20%-0.75rem)]",children:[h.jsx("label",{htmlFor:`location-${S}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Location*"}),h.jsxs("select",{id:`location-${S}`,value:O.location,onChange:E=>b(S,"location",E.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[h.jsx("option",{value:"",children:"Select Location"}),f.map(E=>h.jsx("option",{value:E,children:E},E))]})]}),h.jsxs("div",{className:"w-full md:w-[calc(20%-0.75rem)]",children:[h.jsx("label",{htmlFor:`category-${S}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),h.jsxs("select",{id:`category-${S}`,value:O.category,onChange:E=>b(S,"category",E.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Select Category"}),p.map(E=>h.jsx("option",{value:E,children:E},E))]})]}),h.jsx("div",{className:"w-full md:w-[calc(10%-0.75rem)] flex items-end justify-center pb-1",children:i.length>1&&h.jsx("button",{type:"button",onClick:()=>y(S),className:"text-red-600 hover:text-red-800","aria-label":"Remove item",children:h.jsx(hg,{className:"h-6 w-6"})})})]},S))}),h.jsx("div",{className:"mt-4 mb-6",children:h.jsxs(He,{variant:"outline",onClick:m,className:"flex items-center",children:[h.jsx(Uc,{className:"h-5 w-5 mr-1"}),"Add Item"]})}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx(He,{variant:"secondary",onClick:A,disabled:u,children:"Cancel"}),h.jsx(He,{variant:"primary",onClick:x,disabled:u,className:"flex items-center",children:u?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white rounded-full border-t-transparent"}),"Processing..."]}):h.jsxs(h.Fragment,{children:[h.jsx(aj,{className:"h-5 w-5 mr-1"}),"Add to Inventory"]})})]})]}),r==="import"&&h.jsxs("div",{children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Import stock items from a CSV file. Download the template below for the correct format."}),h.jsxs(He,{variant:"outline",onClick:P,className:"flex items-center",children:[h.jsx(Ca,{className:"h-5 w-5 mr-1"}),"Download Template"]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),h.jsx("input",{type:"file",accept:".csv",onChange:w,ref:d,className:"w-full border border-gray-300 p-2 rounded-md"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"File must be in CSV format with columns for SKU, Name, Quantity, Location, and Category"})]}),a.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Imported Items (",a.length,")"]}),h.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-md",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),h.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),h.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),h.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),h.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"})]})}),h.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.slice(0,5).map((O,S)=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:O.sku}),h.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:O.name}),h.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:O.quantity}),h.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:O.location}),h.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:O.category})]},S)),a.length>5&&h.jsx("tr",{children:h.jsxs("td",{colSpan:"5",className:"px-3 py-2 text-sm text-gray-500 text-center",children:["...and ",a.length-5," more items"]})})]})]})})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx(He,{variant:"secondary",onClick:A,disabled:u,children:"Cancel"}),h.jsx(He,{variant:"primary",onClick:R,disabled:u||a.length===0,className:"flex items-center",children:u?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white rounded-full border-t-transparent"}),"Processing..."]}):h.jsxs(h.Fragment,{children:[h.jsx(yj,{className:"h-5 w-5 mr-1"}),"Import Items"]})})]})]})]})};function yw(e,t){return function(){return e.apply(t,arguments)}}const{toString:u5}=Object.prototype,{getPrototypeOf:vg}=Object,{iterator:Hc,toStringTag:vw}=Symbol,Wc=(e=>t=>{const n=u5.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=e=>(e=e.toLowerCase(),t=>Wc(t)===e),qc=e=>t=>typeof t===e,{isArray:so}=Array,Ea=qc("undefined");function c5(e){return e!==null&&!Ea(e)&&e.constructor!==null&&!Ea(e.constructor)&&on(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xw=Xn("ArrayBuffer");function d5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xw(e.buffer),t}const f5=qc("string"),on=qc("function"),ww=qc("number"),Gc=e=>e!==null&&typeof e=="object",h5=e=>e===!0||e===!1,vu=e=>{if(Wc(e)!=="object")return!1;const t=vg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(vw in e)&&!(Hc in e)},p5=Xn("Date"),g5=Xn("File"),m5=Xn("Blob"),y5=Xn("FileList"),v5=e=>Gc(e)&&on(e.pipe),x5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||on(e.append)&&((t=Wc(e))==="formdata"||t==="object"&&on(e.toString)&&e.toString()==="[object FormData]"))},w5=Xn("URLSearchParams"),[_5,b5,S5,k5]=["ReadableStream","Request","Response","Headers"].map(Xn),C5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),so(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function _w(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const $s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bw=e=>!Ea(e)&&e!==$s;function Vh(){const{caseless:e}=bw(this)&&this||{},t={},n=(r,s)=>{const i=e&&_w(t,s)||s;vu(t[i])&&vu(r)?t[i]=Vh(t[i],r):vu(r)?t[i]=Vh({},r):so(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Wa(arguments[r],n);return t}const E5=(e,t,n,{allOwnKeys:r}={})=>(Wa(t,(s,i)=>{n&&on(s)?e[i]=yw(s,n):e[i]=s},{allOwnKeys:r}),e),R5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),j5=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},P5=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&vg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},T5=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},O5=e=>{if(!e)return null;if(so(e))return e;let t=e.length;if(!ww(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},A5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vg(Uint8Array)),N5=(e,t)=>{const r=(e&&e[Hc]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},M5=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},I5=Xn("HTMLFormElement"),L5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),b0=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),D5=Xn("RegExp"),Sw=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Wa(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},F5=e=>{Sw(e,(t,n)=>{if(on(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(on(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$5=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return so(e)?r(e):r(String(e).split(t)),n},z5=()=>{},B5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function U5(e){return!!(e&&on(e.append)&&e[vw]==="FormData"&&e[Hc])}const V5=e=>{const t=new Array(10),n=(r,s)=>{if(Gc(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=so(r)?[]:{};return Wa(r,(o,a)=>{const l=n(o,s+1);!Ea(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},H5=Xn("AsyncFunction"),W5=e=>e&&(Gc(e)||on(e))&&on(e.then)&&on(e.catch),kw=((e,t)=>e?setImmediate:t?((n,r)=>($s.addEventListener("message",({source:s,data:i})=>{s===$s&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),$s.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",on($s.postMessage)),q5=typeof queueMicrotask<"u"?queueMicrotask.bind($s):typeof process<"u"&&process.nextTick||kw,G5=e=>e!=null&&on(e[Hc]),se={isArray:so,isArrayBuffer:xw,isBuffer:c5,isFormData:x5,isArrayBufferView:d5,isString:f5,isNumber:ww,isBoolean:h5,isObject:Gc,isPlainObject:vu,isReadableStream:_5,isRequest:b5,isResponse:S5,isHeaders:k5,isUndefined:Ea,isDate:p5,isFile:g5,isBlob:m5,isRegExp:D5,isFunction:on,isStream:v5,isURLSearchParams:w5,isTypedArray:A5,isFileList:y5,forEach:Wa,merge:Vh,extend:E5,trim:C5,stripBOM:R5,inherits:j5,toFlatObject:P5,kindOf:Wc,kindOfTest:Xn,endsWith:T5,toArray:O5,forEachEntry:N5,matchAll:M5,isHTMLForm:I5,hasOwnProperty:b0,hasOwnProp:b0,reduceDescriptors:Sw,freezeMethods:F5,toObjectSet:$5,toCamelCase:L5,noop:z5,toFiniteNumber:B5,findKey:_w,global:$s,isContextDefined:bw,isSpecCompliantForm:U5,toJSONObject:V5,isAsyncFn:H5,isThenable:W5,setImmediate:kw,asap:q5,isIterable:G5};function Te(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}se.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const Cw=Te.prototype,Ew={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ew[e]={value:e}});Object.defineProperties(Te,Ew);Object.defineProperty(Cw,"isAxiosError",{value:!0});Te.from=(e,t,n,r,s,i)=>{const o=Object.create(Cw);return se.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Te.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const K5=null;function Hh(e){return se.isPlainObject(e)||se.isArray(e)}function Rw(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function S0(e,t,n){return e?e.concat(t).map(function(s,i){return s=Rw(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Y5(e){return se.isArray(e)&&!e.some(Hh)}const X5=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function Kc(e,t,n){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!se.isUndefined(b[y])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(se.isDate(m))return m.toISOString();if(!l&&se.isBlob(m))throw new Te("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(m)||se.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,y,b){let v=m;if(m&&!b&&typeof m=="object"){if(se.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(se.isArray(m)&&Y5(m)||(se.isFileList(m)||se.endsWith(y,"[]"))&&(v=se.toArray(m)))return y=Rw(y),v.forEach(function(x,R){!(se.isUndefined(x)||x===null)&&t.append(o===!0?S0([y],R,i):o===null?y:y+"[]",u(x))}),!1}return Hh(m)?!0:(t.append(S0(b,y,i),u(m)),!1)}const d=[],f=Object.assign(X5,{defaultVisitor:c,convertValue:u,isVisitable:Hh});function p(m,y){if(!se.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(m),se.forEach(m,function(v,w){(!(se.isUndefined(v)||v===null)&&s.call(t,v,se.isString(w)?w.trim():w,y,f))===!0&&p(v,y?y.concat(w):[w])}),d.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return p(e),t}function k0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function xg(e,t){this._pairs=[],e&&Kc(e,this,t)}const jw=xg.prototype;jw.append=function(t,n){this._pairs.push([t,n])};jw.toString=function(t){const n=t?function(r){return t.call(this,r,k0)}:k0;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function J5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pw(e,t,n){if(!t)return e;const r=n&&n.encode||J5;se.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=se.isURLSearchParams(t)?t.toString():new xg(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class C0{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Tw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q5=typeof URLSearchParams<"u"?URLSearchParams:xg,Z5=typeof FormData<"u"?FormData:null,eT=typeof Blob<"u"?Blob:null,tT={isBrowser:!0,classes:{URLSearchParams:Q5,FormData:Z5,Blob:eT},protocols:["http","https","file","blob","url","data"]},wg=typeof window<"u"&&typeof document<"u",Wh=typeof navigator=="object"&&navigator||void 0,nT=wg&&(!Wh||["ReactNative","NativeScript","NS"].indexOf(Wh.product)<0),rT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sT=wg&&window.location.href||"http://localhost",iT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wg,hasStandardBrowserEnv:nT,hasStandardBrowserWebWorkerEnv:rT,navigator:Wh,origin:sT},Symbol.toStringTag,{value:"Module"})),Lt={...iT,...tT};function oT(e,t){return Kc(e,new Lt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Lt.isNode&&se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function aT(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lT(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Ow(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&se.isArray(s)?s.length:o,l?(se.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!se.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&se.isArray(s[o])&&(s[o]=lT(s[o])),!a)}if(se.isFormData(e)&&se.isFunction(e.entries)){const n={};return se.forEachEntry(e,(r,s)=>{t(aT(r),s,n,0)}),n}return null}function uT(e,t,n){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const qa={transitional:Tw,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=se.isObject(t);if(i&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return s?JSON.stringify(Ow(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return oT(t,this.formSerializer).toString();if((a=se.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kc(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),uT(t)):t}],transformResponse:[function(t){const n=this.transitional||qa.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Te.from(a,Te.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{qa.headers[e]={}});const cT=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dT=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&cT[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},E0=Symbol("internals");function Ro(e){return e&&String(e).trim().toLowerCase()}function xu(e){return e===!1||e==null?e:se.isArray(e)?e.map(xu):String(e)}function fT(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const hT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gf(e,t,n,r,s){if(se.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!se.isString(t)){if(se.isString(r))return t.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(t)}}function pT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function gT(e,t){const n=se.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let an=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,u){const c=Ro(l);if(!c)throw new Error("header name must be a non-empty string");const d=se.findKey(s,c);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||l]=xu(a))}const o=(a,l)=>se.forEach(a,(u,c)=>i(u,c,l));if(se.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(se.isString(t)&&(t=t.trim())&&!hT(t))o(dT(t),n);else if(se.isObject(t)&&se.isIterable(t)){let a={},l,u;for(const c of t){if(!se.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?se.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Ro(t),t){const r=se.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return fT(s);if(se.isFunction(n))return n.call(this,s,r);if(se.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ro(t),t){const r=se.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||gf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Ro(o),o){const a=se.findKey(r,o);a&&(!n||gf(r,r[a],a,n))&&(delete r[a],s=!0)}}return se.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||gf(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return se.forEach(this,(s,i)=>{const o=se.findKey(r,i);if(o){n[o]=xu(s),delete n[i];return}const a=t?pT(i):String(i).trim();a!==i&&delete n[i],n[a]=xu(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return se.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[E0]=this[E0]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Ro(o);r[a]||(gT(s,o),r[a]=!0)}return se.isArray(t)?t.forEach(i):i(t),this}};an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(an.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});se.freezeMethods(an);function mf(e,t){const n=this||qa,r=t||n,s=an.from(r.headers);let i=r.data;return se.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Aw(e){return!!(e&&e.__CANCEL__)}function io(e,t,n){Te.call(this,e??"canceled",Te.ERR_CANCELED,t,n),this.name="CanceledError"}se.inherits(io,Te,{__CANCEL__:!0});function Nw(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Te("Request failed with status code "+n.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function yT(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[s]=l,r[s]=u;let d=i,f=0;for(;d!==s;)f+=n[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function vT(e,t){let n=0,r=1e3/t,s,i;const o=(u,c=Date.now())=>{n=c,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?o(u,c):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const rc=(e,t,n=3)=>{let r=0;const s=yT(50,250);return vT(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),c=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},R0=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},j0=e=>(...t)=>se.asap(()=>e(...t)),xT=Lt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Lt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Lt.origin),Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent)):()=>!0,wT=Lt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];se.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),se.isString(r)&&o.push("path="+r),se.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _T(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Mw(e,t,n){let r=!_T(t);return e&&(r||n==!1)?bT(e,t):t}const P0=e=>e instanceof an?{...e}:e;function Zs(e,t){t=t||{};const n={};function r(u,c,d,f){return se.isPlainObject(u)&&se.isPlainObject(c)?se.merge.call({caseless:f},u,c):se.isPlainObject(c)?se.merge({},c):se.isArray(c)?c.slice():c}function s(u,c,d,f){if(se.isUndefined(c)){if(!se.isUndefined(u))return r(void 0,u,d,f)}else return r(u,c,d,f)}function i(u,c){if(!se.isUndefined(c))return r(void 0,c)}function o(u,c){if(se.isUndefined(c)){if(!se.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>s(P0(u),P0(c),d,!0)};return se.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||s,f=d(e[c],t[c],c);se.isUndefined(f)&&d!==a||(n[c]=f)}),n}const Iw=e=>{const t=Zs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=an.from(o),t.url=Pw(Mw(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(se.isFormData(n)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Lt.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(t)),r||r!==!1&&xT(t.url))){const u=s&&i&&wT.read(i);u&&o.set(s,u)}return t},ST=typeof XMLHttpRequest<"u",kT=ST&&function(e){return new Promise(function(n,r){const s=Iw(e);let i=s.data;const o=an.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,c,d,f,p,m;function y(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function v(){if(!b)return;const x=an.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:e,request:b};Nw(function(O){n(O),y()},function(O){r(O),y()},P),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(r(new Te("Request aborted",Te.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new Te("Network Error",Te.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let R=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||Tw;s.timeoutErrorMessage&&(R=s.timeoutErrorMessage),r(new Te(R,P.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&se.forEach(o.toJSON(),function(R,P){b.setRequestHeader(P,R)}),se.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),u&&([f,m]=rc(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([d,p]=rc(l),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(c=x=>{b&&(r(!x||x.type?new io(null,e,b):x),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const w=mT(s.url);if(w&&Lt.protocols.indexOf(w)===-1){r(new Te("Unsupported protocol "+w+":",Te.ERR_BAD_REQUEST,e));return}b.send(i||null)})},CT=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Te?c:new io(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,i(new Te(`timeout ${t} of ms exceeded`,Te.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>se.asap(a),l}},ET=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},RT=async function*(e,t){for await(const n of jT(e))yield*ET(n,t)},jT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},T0=(e,t,n,r)=>{const s=RT(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await s.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let f=i+=d;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Yc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Lw=Yc&&typeof ReadableStream=="function",PT=Yc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Dw=(e,...t)=>{try{return!!e(...t)}catch{return!1}},TT=Lw&&Dw(()=>{let e=!1;const t=new Request(Lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),O0=64*1024,qh=Lw&&Dw(()=>se.isReadableStream(new Response("").body)),sc={stream:qh&&(e=>e.body)};Yc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!sc[t]&&(sc[t]=se.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Te(`Response type '${t}' is not supported`,Te.ERR_NOT_SUPPORT,r)})})})(new Response);const OT=async e=>{if(e==null)return 0;if(se.isBlob(e))return e.size;if(se.isSpecCompliantForm(e))return(await new Request(Lt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(se.isArrayBufferView(e)||se.isArrayBuffer(e))return e.byteLength;if(se.isURLSearchParams(e)&&(e=e+""),se.isString(e))return(await PT(e)).byteLength},AT=async(e,t)=>{const n=se.toFiniteNumber(e.getContentLength());return n??OT(t)},NT=Yc&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=Iw(e);u=u?(u+"").toLowerCase():"text";let p=CT([s,i&&i.toAbortSignal()],o),m;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&TT&&n!=="get"&&n!=="head"&&(b=await AT(c,r))!==0){let P=new Request(t,{method:"POST",body:r,duplex:"half"}),A;if(se.isFormData(r)&&(A=P.headers.get("content-type"))&&c.setContentType(A),P.body){const[O,S]=R0(b,rc(j0(l)));r=T0(P.body,O0,O,S)}}se.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;m=new Request(t,{...f,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:v?d:void 0});let w=await fetch(m);const x=qh&&(u==="stream"||u==="response");if(qh&&(a||x&&y)){const P={};["status","statusText","headers"].forEach(E=>{P[E]=w[E]});const A=se.toFiniteNumber(w.headers.get("content-length")),[O,S]=a&&R0(A,rc(j0(a),!0))||[];w=new Response(T0(w.body,O0,O,()=>{S&&S(),y&&y()}),P)}u=u||"text";let R=await sc[se.findKey(sc,u)||"text"](w,e);return!x&&y&&y(),await new Promise((P,A)=>{Nw(P,A,{data:R,headers:an.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:m})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,e,m),{cause:v.cause||v}):Te.from(v,v&&v.code,e,m)}}),Gh={http:K5,xhr:kT,fetch:NT};se.forEach(Gh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const A0=e=>`- ${e}`,MT=e=>se.isFunction(e)||e===null||e===!1,Fw={getAdapter:e=>{e=se.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!MT(n)&&(r=Gh[(o=String(n)).toLowerCase()],r===void 0))throw new Te(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(A0).join(`
`):" "+A0(i[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Gh};function yf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new io(null,e)}function N0(e){return yf(e),e.headers=an.from(e.headers),e.data=mf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Fw.getAdapter(e.adapter||qa.adapter)(e).then(function(r){return yf(e),r.data=mf.call(e,e.transformResponse,r),r.headers=an.from(r.headers),r},function(r){return Aw(r)||(yf(e),r&&r.response&&(r.response.data=mf.call(e,e.transformResponse,r.response),r.response.headers=an.from(r.response.headers))),Promise.reject(r)})}const $w="1.9.0",Xc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const M0={};Xc.transitional=function(t,n,r){function s(i,o){return"[Axios v"+$w+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new Te(s(o," has been removed"+(n?" in "+n:"")),Te.ERR_DEPRECATED);return n&&!M0[o]&&(M0[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Xc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function IT(e,t,n){if(typeof e!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new Te("option "+i+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Te("Unknown option "+i,Te.ERR_BAD_OPTION)}}const wu={assertOptions:IT,validators:Xc},sr=wu.validators;let Ws=class{constructor(t){this.defaults=t||{},this.interceptors={request:new C0,response:new C0}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Zs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&wu.assertOptions(r,{silentJSONParsing:sr.transitional(sr.boolean),forcedJSONParsing:sr.transitional(sr.boolean),clarifyTimeoutError:sr.transitional(sr.boolean)},!1),s!=null&&(se.isFunction(s)?n.paramsSerializer={serialize:s}:wu.assertOptions(s,{encode:sr.function,serialize:sr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),wu.assertOptions(n,{baseUrl:sr.spelling("baseURL"),withXsrfToken:sr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&se.merge(i.common,i[n.method]);i&&se.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=an.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,d=0,f;if(!l){const m=[N0.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),f=m.length,c=Promise.resolve(n);d<f;)c=c.then(m[d++],m[d++]);return c}f=a.length;let p=n;for(d=0;d<f;){const m=a[d++],y=a[d++];try{p=m(p)}catch(b){y.call(this,b);break}}try{c=N0.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Zs(this.defaults,t);const n=Mw(t.baseURL,t.url,t.allowAbsoluteUrls);return Pw(n,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){Ws.prototype[t]=function(n,r){return this.request(Zs(r||{},{method:t,url:n,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Zs(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ws.prototype[t]=n(),Ws.prototype[t+"Form"]=n(!0)});let LT=class zw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new io(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new zw(function(s){t=s}),cancel:t}}};function DT(e){return function(n){return e.apply(null,n)}}function FT(e){return se.isObject(e)&&e.isAxiosError===!0}const Kh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kh).forEach(([e,t])=>{Kh[t]=e});function Bw(e){const t=new Ws(e),n=yw(Ws.prototype.request,t);return se.extend(n,Ws.prototype,t,{allOwnKeys:!0}),se.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Bw(Zs(e,s))},n}const nt=Bw(qa);nt.Axios=Ws;nt.CanceledError=io;nt.CancelToken=LT;nt.isCancel=Aw;nt.VERSION=$w;nt.toFormData=Kc;nt.AxiosError=Te;nt.Cancel=nt.CanceledError;nt.all=function(t){return Promise.all(t)};nt.spread=DT;nt.isAxiosError=FT;nt.mergeConfig=Zs;nt.AxiosHeaders=an;nt.formToJSON=e=>Ow(se.isHTMLForm(e)?new FormData(e):e);nt.getAdapter=Fw.getAdapter;nt.HttpStatusCode=Kh;nt.default=nt;const{Axios:xM,AxiosError:wM,CanceledError:_M,isCancel:bM,CancelToken:SM,VERSION:kM,all:CM,Cancel:EM,isAxiosError:RM,spread:jM,toFormData:PM,AxiosHeaders:TM,HttpStatusCode:OM,formToJSON:AM,getAdapter:NM,mergeConfig:MM}=nt,$T="https://jjtdvdbfbsdcoyehubmx.supabase.co",zT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqdGR2ZGJmYnNkY295ZWh1Ym14Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUyOTcyNzAsImV4cCI6MjA2MDg3MzI3MH0.TtRDY8WdcvGCm39kOqodZoU8xQ_k4E7zO1NLfbtpPhA";T1($T,zT);const BT=M.createContext(),UT=()=>{const e=M.useContext(BT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},I0={async ensureTableExists(){try{const{count:e,error:t}=await Ne.from("product_lookups").select("*",{count:"exact",head:!0});return t?(console.log("Error checking for product_lookups table:",t),t.code==="PGRST204"||t.message.includes("does not exist")?this.createTable():!1):(console.log("product_lookups table exists"),!0)}catch(e){return console.error("Error checking for product_lookups table:",e),!1}},async createTable(){try{const{error:e}=await Ne.rpc("create_product_lookups_table");return e?(console.error("Error creating product_lookups table:",e),!1):(console.log("Successfully created product_lookups table"),!0)}catch(e){return console.error("Error creating product_lookups table:",e),!1}},async ensureColumnExists(e,t){try{console.log(`Checking if ${e} column exists in product_lookups table`);const{data:n,error:r}=await Ne.from("information_schema.columns").select("column_name").eq("table_schema","public").eq("table_name","product_lookups").eq("column_name",e);if(r)return console.error(`Error checking for ${e} column:`,r),!1;if(!n||n.length===0){console.log(`Adding ${e} column to product_lookups table`);const{error:s}=await Ne.rpc("exec",{query:`
            ALTER TABLE product_lookups
            ADD COLUMN ${e} ${t}
          `});if(s)return console.error(`Error adding ${e} column:`,s),!1;console.log(`${e} column added successfully`)}else console.log(`${e} column already exists`);return!0}catch(n){return console.error(`Unexpected error in ensureColumnExists for ${e}:`,n),!1}},async updateLastLookup(e,t){try{if(!e)return console.error("updateLastLookup called without FNSKU"),!1;try{const{error:n}=await Ne.from("product_lookups").update({last_lookup_at:new Date().toISOString(),user_id:t||null}).eq("fnsku",e);if(n){if(n.message.includes("last_lookup_at")||n.code==="PGRST204"){console.log("last_lookup_at column missing, trying alternative update");const{error:r}=await Ne.from("product_lookups").update({user_id:t||null}).eq("fnsku",e);return!r}return console.error("Error updating last lookup timestamp:",n),!1}return!0}catch(n){return console.error("Exception in updateLastLookup:",n),!1}}catch(n){return console.error("Unexpected error in updateLastLookup:",n),!1}},async saveProductLookup(e,t){try{if(!e||!e.fnsku)return console.error("saveProductLookup called without valid product data"),null;console.log(`Saving product lookup for FNSKU: ${e.fnsku}, user: ${t||"anonymous"}`),await this.ensureTableExists();const{data:n,error:r}=await Ne.from("product_lookups").select("*").eq("fnsku",e.fnsku).limit(1);if(r&&console.error("Error checking for existing product:",r),n&&n.length>0){console.log("Updating existing product lookup");try{const s={asin:e.asin,name:e.name};try{s.last_lookup_at=new Date().toISOString();const{data:a,error:l}=await Ne.from("product_lookups").update(s).eq("fnsku",e.fnsku).select().single();if(!l)return a;if(l.message.includes("last_lookup_at")||l.code==="PGRST204")delete s.last_lookup_at;else throw l}catch(a){console.log("Error updating with last_lookup_at, trying without:",a.message)}const{data:i,error:o}=await Ne.from("product_lookups").update(s).eq("fnsku",e.fnsku).select().single();return o?(console.error("Error updating existing product:",o),null):i}catch(s){return console.error("Exception in product update:",s),e}}else{console.log("Inserting new product lookup");try{const s={fnsku:e.fnsku,asin:e.asin,name:e.name};console.log("Attempting initial insert with data:",JSON.stringify(s));const{data:i,error:o}=await Ne.from("product_lookups").insert(s).select().single();return o?(console.error("Initial insert failed. Error:",JSON.stringify(o)),console.error("Error inserting base product lookup:",o),e):(console.log("Initial insert successful. Data:",JSON.stringify(i)),i)}catch(s){return console.error("Outer exception during product insert process:",JSON.stringify(s)),console.error("Exception in product insert:",s),e}}}catch(n){return console.error("Unexpected error in saveProductLookup:",n),e}},async getProductByFnsku(e){try{if(!e)return console.error("getProductByFnsku called without FNSKU"),null;console.log(`Getting product by FNSKU: ${e}`);const{data:t,error:n}=await Ne.from("product_lookups").select("*").eq("fnsku",e).limit(1);return n?(console.error("Error getting product by FNSKU:",n),null):t&&t.length>0?t[0]:null}catch(t){return console.error("Unexpected error in getProductByFnsku:",t),null}},async getRecentLookups(e,t=10){try{if(!e)return console.error("getRecentLookups called without userId"),[];console.log(`Getting recent lookups for user: ${e}, limit: ${t}`);const{data:n,error:r}=await Ne.from("product_lookups").select("*").eq("user_id",e).order("last_lookup_at",{ascending:!1}).limit(t);return r?(console.error("Error getting recent lookups:",r),[]):n||[]}catch(n){return console.error("Unexpected error in getRecentLookups:",n),[]}}},VT=()=>{const{apiClient:e}=UT(),t=hr(),[n,r]=M.useState(!0),[s,i]=M.useState([]),[o,a]=M.useState(""),[l,u]=M.useState({location:"",status:"",category:""}),[c,d]=M.useState(!1),[f,p]=M.useState(!1),m=["All Locations","Warehouse A","Warehouse B","Warehouse C","Warehouse D"],y=["All Categories","Smart Speakers","Streaming Devices","E-readers","Smart Home","Tablets"],b=["All","In Stock","Low Stock","Out of Stock"];M.useEffect(()=>{v()},[]);const v=async()=>{r(!0);try{const $=await ko.getInventory();$&&$.length>0?i($):le.info("No inventory items found. Add some items to get started.")}catch($){console.error("Failed to fetch inventory:",$),le.error("Failed to fetch inventory data. Please try again.")}finally{r(!1)}},w=$=>{if(!$)return"N/A";try{const H=new Date($);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(H)}catch(H){return console.error("Error formatting date:",H),"Invalid date"}},x=()=>{u({location:"",status:"",category:""}),a(""),le.info("Filters have been reset")},R=()=>{try{const $=I(),re=[["Product Name","SKU","Quantity","Min Quantity","Location","Category","Status","Last Updated"].join(","),...$.map(K=>[`"${(K.product_name||K.name||"").replace(/"/g,'""')}"`,`"${(K.sku||"").replace(/"/g,'""')}"`,K.quantity||0,K.min_quantity||0,`"${(K.location||"").replace(/"/g,'""')}"`,`"${(K.category||"").replace(/"/g,'""')}"`,`"${E(K.quantity,K.min_quantity)}"`,`"${w(K.updated_at||K.last_updated)}"`].join(","))].join(`
`),oe=new Blob([re],{type:"text/csv;charset=utf-8;"}),ee=URL.createObjectURL(oe),Y=document.createElement("a");Y.setAttribute("href",ee),Y.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.csv`),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),le.success("Inventory data has been exported to CSV")}catch($){console.error("Error exporting inventory:",$),le.error("Failed to export inventory data")}},P=()=>{p(!0)},A=async $=>{try{const H=[];for(const Q of $){let re=null;const oe=await I0.getProductByFnsku(Q.sku);if(oe)re=oe.id;else{const Y={name:Q.name,sku:Q.sku,price:Q.price||0,category:Q.category||"Uncategorized",condition:Q.condition||"New",source:"Manual Entry",created_at:new Date().toISOString()};re=(await I0.saveProductLookup(Y)).id}const ee=await ko.getInventoryBySku(Q.sku);if(ee){const Y=await ko.addOrUpdateInventory({...ee,quantity:ee.quantity+(Q.quantity||0),updated_at:new Date().toISOString(),last_updated_reason:"Added stock via form"});H.push(Y),le.info(`Updated quantity for existing item: ${Q.name}`)}else{const Y={product_id:re,product_name:Q.name,sku:Q.sku,quantity:Q.quantity||0,min_quantity:Q.min_quantity||10,location:Q.location,category:Q.category||"Uncategorized",status:"Active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},K=await ko.addOrUpdateInventory(Y);H.push(K)}}v(),le.success(`Added ${H.length} items to inventory`)}catch(H){console.error("Error adding inventory items:",H),le.error("Failed to add items to inventory. Please try again.")}},O=async $=>{try{const H=prompt(`Adjust quantity for ${$.product_name}. Current: ${$.quantity}.
Enter new quantity or +/- value:`);if(H===null)return;let Q;if(H.startsWith("+")||H.startsWith("-")){const re=parseInt(H,10);if(isNaN(re)){le.error("Please enter a valid number");return}Q=$.quantity+re}else if(Q=parseInt(H,10),isNaN(Q)){le.error("Please enter a valid number");return}Q=Math.max(0,Q),await ko.addOrUpdateInventory({...$,quantity:Q,updated_at:new Date().toISOString(),last_updated_reason:"Manual adjustment"}),v(),le.success(`Updated ${$.product_name} quantity to ${Q}`)}catch(H){console.error("Error adjusting stock:",H),le.error("Failed to adjust stock. Please try again.")}},S=$=>{t(`/products/${$.product_id}`)},E=($,H)=>$<=0?"Out of Stock":$<H?"Low Stock":"In Stock",I=()=>s.filter($=>!(o&&!JSON.stringify($).toLowerCase().includes(o.toLowerCase())||l.location&&l.location!=="All Locations"&&$.location!==l.location||l.category&&l.category!=="All Categories"&&$.category!==l.category||l.status&&l.status!=="All"&&E($.quantity,$.min_quantity)!==l.status)),D=[{header:"Product",accessor:"product_name",cell:$=>h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:$.product_name||$.name}),h.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",$.sku]})]})},{header:"Location",accessor:"location"},{header:"Quantity",accessor:"quantity",cell:$=>h.jsx("div",{className:"text-center",children:$.quantity})},{header:"Status",accessor:"status",cell:$=>h.jsx(a5,{status:E($.quantity,$.min_quantity)})},{header:"Last Updated",accessor:"last_updated",cell:$=>h.jsx("div",{className:"text-sm",children:w($.updated_at||$.last_updated)})},{header:"Actions",accessor:"actions",cell:$=>h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx("button",{onClick:()=>O($),className:"text-blue-600 hover:text-blue-800",title:"Adjust Stock",children:h.jsx(JR,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>S($),className:"text-indigo-600 hover:text-indigo-800",title:"View Details",children:h.jsx(uj,{className:"h-5 w-5"})})]})}];return h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory"}),h.jsx("p",{className:"text-gray-600",children:"Track and manage stock levels across all locations"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsxs(He,{variant:"outline",className:"flex items-center",onClick:()=>d(!c),children:[h.jsx(ew,{className:"h-5 w-5 mr-2"}),c?"Hide Filters":"Show Filters"]}),h.jsxs(He,{variant:"outline",className:"flex items-center",onClick:R,children:[h.jsx(Ca,{className:"h-5 w-5 mr-2"}),"Export"]}),h.jsxs(He,{variant:"primary",className:"flex items-center",onClick:P,children:[h.jsx(Uc,{className:"h-5 w-5 mr-2"}),"Add Stock"]})]})]}),h.jsxs(fn,{children:[h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("input",{type:"text",placeholder:"Search by product name or SKU...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:o,onChange:$=>a($.target.value)}),h.jsx(Va,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(He,{variant:"secondary",size:"sm",onClick:x,disabled:!o&&!l.location&&!l.status&&!l.category,children:[h.jsx(fg,{className:"h-4 w-4 mr-1"}),"Reset"]})})]}),c&&h.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:h.jsxs("div",{className:"flex flex-wrap gap-4",children:[h.jsxs("div",{className:"min-w-[200px]",children:[h.jsx("label",{htmlFor:"location-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),h.jsxs("select",{id:"location-filter",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:l.location,onChange:$=>u({...l,location:$.target.value}),children:[h.jsx("option",{value:"",children:"All Locations"}),m.filter($=>$!=="All Locations").map($=>h.jsx("option",{value:$,children:$},$))]})]}),h.jsxs("div",{className:"min-w-[200px]",children:[h.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),h.jsxs("select",{id:"category-filter",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:l.category,onChange:$=>u({...l,category:$.target.value}),children:[h.jsx("option",{value:"",children:"All Categories"}),y.filter($=>$!=="All Categories").map($=>h.jsx("option",{value:$,children:$},$))]})]}),h.jsxs("div",{className:"min-w-[200px]",children:[h.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsxs("select",{id:"status-filter",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:l.status,onChange:$=>u({...l,status:$.target.value}),children:[h.jsx("option",{value:"",children:"All"}),b.filter($=>$!=="All").map($=>h.jsx("option",{value:$,children:$},$))]})]})]})})]}),h.jsx(yg,{data:I(),columns:D,loading:n,pagination:!0,rowsPerPage:10,noDataMessage:"No inventory items found. Try adjusting your search or filters.",onRowClick:S})]}),h.jsx(l5,{isOpen:f,onClose:()=>p(!1),onAddItems:A})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ga(e){return e+.5|0}const Qr=(e,t,n)=>Math.max(Math.min(e,n),t);function $o(e){return Qr(Ga(e*2.55),0,255)}function ls(e){return Qr(Ga(e*255),0,255)}function Sr(e){return Qr(Ga(e/2.55)/100,0,1)}function L0(e){return Qr(Ga(e*100),0,100)}const bn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yh=[..."0123456789ABCDEF"],HT=e=>Yh[e&15],WT=e=>Yh[(e&240)>>4]+Yh[e&15],Vl=e=>(e&240)>>4===(e&15),qT=e=>Vl(e.r)&&Vl(e.g)&&Vl(e.b)&&Vl(e.a);function GT(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&bn[e[1]]*17,g:255&bn[e[2]]*17,b:255&bn[e[3]]*17,a:t===5?bn[e[4]]*17:255}:(t===7||t===9)&&(n={r:bn[e[1]]<<4|bn[e[2]],g:bn[e[3]]<<4|bn[e[4]],b:bn[e[5]]<<4|bn[e[6]],a:t===9?bn[e[7]]<<4|bn[e[8]]:255})),n}const KT=(e,t)=>e<255?t(e):"";function YT(e){var t=qT(e)?HT:WT;return e?"#"+t(e.r)+t(e.g)+t(e.b)+KT(e.a,t):void 0}const XT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uw(e,t,n){const r=t*Math.min(n,1-n),s=(i,o=(i+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function JT(e,t,n){const r=(s,i=(s+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function QT(e,t,n){const r=Uw(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function ZT(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function _g(e){const n=e.r/255,r=e.g/255,s=e.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,u,c;return i!==o&&(c=i-o,u=a>.5?c/(2-i-o):c/(i+o),l=ZT(n,r,s,c,i),l=l*60+.5),[l|0,u||0,a]}function bg(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(ls)}function Sg(e,t,n){return bg(Uw,e,t,n)}function eO(e,t,n){return bg(QT,e,t,n)}function tO(e,t,n){return bg(JT,e,t,n)}function Vw(e){return(e%360+360)%360}function nO(e){const t=XT.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?$o(+t[5]):ls(+t[5]));const s=Vw(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=eO(s,i,o):t[1]==="hsv"?r=tO(s,i,o):r=Sg(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function rO(e,t){var n=_g(e);n[0]=Vw(n[0]+t),n=Sg(n),e.r=n[0],e.g=n[1],e.b=n[2]}function sO(e){if(!e)return;const t=_g(e),n=t[0],r=L0(t[1]),s=L0(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${Sr(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const D0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},F0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iO(){const e={},t=Object.keys(F0),n=Object.keys(D0);let r,s,i,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,D0[i]);i=parseInt(F0[o],16),e[a]=[i>>16&255,i>>8&255,i&255]}return e}let Hl;function oO(e){Hl||(Hl=iO(),Hl.transparent=[0,0,0,0]);const t=Hl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const aO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lO(e){const t=aO.exec(e);let n=255,r,s,i;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?$o(o):Qr(o*255,0,255)}return r=+t[1],s=+t[3],i=+t[5],r=255&(t[2]?$o(r):Qr(r,0,255)),s=255&(t[4]?$o(s):Qr(s,0,255)),i=255&(t[6]?$o(i):Qr(i,0,255)),{r,g:s,b:i,a:n}}}function uO(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Sr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const vf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,gi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function cO(e,t,n){const r=gi(Sr(e.r)),s=gi(Sr(e.g)),i=gi(Sr(e.b));return{r:ls(vf(r+n*(gi(Sr(t.r))-r))),g:ls(vf(s+n*(gi(Sr(t.g))-s))),b:ls(vf(i+n*(gi(Sr(t.b))-i))),a:e.a+n*(t.a-e.a)}}function Wl(e,t,n){if(e){let r=_g(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Sg(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Hw(e,t){return e&&Object.assign(t||{},e)}function $0(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ls(e[3]))):(t=Hw(e,{r:0,g:0,b:0,a:1}),t.a=ls(t.a)),t}function dO(e){return e.charAt(0)==="r"?lO(e):nO(e)}class Ra{constructor(t){if(t instanceof Ra)return t;const n=typeof t;let r;n==="object"?r=$0(t):n==="string"&&(r=GT(t)||oO(t)||dO(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Hw(this._rgb);return t&&(t.a=Sr(t.a)),t}set rgb(t){this._rgb=$0(t)}rgbString(){return this._valid?uO(this._rgb):void 0}hexString(){return this._valid?YT(this._rgb):void 0}hslString(){return this._valid?sO(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=cO(this._rgb,t._rgb,n)),this}clone(){return new Ra(this.rgb)}alpha(t){return this._rgb.a=ls(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ga(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Wl(this._rgb,2,t),this}darken(t){return Wl(this._rgb,2,-t),this}saturate(t){return Wl(this._rgb,1,t),this}desaturate(t){return Wl(this._rgb,1,-t),this}rotate(t){return rO(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function mr(){}const fO=(()=>{let e=0;return()=>e++})();function Xe(e){return e==null}function wt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ve(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Tn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ir(e,t){return Tn(e)?e:t}function Ge(e,t){return typeof e>"u"?t:e}const hO=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function et(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function qe(e,t,n,r){let s,i,o;if(wt(e))for(i=e.length,s=0;s<i;s++)t.call(n,e[s],s);else if(Ve(e))for(o=Object.keys(e),i=o.length,s=0;s<i;s++)t.call(n,e[o[s]],o[s])}function ic(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function oc(e){if(wt(e))return e.map(oc);if(Ve(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=oc(e[n[s]]);return t}return e}function Ww(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function pO(e,t,n,r){if(!Ww(e))return;const s=t[e],i=n[e];Ve(s)&&Ve(i)?ja(s,i,r):t[e]=oc(i)}function ja(e,t,n){const r=wt(t)?t:[t],s=r.length;if(!Ve(e))return e;n=n||{};const i=n.merger||pO;let o;for(let a=0;a<s;++a){if(o=r[a],!Ve(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)i(l[u],e,o,n)}return e}function ta(e,t){return ja(e,t,{merger:gO})}function gO(e,t,n){if(!Ww(e))return;const r=t[e],s=n[e];Ve(r)&&Ve(s)?ta(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=oc(s))}const z0={"":e=>e,x:e=>e.x,y:e=>e.y};function mO(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function yO(e){const t=mO(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Yi(e,t){return(z0[t]||(z0[t]=yO(t)))(e)}function kg(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Pa=e=>typeof e<"u",gs=e=>typeof e=="function",B0=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function vO(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ft=Math.PI,us=2*Ft,ac=Number.POSITIVE_INFINITY,xO=Ft/180,Bn=Ft/2,Rs=Ft/4,U0=Ft*2/3,qw=Math.log10,cs=Math.sign;function _u(e,t,n){return Math.abs(e-t)<n}function V0(e){const t=Math.round(e);e=_u(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(qw(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function wO(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,i)=>s-i).pop(),t}function _O(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function lc(e){return!_O(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function bO(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function SO(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function zs(e){return e*(Ft/180)}function kO(e){return e*(180/Ft)}function H0(e){if(!Tn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function CO(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Ft&&(i+=us),{angle:i,distance:s}}function EO(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function js(e){return(e%us+us)%us}function RO(e,t,n,r){const s=js(e),i=js(t),o=js(n),a=js(i-s),l=js(o-s),u=js(s-i),c=js(s-o);return s===i||s===o||r||a>l&&u<c}function Un(e,t,n){return Math.max(t,Math.min(n,e))}function jO(e){return Un(e,-32768,32767)}function Ti(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Cg(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Xh=(e,t,n,r)=>Cg(e,n,r?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),PO=(e,t,n)=>Cg(e,n,r=>e[r][t]>=n);function TO(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const Gw=["push","pop","shift","splice","unshift"];function OO(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Gw.forEach(n=>{const r="_onData"+kg(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function W0(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(Gw.forEach(i=>{delete e[i]}),delete e._chartjs)}function Kw(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Yw=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Xw(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Yw.call(window,()=>{r=!1,e.apply(t,n)}))}}function AO(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Eg=e=>e==="start"?"left":e==="end"?"right":"center",Mt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,NO=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t,ql=e=>e===0||e===1,q0=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*us/n)),G0=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*us/n)+1,na={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Bn)+1,easeOutSine:e=>Math.sin(e*Bn),easeInOutSine:e=>-.5*(Math.cos(Ft*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ql(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ql(e)?e:q0(e,.075,.3),easeOutElastic:e=>ql(e)?e:G0(e,.075,.3),easeInOutElastic(e){return ql(e)?e:e<.5?.5*q0(e*2,.1125,.45):.5+.5*G0(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-na.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?na.easeInBounce(e*2)*.5:na.easeOutBounce(e*2-1)*.5+.5};function Jw(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function K0(e){return Jw(e)?e:new Ra(e)}function xf(e){return Jw(e)?e:new Ra(e).saturate(.5).darken(.1).hexString()}const MO=["x","y","borderWidth","radius","tension"],IO=["color","borderColor","backgroundColor"];function LO(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:IO},numbers:{type:"number",properties:MO}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function DO(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Y0=new Map;function FO(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Y0.get(n);return r||(r=new Intl.NumberFormat(e,t),Y0.set(n,r)),r}function Qw(e,t,n){return FO(t,n).format(e)}const $O={values(e){return wt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=zO(e,n)}const o=qw(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Qw(e,r,l)}};function zO(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Zw={formatters:$O};function BO(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ei=Object.create(null),Jh=Object.create(null);function ra(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function wf(e,t,n){return typeof t=="string"?ja(ra(e,t),n):ja(ra(e,""),t)}class UO{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>xf(s.backgroundColor),this.hoverBorderColor=(r,s)=>xf(s.borderColor),this.hoverColor=(r,s)=>xf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return wf(this,t,n)}get(t){return ra(this,t)}describe(t,n){return wf(Jh,t,n)}override(t,n){return wf(ei,t,n)}route(t,n,r,s){const i=ra(this,t),o=ra(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return Ve(l)?Object.assign({},u,l):Ge(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var mt=new UO({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LO,DO,BO]);function VO(e){return!e||Xe(e.size)||Xe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function X0(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Ps(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function J0(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Q0(e,t,n,r){e_(e,t,n,r,null)}function e_(e,t,n,r,s){let i,o,a,l,u,c,d,f;const p=t.pointStyle,m=t.rotation,y=t.radius;let b=(m||0)*xO;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,y,0,0,us):e.arc(n,r,y,0,us),e.closePath();break;case"triangle":c=s?s/2:y,e.moveTo(n+Math.sin(b)*c,r-Math.cos(b)*y),b+=U0,e.lineTo(n+Math.sin(b)*c,r-Math.cos(b)*y),b+=U0,e.lineTo(n+Math.sin(b)*c,r-Math.cos(b)*y),e.closePath();break;case"rectRounded":u=y*.516,l=y-u,o=Math.cos(b+Rs)*l,d=Math.cos(b+Rs)*(s?s/2-u:l),a=Math.sin(b+Rs)*l,f=Math.sin(b+Rs)*(s?s/2-u:l),e.arc(n-d,r-a,u,b-Ft,b-Bn),e.arc(n+f,r-o,u,b-Bn,b),e.arc(n+d,r+a,u,b,b+Bn),e.arc(n-f,r+o,u,b+Bn,b+Ft),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*y,c=s?s/2:l,e.rect(n-c,r-l,2*c,2*l);break}b+=Rs;case"rectRot":d=Math.cos(b)*(s?s/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(s?s/2:y),e.moveTo(n-d,r-a),e.lineTo(n+f,r-o),e.lineTo(n+d,r+a),e.lineTo(n-f,r+o),e.closePath();break;case"crossRot":b+=Rs;case"cross":d=Math.cos(b)*(s?s/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(s?s/2:y),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+f,r-o),e.lineTo(n-f,r+o);break;case"star":d=Math.cos(b)*(s?s/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(s?s/2:y),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+f,r-o),e.lineTo(n-f,r+o),b+=Rs,d=Math.cos(b)*(s?s/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(s?s/2:y),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+f,r-o),e.lineTo(n-f,r+o);break;case"line":o=s?s/2:Math.cos(b)*y,a=Math.sin(b)*y,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(b)*(s?s/2:y),r+Math.sin(b)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function t_(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Rg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function jg(e){e.restore()}function HO(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Xe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function WO(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,c=s.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,c),e.lineTo(a,c),e.stroke()}}function qO(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ta(e,t,n,r,s,i={}){const o=wt(t)?t:[t],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(e.save(),e.font=s.string,HO(e,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&qO(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Xe(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,n,r,i.maxWidth)),e.fillText(u,n,r,i.maxWidth),WO(e,n,r,u,i),r+=Number(s.lineHeight);e.restore()}function uc(e,t){const{x:n,y:r,w:s,h:i,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Ft,Ft,!0),e.lineTo(n,r+i-o.bottomLeft),e.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Ft,Bn,!0),e.lineTo(n+s-o.bottomRight,r+i),e.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Bn,0,!0),e.lineTo(n+s,r+o.topRight),e.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Bn,!0),e.lineTo(n+o.topLeft,r)}const GO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,KO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function YO(e,t){const n=(""+e).match(GO);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const XO=e=>+e||0;function n_(e,t){const n={},r=Ve(t),s=r?Object.keys(t):t,i=Ve(e)?r?o=>Ge(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=XO(i(o));return n}function r_(e){return n_(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Fi(e){return n_(e,["topLeft","topRight","bottomLeft","bottomRight"])}function On(e){const t=r_(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Dt(e,t){e=e||{},t=t||mt.font;let n=Ge(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ge(e.style,t.style);r&&!(""+r).match(KO)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Ge(e.family,t.family),lineHeight:YO(Ge(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Ge(e.weight,t.weight),string:""};return s.string=VO(s),s}function Gl(e,t,n,r){let s,i,o;for(s=0,i=e.length;s<i;++s)if(o=e[s],o!==void 0&&o!==void 0)return o}function JO(e,t,n){const{min:r,max:s}=e,i=hO(t,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function oo(e,t){return Object.assign(Object.create(e),t)}function Pg(e,t=[""],n,r,s=()=>e[0]){const i=n||e;typeof r>"u"&&(r=a_("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Pg([a,...e],t,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return i_(a,l,()=>iA(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return ey(a).includes(l)},ownKeys(a){return ey(a)},set(a,l,u){const c=a._storage||(a._storage=s());return a[l]=c[l]=u,delete a._keys,!0}})}function Xi(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:s_(e,r),setContext:i=>Xi(e,i,n,r),override:i=>Xi(e.override(i),t,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,a){return i_(i,o,()=>ZO(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,a){return e[o]=a,delete i[o],!0}})}function s_(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:gs(n)?n:()=>n,isIndexable:gs(r)?r:()=>r}}const QO=(e,t)=>e?e+kg(t):t,Tg=(e,t)=>Ve(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function i_(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function ZO(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=e;let a=r[t];return gs(a)&&o.isScriptable(t)&&(a=eA(t,a,e,n)),wt(a)&&a.length&&(a=tA(t,a,e,o.isIndexable)),Tg(t,a)&&(a=Xi(a,s,i&&i[t],o)),a}function eA(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(i,o||r);return a.delete(e),Tg(e,l)&&(l=Og(s._scopes,s,e,l)),l}function tA(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(Ve(t[0])){const l=t,u=s._scopes.filter(c=>c!==l);t=[];for(const c of l){const d=Og(u,s,e,c);t.push(Xi(d,i,o&&o[e],a))}}return t}function o_(e,t,n){return gs(e)?e(t,n):e}const nA=(e,t)=>e===!0?t:typeof e=="string"?Yi(t,e):void 0;function rA(e,t,n,r,s){for(const i of t){const o=nA(n,i);if(o){e.add(o);const a=o_(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Og(e,t,n,r){const s=t._rootScopes,i=o_(t._fallback,n,r),o=[...e,...s],a=new Set;a.add(r);let l=Z0(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Z0(a,o,i,l,r),l===null)?!1:Pg(Array.from(a),[""],s,i,()=>sA(t,n,r))}function Z0(e,t,n,r,s){for(;n;)n=rA(e,t,n,r,s);return n}function sA(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return wt(s)&&Ve(n)?n:s||{}}function iA(e,t,n,r){let s;for(const i of t)if(s=a_(QO(i,e),n),typeof s<"u")return Tg(e,s)?Og(n,r,e,s):s}function a_(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function ey(e){let t=e._keys;return t||(t=e._keys=oA(e._scopes)),t}function oA(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}function Ag(){return typeof window<"u"&&typeof document<"u"}function Ng(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function cc(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Jc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function aA(e,t){return Jc(e).getPropertyValue(t)}const lA=["top","right","bottom","left"];function qs(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=lA[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const uA=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function cA(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(uA(s,i,e.target))a=s,l=i;else{const u=t.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Ms(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=Jc(n),i=s.boxSizing==="border-box",o=qs(s,"padding"),a=qs(s,"border","width"),{x:l,y:u,box:c}=cA(e,n),d=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:p,height:m}=t;return i&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((u-f)/m*n.height/r)}}function dA(e,t,n){let r,s;if(t===void 0||n===void 0){const i=e&&Ng(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),a=Jc(i),l=qs(a,"border","width"),u=qs(a,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,r=cc(a.maxWidth,i,"clientWidth"),s=cc(a.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||ac,maxHeight:s||ac}}const Kl=e=>Math.round(e*10)/10;function fA(e,t,n,r){const s=Jc(e),i=qs(s,"margin"),o=cc(s.maxWidth,e,"clientWidth")||ac,a=cc(s.maxHeight,e,"clientHeight")||ac,l=dA(e,t,n);let{width:u,height:c}=l;if(s.boxSizing==="content-box"){const f=qs(s,"border","width"),p=qs(s,"padding");u-=p.width+f.width,c-=p.height+f.height}return u=Math.max(0,u-i.width),c=Math.max(0,r?u/r:c-i.height),u=Kl(Math.min(u,o,l.maxWidth)),c=Kl(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Kl(u/2)),(t!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=Kl(Math.floor(c*r))),{width:u,height:c}}function ty(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(e.currentDevicePixelRatio=r,o.height=s,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const hA=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ag()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ny(e,t){const n=aA(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const pA=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},gA=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function $i(e,t,n){return e?pA(t,n):gA()}function l_(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function u_(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Yl(e,t,n){return e.options.clip?e[n]:t[n]}function mA(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Yl(n,t,"left"),right:Yl(n,t,"right"),top:Yl(r,t,"top"),bottom:Yl(r,t,"bottom")}:t}function yA(e,t){const n=t._clip;if(n.disabled)return!1;const r=mA(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class vA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Yw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,t,"progress")),i.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var yr=new vA;const ry="transparent",xA={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=K0(e||ry),s=r.valid&&K0(t||ry);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class wA{constructor(t,n,r,s){const i=n[r];s=Gl([t.to,s,i,t.from]);const o=Gl([t.from,i,s]);this._active=!0,this._fn=t.fn||xA[t.type||typeof o],this._easing=na[t.easing]||na.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Gl([t.to,n,s,t.from]),this._from=Gl([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class c_{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ve(t))return;const n=Object.keys(mt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!Ve(i))return;const o={};for(const a of n)o[a]=i[a];(wt(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,s=bA(t,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&_A(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,s=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,n));continue}const c=n[u];let d=i[u];const f=r.get(u);if(d)if(f&&d.active()){d.update(f,c,a);continue}else d.cancel();if(!f||!f.duration){t[u]=c;continue}i[u]=d=new wA(f,t,u,c),s.push(d)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return yr.add(this._chart,r),!0}}function _A(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const i=e[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function bA(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function sy(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:s,end:r?s:i}}function SA(e,t,n){if(n===!1)return!1;const r=sy(e,n),s=sy(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function kA(e){let t,n,r,s;return Ve(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function d_(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function iy(e,t,n,r={}){const s=e.keys,i=r.mode==="single";let o,a,l,u;if(t===null)return;let c=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(c=!0,r.all)continue;break}u=e.values[l],Tn(u)&&(i||t===0||cs(t)===cs(u))&&(t+=u)}return!c&&!r.all?0:t}function CA(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[s]:c,[i]:e[c]};return a}function _f(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function EA(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function RA(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function jA(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function oy(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const i=e[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function ay(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,u=o.axis,c=EA(i,o,r),d=t.length;let f;for(let p=0;p<d;++p){const m=t[p],{[l]:y,[u]:b}=m,v=m._stacks||(m._stacks={});f=v[u]=jA(s,c,y),f[a]=b,f._top=oy(f,o,!0,r.type),f._bottom=oy(f,o,!1,r.type);const w=f._visualValues||(f._visualValues={});w[a]=b}}function bf(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function PA(e,t){return oo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function TA(e,t,n){return oo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function jo(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Sf=e=>e==="reset"||e==="none",ly=(e,t)=>t?e:Object.assign({},e),OA=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:d_(n,!0),values:null};class sa{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=_f(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&jo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(d,f,p,m)=>d==="x"?f:d==="r"?m:p,i=n.xAxisID=Ge(r.xAxisID,bf(t,"x")),o=n.yAxisID=Ge(r.yAxisID,bf(t,"y")),a=n.rAxisID=Ge(r.rAxisID,bf(t,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,o,a),c=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&W0(this._data,this),t._stacked&&jo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Ve(n)){const s=this._cachedMeta;this._data=CA(n,s)}else if(r!==n){if(r){W0(r,this);const s=this._cachedMeta;jo(s),s._parsed=[]}n&&Object.isExtensible(n)&&OO(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=_f(n.vScale,n),n.stack!==r.stack&&(s=!0,jo(n),n.stack=r.stack),this._resyncElements(t),(s||i!==n._stacked)&&(ay(this,n._parsed),n._stacked=_f(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=t===0&&n===s.length?!0:r._sorted,u=t>0&&r._parsed[t-1],c,d,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{wt(s[t])?f=this.parseArrayData(r,s,t,n):Ve(s[t])?f=this.parseObjectData(r,s,t,n):f=this.parsePrimitiveData(r,s,t,n);const p=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<n;++c)r._parsed[c+t]=d=f[c],l&&(p()&&(l=!1),u=d);r._sorted=l}o&&ay(this,f)}parsePrimitiveData(t,n,r,s){const{iScale:i,vScale:o}=t,a=i.axis,l=o.axis,u=i.getLabels(),c=i===o,d=new Array(s);let f,p,m;for(f=0,p=s;f<p;++f)m=f+r,d[f]={[a]:c||i.parse(u[m],m),[l]:o.parse(n[m],m)};return d}parseArrayData(t,n,r,s){const{xScale:i,yScale:o}=t,a=new Array(s);let l,u,c,d;for(l=0,u=s;l<u;++l)c=l+r,d=n[c],a[l]={x:i.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(t,n,r,s){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let c,d,f,p;for(c=0,d=s;c<d;++c)f=c+r,p=n[f],u[c]={x:i.parse(Yi(p,a),f),y:o.parse(Yi(p,l),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,i=this._cachedMeta,o=n[t.axis],a={keys:d_(s,!0),values:n._stacks[t.axis]._visualValues};return iy(a,o,i.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=iy(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&t===r.iScale,o=s.length,a=this._getOtherScale(t),l=OA(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=RA(a);let f,p;function m(){p=s[f];const y=p[a.axis];return!Tn(p[t.axis])||c>y||d<y}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(u,t,p,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,t,p,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][t.axis],Tn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=kA(Ge(this.options.clip,SA(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(t,i,a,l),c=a;c<a+l;++c){const d=s[c];d.hidden||(d.active&&u?o.push(d):d.draw(t,i))}for(c=0;c<o.length;++c)o[c].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=TA(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=PA(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=t+"-"+n,a=i[o],l=this.enableOptionSharing&&Pa(r);if(a)return ly(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),d=s?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),c),p=Object.keys(mt.elements[t]),m=()=>this.getContext(r,s,n),y=u.resolveNamedOptions(f,p,m,d);return y.$shared&&(y.$shared=l,i[o]=Object.freeze(ly(y,l))),y}_resolveAnimations(t,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(f,this.getContext(t,r,n))}const u=new c_(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Sf(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(t,n,r,s){Sf(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!Sf(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,n,r=!0){const s=this._cachedMeta,i=s.data,o=t+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&jo(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ze(sa,"defaults",{}),ze(sa,"datasetElementType",null),ze(sa,"dataElementType",null);function AA(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=Kw(r.sort((s,i)=>s-i))}return e._cache.$bar}function NA(e){const t=e.iScale,n=AA(t,e.type);let r=t._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(Pa(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,i=t.ticks.length;s<i;++s)o=t.getPixelForTick(s),l();return r}function MA(e,t,n,r){const s=n.barThickness;let i,o;return Xe(s)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}function IA(e,t,n,r){const s=t.pixels,i=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?t.end-t.start:a-i)),a===null&&(a=i+i-o);const u=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:u}}function LA(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:s,end:i,min:o,max:a}}function f_(e,t,n,r){return wt(e)?LA(e,t,n,r):t[n.axis]=n.parse(e,r),t}function uy(e,t,n,r){const s=e.iScale,i=e.vScale,o=s.getLabels(),a=s===i,l=[];let u,c,d,f;for(u=n,c=n+r;u<c;++u)f=t[u],d={},d[s.axis]=a||s.parse(o[u],u),l.push(f_(f,d,i,u));return l}function kf(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function DA(e,t,n){return e!==0?cs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function FA(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}function $A(e,t,n,r){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=FA(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=c:(i[cy(c,o,a,l)]=!0,s=u)),i[cy(s,o,a,l)]=!0,e.borderSkipped=i}function cy(e,t,n,r){return r?(e=zA(e,t,n),e=dy(e,n,t)):e=dy(e,t,n),e}function zA(e,t,n){return e===t?n:e===n?t:e}function dy(e,t,n){return e==="start"?t:e==="end"?n:e}function BA(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class bu extends sa{parsePrimitiveData(t,n,r,s){return uy(t,n,r,s)}parseArrayData(t,n,r,s){return uy(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?a:l,c=o.axis==="x"?a:l,d=[];let f,p,m,y;for(f=r,p=r+s;f<p;++f)y=n[f],m={},m[i.axis]=i.parse(Yi(y,u),f),d.push(f_(Yi(y,c),m,o,f));return d}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(t),o=i._custom,a=kf(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const m=this.getParsed(p),y=i||Xe(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,c),v=(m._stacks||{})[a.axis],w={horizontal:u,base:y.base,enableBorderRadius:!v||kf(m._custom)||o===v._top||o===v._bottom,x:u?y.head:b.center,y:u?b.center:y.head,height:u?b.size:Math.abs(y.size),width:u?Math.abs(y.size):b.size};f&&(w.options=d||this.resolveDataElementOptions(p,t[p].active?"active":s));const x=w.options||t[p].options;$A(w,x,v,o),BA(w,x,c.ratio),this.updateElement(t[p],p,w,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],u=c=>{const d=c._parsed.find(p=>p[r.axis]===l),f=d&&d[c.vScale.axis];if(Xe(f)||isNaN(f))return!0};for(const c of s)if(!(n!==void 0&&u(c))&&((i===!1||o.indexOf(c.stack)===-1||i===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const s=this._getStacks(t,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=t.barThickness;return{min:a||NA(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(t),u=l._custom,c=kf(u);let d=l[n.axis],f=0,p=r?this.applyStack(n,l,r):d,m,y;p!==d&&(f=p-d,p=d),c&&(d=u.barStart,p=u.barEnd-u.barStart,d!==0&&cs(d)!==cs(u.barEnd)&&(f=0),f+=d);const b=!Xe(i)&&!c?i:f;let v=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(f+p):m=v,y=m-v,Math.abs(y)<o){y=DA(y,n,a)*o,d===a&&(v-=y/2);const w=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),R=Math.min(w,x),P=Math.max(w,x);v=Math.max(Math.min(v,P),R),m=v+y,r&&!c&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(m)-n.getValueForPixel(v))}if(v===n.getPixelForValue(a)){const w=cs(y)*n.getLineWidthForValue(a)/2;v+=w,y-=w}return{size:y,base:v,head:m,center:m+y/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,i=s.skipNull,o=Ge(s.maxBarThickness,1/0);let a,l;if(n.grouped){const u=i?this._getStackCount(t):n.stackCount,c=s.barThickness==="flex"?IA(t,n,s,u):MA(t,n,s,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);a=c.start+c.chunk*d+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}ze(bu,"id","bar"),ze(bu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ze(bu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Ts(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mg{constructor(t){ze(this,"options");this.options=t||{}}static override(t){Object.assign(Mg.prototype,t)}init(){}formats(){return Ts()}parse(){return Ts()}format(){return Ts()}add(){return Ts()}diff(){return Ts()}startOf(){return Ts()}endOf(){return Ts()}}var UA={_date:Mg};function VA(e,t,n,r){const{controller:s,data:i,_sorted:o}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&i.length){const u=a._reversePixels?PO:Xh;if(r){if(s._sharedOptions){const c=i[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){const f=u(i,t,n-d),p=u(i,t,n+d);return{lo:f.lo,hi:p.hi}}}}else{const c=u(i,t,n);if(l){const{vScale:d}=s._cachedMeta,{_parsed:f}=e,p=f.slice(0,c.lo+1).reverse().findIndex(y=>!Xe(y[d.axis]));c.lo-=Math.max(0,p);const m=f.slice(c.hi).findIndex(y=>!Xe(y[d.axis]));c.hi+=Math.max(0,m)}return c}}return{lo:0,hi:i.length-1}}function Qc(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=i.length;a<l;++a){const{index:u,data:c}=i[a],{lo:d,hi:f}=VA(i[a],t,o,s);for(let p=d;p<=f;++p){const m=c[p];m.skip||r(m,u,p)}}}function HA(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const i=t?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Cf(e,t,n,r,s){const i=[];return!s&&!e.isPointInArea(t)||Qc(e,n,t,function(a,l,u){!s&&!t_(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function WA(e,t,n,r){let s=[];function i(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],r),{angle:d}=CO(o,{x:t.x,y:t.y});RO(d,u,c)&&s.push({element:o,datasetIndex:a,index:l})}return Qc(e,n,t,i),s}function qA(e,t,n,r,s,i){let o=[];const a=HA(n);let l=Number.POSITIVE_INFINITY;function u(c,d,f){const p=c.inRange(t.x,t.y,s);if(r&&!p)return;const m=c.getCenterPoint(s);if(!(!!i||e.isPointInArea(m))&&!p)return;const b=a(t,m);b<l?(o=[{element:c,datasetIndex:d,index:f}],l=b):b===l&&o.push({element:c,datasetIndex:d,index:f})}return Qc(e,n,t,u),o}function Ef(e,t,n,r,s,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?WA(e,t,n,s):qA(e,t,n,r,s,i)}function fy(e,t,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Qc(e,n,t,(l,u,c)=>{l[o]&&l[o](t[n],s)&&(i.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(t.x,t.y,s))}),r&&!a?[]:i}var GA={modes:{index(e,t,n,r){const s=Ms(t,e),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Cf(e,s,i,r,o):Ef(e,s,i,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(e,t,n,r){const s=Ms(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Cf(e,s,i,r,o):Ef(e,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=e.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(e,t,n,r){const s=Ms(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Cf(e,s,i,r,o)},nearest(e,t,n,r){const s=Ms(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Ef(e,s,i,n.intersect,r,o)},x(e,t,n,r){const s=Ms(t,e);return fy(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=Ms(t,e);return fy(e,s,"y",n.intersect,r)}}};const h_=["left","top","right","bottom"];function Po(e,t){return e.filter(n=>n.pos===t)}function hy(e,t){return e.filter(n=>h_.indexOf(n.pos)===-1&&n.box.axis===t)}function To(e,t){return e.sort((n,r)=>{const s=t?r:n,i=t?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function KA(e){const t=[];let n,r,s,i,o,a;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return t}function YA(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!h_.includes(s))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function XA(e,t){const n=YA(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,o,a;for(i=0,o=e.length;i<o;++i){a=e[i];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*r:l&&t.availableWidth,a.height=s):(a.width=r,a.height=c?c*s:l&&t.availableHeight)}return n}function JA(e){const t=KA(e),n=To(t.filter(u=>u.box.fullSize),!0),r=To(Po(t,"left"),!0),s=To(Po(t,"right")),i=To(Po(t,"top"),!0),o=To(Po(t,"bottom")),a=hy(t,"x"),l=hy(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Po(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function py(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function p_(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function QA(e,t,n,r){const{pos:s,box:i}=n,o=e.maxPadding;if(!Ve(s)){n.size&&(e[s]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,e[s]+=n.size}i.getPadding&&p_(o,i.getPadding());const a=Math.max(0,t.outerWidth-py(o,e,"left","right")),l=Math.max(0,t.outerHeight-py(o,e,"top","bottom")),u=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function ZA(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function e3(e,t){const n=t.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return r(e?["left","right"]:["top","bottom"])}function zo(e,t,n,r){const s=[];let i,o,a,l,u,c;for(i=0,o=e.length,u=0;i<o;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,e3(a.horizontal,t));const{same:d,other:f}=QA(t,n,a,r);u|=d&&s.length,c=c||f,l.fullSize||s.push(a)}return u&&zo(s,t,n,r)||c}function Xl(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function gy(e,t,n,r){const s=n.padding;let{x:i,y:o}=t;for(const a of e){const l=a.box,u=r[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const d=t.w*c,f=u.size||l.height;Pa(u.start)&&(o=u.start),l.fullSize?Xl(l,s.left,o,n.outerWidth-s.right-s.left,f):Xl(l,t.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=t.h*c,f=u.size||l.width;Pa(u.start)&&(i=u.start),l.fullSize?Xl(l,i,s.top,f,n.outerHeight-s.bottom-s.top):Xl(l,i,t.top+u.placed,f,d),u.start=i,u.placed+=d,i=l.right}}t.x=i,t.y=o}var En={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=On(e.options.layout.padding),i=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=JA(e.boxes),l=a.vertical,u=a.horizontal;qe(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},s);p_(f,On(r));const p=Object.assign({maxPadding:f,w:i,h:o,x:s.left,y:s.top},s),m=XA(l.concat(u),d);zo(a.fullSize,p,d,m),zo(l,p,d,m),zo(u,p,d,m)&&zo(l,p,d,m),ZA(p),gy(a.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,gy(a.rightAndBottom,p,d,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},qe(a.chartArea,y=>{const b=y.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class g_{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class t3 extends g_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Su="$chartjs",n3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},my=e=>e===null||e==="";function r3(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[Su]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",my(s)){const i=ny(e,"width");i!==void 0&&(e.width=i)}if(my(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=ny(e,"height");i!==void 0&&(e.height=i)}return e}const m_=hA?{passive:!0}:!1;function s3(e,t,n){e&&e.addEventListener(t,n,m_)}function i3(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,m_)}function o3(e,t){const n=n3[e.type]||e.type,{x:r,y:s}=Ms(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function dc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function a3(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||dc(a.addedNodes,r),o=o&&!dc(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function l3(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||dc(a.removedNodes,r),o=o&&!dc(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Oa=new Map;let yy=0;function y_(){const e=window.devicePixelRatio;e!==yy&&(yy=e,Oa.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function u3(e,t){Oa.size||window.addEventListener("resize",y_),Oa.set(e,t)}function c3(e){Oa.delete(e),Oa.size||window.removeEventListener("resize",y_)}function d3(e,t,n){const r=e.canvas,s=r&&Ng(r);if(!s)return;const i=Xw((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||i(u,c)});return o.observe(s),u3(e,i),o}function Rf(e,t,n){n&&n.disconnect(),t==="resize"&&c3(e)}function f3(e,t,n){const r=e.canvas,s=Xw(i=>{e.ctx!==null&&n(o3(i,e))},e);return s3(r,t,s),s}class h3 extends g_{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(r3(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Su])return!1;const r=n[Su].initial;["height","width"].forEach(i=>{const o=r[i];Xe(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Su],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:a3,detach:l3,resize:d3}[n]||f3;s[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:Rf,detach:Rf,resize:Rf}[n]||i3)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return fA(t,n,r,s)}isAttached(t){const n=t&&Ng(t);return!!(n&&n.isConnected)}}function p3(e){return!Ag()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?t3:h3}class ms{constructor(){ze(this,"x");ze(this,"y");ze(this,"active",!1);ze(this,"options");ze(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return lc(this.x)&&lc(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}ze(ms,"defaults",{}),ze(ms,"defaultRoutes");function g3(e,t){const n=e.options.ticks,r=m3(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?v3(t):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>s)return x3(t,u,i,o/s),u;const c=y3(i,t,s);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(Jl(t,u,c,Xe(p)?0:a-p,a),d=0,f=o-1;d<f;d++)Jl(t,u,c,i[d],i[d+1]);return Jl(t,u,c,l,Xe(p)?t.length:l+p),u}return Jl(t,u,c),u}function m3(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function y3(e,t,n){const r=w3(e),s=t.length/n;if(!r)return Math.max(s,1);const i=wO(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function v3(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function x3(e,t,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===i&&(t.push(e[o]),s++,i=n[s*r])}function Jl(e,t,n,r,s){const i=Ge(r,0),o=Math.min(Ge(s,e.length),e.length);let a=0,l,u,c;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),c=i;c<0;)a++,c=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===c&&(t.push(e[u]),a++,c=Math.round(i+a*n))}function w3(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const _3=e=>e==="left"?"right":e==="right"?"left":e,vy=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,xy=(e,t)=>Math.min(t||e,e);function wy(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function b3(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(s-1))/2,l+=s<t?u:-u,l<i-a||l>o+a)))return l}function S3(e,t){qe(e,n=>{const r=n.gc,s=r.length/2;let i;if(s>t){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Oo(e){return e.drawTicks?e.tickLength:0}function _y(e,t){if(!e.display)return 0;const n=Dt(e.font,t),r=On(e.padding);return(wt(e.text)?e.text.length:1)*n.lineHeight+r.height}function k3(e,t){return oo(e,{scale:t,type:"scale"})}function C3(e,t,n){return oo(e,{tick:n,index:t,type:"tick"})}function E3(e,t,n){let r=Eg(e);return(n&&t!=="right"||!n&&t==="right")&&(r=_3(r)),r}function R3(e,t,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=e,{chartArea:u,scales:c}=l;let d=0,f,p,m;const y=o-s,b=a-i;if(e.isHorizontal()){if(p=Mt(r,i,a),Ve(n)){const v=Object.keys(n)[0],w=n[v];m=c[v].getPixelForValue(w)+y-t}else n==="center"?m=(u.bottom+u.top)/2+y-t:m=vy(e,n,t);f=a-i}else{if(Ve(n)){const v=Object.keys(n)[0],w=n[v];p=c[v].getPixelForValue(w)-b+t}else n==="center"?p=(u.left+u.right)/2-b+t:p=vy(e,n,t);m=Mt(r,o,s),d=n==="left"?-Bn:Bn}return{titleX:p,titleY:m,maxWidth:f,rotation:d}}class ao extends ms{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=ir(t,Number.POSITIVE_INFINITY),n=ir(n,Number.NEGATIVE_INFINITY),r=ir(r,Number.POSITIVE_INFINITY),s=ir(s,Number.NEGATIVE_INFINITY),{min:ir(t,r),max:ir(n,s),minDefined:Tn(t),maxDefined:Tn(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:ir(n,ir(r,n)),max:ir(r,ir(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){et(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JO(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?wy(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=g3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){et(this.options.afterUpdate,[this])}beforeSetDimensions(){et(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){et(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),et(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){et(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r],i.label=et(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){et(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){et(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=xy(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,p=Un(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/r:p/(r-1),d+6>a&&(a=p/(r-(t.offset?.5:1)),l=this.maxHeight-Oo(t.grid)-n.padding-_y(t.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=kO(Math.min(Math.asin(Un((c.highest.height+6)/a,-1,1)),Math.asin(Un(l/u,-1,1))-Math.asin(Un(f/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){et(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){et(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=_y(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Oo(i)+l):(t.height=this.maxHeight,t.width=Oo(i)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),p=r.padding*2,m=zs(this.labelRotation),y=Math.cos(m),b=Math.sin(m);if(a){const v=r.mirror?0:b*d.width+y*f.height;t.height=Math.min(this.maxHeight,t.height+v+p)}else{const v=r.mirror?0:y*d.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+v+p)}this._calculatePadding(u,c,b,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?u?(f=s*t.width,p=r*n.height):(f=r*t.height,p=s*n.width):i==="start"?p=n.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,p=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let c=n.height/2,d=t.height/2;i==="start"?(c=0,d=t.height):i==="end"&&(c=n.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){et(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Xe(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=wy(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/xy(n,r));let u=0,c=0,d,f,p,m,y,b,v,w,x,R,P;for(d=0;d<n;d+=l){if(m=t[d].label,y=this._resolveTickFontOptions(d),s.font=b=y.string,v=i[b]=i[b]||{data:{},gc:[]},w=y.lineHeight,x=R=0,!Xe(m)&&!wt(m))x=X0(s,v.data,v.gc,x,m),R=w;else if(wt(m))for(f=0,p=m.length;f<p;++f)P=m[f],!Xe(P)&&!wt(P)&&(x=X0(s,v.data,v.gc,x,P),R+=w);o.push(x),a.push(R),u=Math.max(x,u),c=Math.max(R,c)}S3(i,n);const A=o.indexOf(u),O=a.indexOf(c),S=E=>({width:o[E]||0,height:a[E]||0});return{first:S(0),last:S(n-1),widest:S(A),highest:S(O),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return jO(this._alignToPixels?Ps(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=C3(this.getContext(),t,r))}return this.$context||(this.$context=k3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=zs(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Oo(i),p=[],m=a.setContext(this.getContext()),y=m.display?m.width:0,b=y/2,v=function(oe){return Ps(r,oe,y)};let w,x,R,P,A,O,S,E,I,D,$,H;if(o==="top")w=v(this.bottom),O=this.bottom-f,E=w-b,D=v(t.top)+b,H=t.bottom;else if(o==="bottom")w=v(this.top),D=t.top,H=v(t.bottom)-b,O=w+b,E=this.top+f;else if(o==="left")w=v(this.right),A=this.right-f,S=w-b,I=v(t.left)+b,$=t.right;else if(o==="right")w=v(this.left),I=t.left,$=v(t.right)-b,A=w+b,S=this.left+f;else if(n==="x"){if(o==="center")w=v((t.top+t.bottom)/2+.5);else if(Ve(o)){const oe=Object.keys(o)[0],ee=o[oe];w=v(this.chart.scales[oe].getPixelForValue(ee))}D=t.top,H=t.bottom,O=w+b,E=O+f}else if(n==="y"){if(o==="center")w=v((t.left+t.right)/2);else if(Ve(o)){const oe=Object.keys(o)[0],ee=o[oe];w=v(this.chart.scales[oe].getPixelForValue(ee))}A=w-b,S=A-f,I=t.left,$=t.right}const Q=Ge(s.ticks.maxTicksLimit,d),re=Math.max(1,Math.ceil(d/Q));for(x=0;x<d;x+=re){const oe=this.getContext(x),ee=i.setContext(oe),Y=a.setContext(oe),K=ee.lineWidth,X=ee.color,te=Y.dash||[],q=Y.dashOffset,G=ee.tickWidth,ne=ee.tickColor,ue=ee.tickBorderDash||[],ce=ee.tickBorderDashOffset;R=b3(this,x,l),R!==void 0&&(P=Ps(r,R,K),u?A=S=I=$=P:O=E=D=H=P,p.push({tx1:A,ty1:O,tx2:S,ty2:E,x1:I,y1:D,x2:$,y2:H,width:K,color:X,borderDash:te,borderDashOffset:q,tickWidth:G,tickColor:ne,tickBorderDash:ue,tickBorderDashOffset:ce}))}return this._ticksLength=d,this._borderValue=w,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=i,f=Oo(r.grid),p=f+c,m=d?-c:p,y=-zs(this.labelRotation),b=[];let v,w,x,R,P,A,O,S,E,I,D,$,H="middle";if(s==="top")A=this.bottom-m,O=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+m,O=this._getXAxisLabelAlignment();else if(s==="left"){const re=this._getYAxisLabelAlignment(f);O=re.textAlign,P=re.x}else if(s==="right"){const re=this._getYAxisLabelAlignment(f);O=re.textAlign,P=re.x}else if(n==="x"){if(s==="center")A=(t.top+t.bottom)/2+p;else if(Ve(s)){const re=Object.keys(s)[0],oe=s[re];A=this.chart.scales[re].getPixelForValue(oe)+p}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")P=(t.left+t.right)/2-p;else if(Ve(s)){const re=Object.keys(s)[0],oe=s[re];P=this.chart.scales[re].getPixelForValue(oe)}O=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?H="top":l==="end"&&(H="bottom"));const Q=this._getLabelSizes();for(v=0,w=a.length;v<w;++v){x=a[v],R=x.label;const re=i.setContext(this.getContext(v));S=this.getPixelForTick(v)+i.labelOffset,E=this._resolveTickFontOptions(v),I=E.lineHeight,D=wt(R)?R.length:1;const oe=D/2,ee=re.color,Y=re.textStrokeColor,K=re.textStrokeWidth;let X=O;o?(P=S,O==="inner"&&(v===w-1?X=this.options.reverse?"left":"right":v===0?X=this.options.reverse?"right":"left":X="center"),s==="top"?u==="near"||y!==0?$=-D*I+I/2:u==="center"?$=-Q.highest.height/2-oe*I+I:$=-Q.highest.height+I/2:u==="near"||y!==0?$=I/2:u==="center"?$=Q.highest.height/2-oe*I:$=Q.highest.height-D*I,d&&($*=-1),y!==0&&!re.showLabelBackdrop&&(P+=I/2*Math.sin(y))):(A=S,$=(1-D)*I/2);let te;if(re.showLabelBackdrop){const q=On(re.backdropPadding),G=Q.heights[v],ne=Q.widths[v];let ue=$-q.top,ce=0-q.left;switch(H){case"middle":ue-=G/2;break;case"bottom":ue-=G;break}switch(O){case"center":ce-=ne/2;break;case"right":ce-=ne;break;case"inner":v===w-1?ce-=ne:v>0&&(ce-=ne/2);break}te={left:ce,top:ue,width:ne+q.width,height:G+q.height,color:re.backdropColor}}b.push({label:R,font:E,textOffset:$,options:{rotation:y,color:ee,strokeColor:Y,strokeWidth:K,textAlign:X,textBaseline:H,translation:[P,A],backdrop:te}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-zs(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=t+i,l=o.widest.width;let u,c;return n==="left"?s?(c=this.right+i,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?s?(c=this.left+i,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,f;this.isHorizontal()?(u=Ps(t,this.left,o)-o/2,c=Ps(t,this.right,a)+a/2,d=f=l):(d=Ps(t,this.top,o)-o/2,f=Ps(t,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,d),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Rg(r,s);const i=this.getLabelItems(t);for(const o of i){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Ta(r,u,0,c,l,a)}s&&jg(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Dt(r.font),o=On(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Ve(n)?(l+=o.bottom,wt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=R3(this,l,n,a);Ta(t,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:f,textAlign:E3(a,n,s),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Ge(t.grid&&t.grid.z,-1),s=Ge(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ao.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Dt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ql{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;T3(n)&&(r=this.register(n));const s=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,j3(t,o,r),this.override&&mt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in mt[s]&&(delete mt[s][r],this.override&&delete ei[r])}}function j3(e,t,n){const r=ja(Object.create(null),[n?mt.get(n):{},mt.get(t),e.defaults]);mt.set(t,r),e.defaultRoutes&&P3(t,e.defaultRoutes),e.descriptors&&mt.describe(t,e.descriptors)}function P3(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");mt.route(i,s,l,a)})}function T3(e){return"id"in e&&"defaults"in e}class O3{constructor(){this.controllers=new Ql(sa,"datasets",!0),this.elements=new Ql(ms,"elements"),this.plugins=new Ql(Object,"plugins"),this.scales=new Ql(ao,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):qe(s,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const s=kg(t);et(r["before"+s],[],r),n[t](r),et(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var ur=new O3;class A3{constructor(){this._init=[]}notify(t,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,s){s=s||{};for(const i of t){const o=i.plugin,a=o[r],l=[n,s,i.options];if(et(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Xe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=Ge(r.options&&r.options.plugins,{}),i=N3(r);return s===!1&&!n?[]:I3(t,i,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function N3(e){const t={},n=[],r=Object.keys(ur.plugins.items);for(let i=0;i<r.length;i++)n.push(ur.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function M3(e,t){return!t&&e===!1?null:e===!0?{}:e}function I3(e,{plugins:t,localIds:n},r,s){const i=[],o=e.getContext();for(const a of t){const l=a.id,u=M3(r[l],s);u!==null&&i.push({plugin:a,options:L3(e.config,{plugin:a,local:n[l]},u,o)})}return i}function L3(e,{plugin:t,local:n},r,s){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(r,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qh(e,t){const n=mt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function D3(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function F3(e,t){return e===t?"_index_":"_value_"}function by(e){if(e==="x"||e==="y"||e==="r")return e}function $3(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Zh(e,...t){if(by(e))return e;for(const n of t){const r=n.axis||$3(n.position)||e.length>1&&by(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Sy(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function z3(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return Sy(e,"x",n[0])||Sy(e,"y",n[0])}return{}}function B3(e,t){const n=ei[e.type]||{scales:{}},r=t.scales||{},s=Qh(e.type,t),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ve(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Zh(o,a,z3(o,e),mt.scales[a.type]),u=F3(l,s),c=n.scales||{};i[o]=ta(Object.create(null),[{axis:l},a,c[l],c[u]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Qh(a,t),c=(ei[a]||{}).scales||{};Object.keys(c).forEach(d=>{const f=D3(d,l),p=o[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),ta(i[p],[{axis:f},r[p],c[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];ta(a,[mt.scales[a.type],mt.scale])}),i}function v_(e){const t=e.options||(e.options={});t.plugins=Ge(t.plugins,{}),t.scales=B3(e,t)}function x_(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function U3(e){return e=e||{},e.data=x_(e.data),v_(e),e}const ky=new Map,w_=new Set;function Zl(e,t){let n=ky.get(e);return n||(n=t(),ky.set(e,n),w_.add(n)),n}const Ao=(e,t,n)=>{const r=Yi(t,n);r!==void 0&&e.add(r)};class V3{constructor(t){this._config=U3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=x_(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),v_(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Zl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Zl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Zl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Zl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:i}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{t&&(l.add(t),c.forEach(d=>Ao(l,t,d))),c.forEach(d=>Ao(l,s,d)),c.forEach(d=>Ao(l,ei[i]||{},d)),c.forEach(d=>Ao(l,mt,d)),c.forEach(d=>Ao(l,Jh,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),w_.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,ei[n]||{},mt.datasets[n]||{},{type:n},mt,Jh]}resolveNamedOptions(t,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Cy(this._resolverCache,t,s);let l=o;if(W3(o,n)){i.$shared=!1,r=gs(r)?r():r;const u=this.createResolver(t,r,a);l=Xi(o,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(t,n,r=[""],s){const{resolver:i}=Cy(this._resolverCache,t,r);return Ve(n)?Xi(i,n,void 0,s):i}}function Cy(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Pg(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const H3=e=>Ve(e)&&Object.getOwnPropertyNames(e).some(t=>gs(e[t]));function W3(e,t){const{isScriptable:n,isIndexable:r}=s_(e);for(const s of t){const i=n(s),o=r(s),a=(o||i)&&e[s];if(i&&(gs(a)||H3(a))||o&&wt(a))return!0}return!1}var q3="4.4.9";const G3=["top","bottom","left","right","chartArea"];function Ey(e,t){return e==="top"||e==="bottom"||G3.indexOf(e)===-1&&t==="x"}function Ry(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function jy(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),et(n&&n.onComplete,[e],t)}function K3(e){const t=e.chart,n=t.options.animation;et(n&&n.onProgress,[e],t)}function __(e){return Ag()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ku={},Py=e=>{const t=__(e);return Object.values(ku).filter(n=>n.canvas===t).pop()};function Y3(e,t,n){const r=Object.keys(e);for(const s of r){const i=+s;if(i>=t){const o=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=o)}}}function X3(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var zr;let Zc=(zr=class{static register(...t){ur.add(...t),Ty()}static unregister(...t){ur.remove(...t),Ty()}constructor(t,n){const r=this.config=new V3(n),s=__(t),i=Py(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||p3(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=fO(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new A3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=AO(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],ku[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}yr.listen(this,"complete",jy),yr.listen(this,"progress",K3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Xe(t)?n&&i?i:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ur}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ty(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return J0(this.canvas,this.ctx),this}stop(){return yr.stop(this),this}resize(t,n){yr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ty(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),et(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};qe(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Zh(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),qe(i,o=>{const a=o.options,l=a.id,u=Zh(l,a),c=Ge(a.type,o.dtype);(a.position===void 0||Ey(a.position,u)!==Ey(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in r&&r[l].type===c)d=r[l];else{const f=ur.getScale(c);d=new f({id:l,type:c,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,t)}),qe(s,(o,a)=>{o||delete r[a]}),qe(r,o=>{En.configure(this,o,o.options),En.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Ry("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||Qh(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=ur.getController(a),{datasetElementType:u,dataElementType:c}=mt.datasets[a];Object.assign(l,{dataElementType:ur.getElement(c),datasetElementType:u&&ur.getElement(u)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){qe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||qe(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ry("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){qe(this.scales,t=>{En.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!B0(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;Y3(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!B0(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;En.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],qe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,gs(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yr.has(this)?this.attached&&!yr.running(this)&&yr.start(this):(this.draw(),jy({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=yA(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Rg(n,s),t.controller.draw(),s&&jg(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return t_(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const i=GA.modes[n];return typeof i=="function"?i(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=oo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,s);Pa(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),yr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),J0(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ku[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};qe(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},s=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){qe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},qe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!ic(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,i=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=i(n,t),a=r?t:i(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(t,s,r,o),l=vO(t),u=X3(t,this._lastEvent,r,l);r&&(this._lastEvent=null,et(i.onHover,[t,a,this],this),l&&et(i.onClick,[t,a,this],this));const c=!ic(a,s);return(c||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,c}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}},ze(zr,"defaults",mt),ze(zr,"instances",ku),ze(zr,"overrides",ei),ze(zr,"registry",ur),ze(zr,"version",q3),ze(zr,"getChart",Py),zr);function Ty(){return qe(Zc.instances,e=>e._plugins.invalidate())}function b_(e,t){const{x:n,y:r,base:s,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,u,c,d;return e.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),u=r-d,c=r+d):(d=i/2,a=n-d,l=n+d,u=Math.min(r,s),c=Math.max(r,s)),{left:a,top:u,right:l,bottom:c}}function Zr(e,t,n,r){return e?0:Un(t,n,r)}function J3(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=r_(r);return{t:Zr(s.top,i.top,0,n),r:Zr(s.right,i.right,0,t),b:Zr(s.bottom,i.bottom,0,n),l:Zr(s.left,i.left,0,t)}}function Q3(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=Fi(s),o=Math.min(t,n),a=e.borderSkipped,l=r||Ve(s);return{topLeft:Zr(!l||a.top||a.left,i.topLeft,0,o),topRight:Zr(!l||a.top||a.right,i.topRight,0,o),bottomLeft:Zr(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:Zr(!l||a.bottom||a.right,i.bottomRight,0,o)}}function Z3(e){const t=b_(e),n=t.right-t.left,r=t.bottom-t.top,s=J3(e,n/2,r/2),i=Q3(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function jf(e,t,n,r){const s=t===null,i=n===null,a=e&&!(s&&i)&&b_(e,r);return a&&(s||Ti(t,a.left,a.right))&&(i||Ti(n,a.top,a.bottom))}function eN(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function tN(e,t){e.rect(t.x,t.y,t.w,t.h)}function Pf(e,t,n={}){const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+o,radius:e.radius}}class Cu extends ms{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=Z3(this),a=eN(o.radius)?uc:tN;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),a(t,Pf(o,n,i)),t.clip(),a(t,Pf(i,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,Pf(i,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,r){return jf(this,t,n,r)}inXRange(t,n){return jf(this,t,null,n)}inYRange(t,n){return jf(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ze(Cu,"id","bar"),ze(Cu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ze(Cu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Oy=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},nN=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Ay extends ms{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=et(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=Dt(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Oy(r,i);let u,c;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,i,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=s+a;let d=t;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-c;return this.legendItems.forEach((m,y)=>{const b=r+n/2+i.measureText(m.text).width;(y===0||u[u.length-1]+b+2*a>o)&&(d+=c,u[u.length-(y>0?0:1)]=0,p+=c,f++),l[y]={left:0,top:p,row:f,width:b,height:s},u[u.length-1]+=b+a}),d}_fitCols(t,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t;let d=a,f=0,p=0,m=0,y=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:w,itemHeight:x}=rN(r,n,i,b,s);v>0&&p+x+2*a>c&&(d+=f+a,u.push({width:f,height:p}),m+=f+a,y++,f=p=0),l[v]={left:m,top:p,col:y,width:w,height:x},f=Math.max(f,w),p+=x+a}),d+=f,u.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=$i(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Mt(r,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Mt(r,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+t+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=Mt(r,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Mt(r,this.top+t+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Rg(t,this),this._draw(),jg(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=t,a=mt.color,l=$i(t.rtl,this.left,this.width),u=Dt(o.font),{padding:c}=o,d=u.size,f=d/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:m,boxHeight:y,itemHeight:b}=Oy(o,d),v=function(A,O,S){if(isNaN(m)||m<=0||isNaN(y)||y<0)return;s.save();const E=Ge(S.lineWidth,1);if(s.fillStyle=Ge(S.fillStyle,a),s.lineCap=Ge(S.lineCap,"butt"),s.lineDashOffset=Ge(S.lineDashOffset,0),s.lineJoin=Ge(S.lineJoin,"miter"),s.lineWidth=E,s.strokeStyle=Ge(S.strokeStyle,a),s.setLineDash(Ge(S.lineDash,[])),o.usePointStyle){const I={radius:y*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:E},D=l.xPlus(A,m/2),$=O+f;e_(s,I,D,$,o.pointStyleWidth&&m)}else{const I=O+Math.max((d-y)/2,0),D=l.leftForLtr(A,m),$=Fi(S.borderRadius);s.beginPath(),Object.values($).some(H=>H!==0)?uc(s,{x:D,y:I,w:m,h:y,radius:$}):s.rect(D,I,m,y),s.fill(),E!==0&&s.stroke()}s.restore()},w=function(A,O,S){Ta(s,S.text,A,O+b/2,u,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},x=this.isHorizontal(),R=this._computeTitleHeight();x?p={x:Mt(i,this.left+c,this.right-r[0]),y:this.top+c+R,line:0}:p={x:this.left+c,y:Mt(i,this.top+R+c,this.bottom-n[0].height),line:0},l_(this.ctx,t.textDirection);const P=b+c;this.legendItems.forEach((A,O)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const S=s.measureText(A.text).width,E=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),I=m+f+S;let D=p.x,$=p.y;l.setWidth(this.width),x?O>0&&D+I+c>this.right&&($=p.y+=P,p.line++,D=p.x=Mt(i,this.left+c,this.right-r[p.line])):O>0&&$+P>this.bottom&&(D=p.x=D+n[p.line].width+c,p.line++,$=p.y=Mt(i,this.top+R+c,this.bottom-n[p.line].height));const H=l.x(D);if(v(H,$,A),D=NO(E,D+m+f,x?D+I:this.right,t.rtl),w(l.x(D),$,A),x)p.x+=I+c;else if(typeof A.text!="string"){const Q=u.lineHeight;p.y+=S_(A,Q)+c}else p.y+=P}),u_(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Dt(n.font),s=On(n.padding);if(!n.display)return;const i=$i(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=s.top+l;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=Mt(t.align,d,this.right-f);else{const m=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);c=u+Mt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=Mt(a,d,d+f);o.textAlign=i.textAlign(Eg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ta(o,n.text,p,c,r)}_computeTitleHeight(){const t=this.options.title,n=Dt(t.font),r=On(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,i;if(Ti(t,this.left,this.right)&&Ti(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Ti(t,s.left,s.left+s.width)&&Ti(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!oN(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=nN(s,r);s&&!i&&et(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!i&&et(n.onHover,[t,r,this],this)}else r&&et(n.onClick,[t,r,this],this)}}function rN(e,t,n,r,s){const i=sN(r,e,t,n),o=iN(s,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}function sN(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+r.measureText(s).width}function iN(e,t,n){let r=e;return typeof t.text!="string"&&(r=S_(t,n)),r}function S_(e,t){const n=e.text?e.text.length:0;return t*n}function oN(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var aN={id:"legend",_element:Ay,start(e,t,n){const r=e.legend=new Ay({ctx:e.ctx,options:n,chart:e});En.configure(e,r,n),En.addBox(e,r)},stop(e){En.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;En.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=On(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class k_ extends ms{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=wt(r.text)?r.text.length:1;this._padding=On(r.padding);const i=s*Dt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,u,c,d;return this.isHorizontal()?(c=Mt(a,r,i),d=n+t,u=i-r):(o.position==="left"?(c=r+t,d=Mt(a,s,n),l=Ft*-.5):(c=i-t,d=Mt(a,n,s),l=Ft*.5),u=s-n),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Dt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);Ta(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:Eg(n.align),textBaseline:"middle",translation:[o,a]})}}function lN(e,t){const n=new k_({ctx:e.ctx,options:t,chart:e});En.configure(e,n,t),En.addBox(e,n),e.titleBlock=n}var uN={id:"title",_element:k_,start(e,t,n){lN(e,n)},stop(e){const t=e.titleBlock;En.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;En.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bo={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=EO(t,u);c<s&&(s=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ar(e,t){return t&&(wt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function vr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function cN(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:e,label:o,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Ny(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:o,boxHeight:a}=t,l=Dt(t.bodyFont),u=Dt(t.titleFont),c=Dt(t.footerFont),d=i.length,f=s.length,p=r.length,m=On(t.padding);let y=m.height,b=0,v=r.reduce((R,P)=>R+P.before.length+P.lines.length+P.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(y+=d*u.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){const R=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*R+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}f&&(y+=t.footerMarginTop+f*c.lineHeight+(f-1)*t.footerSpacing);let w=0;const x=function(R){b=Math.max(b,n.measureText(R).width+w)};return n.save(),n.font=u.string,qe(e.title,x),n.font=l.string,qe(e.beforeBody.concat(e.afterBody),x),w=t.displayColors?o+2+t.boxPadding:0,qe(r,R=>{qe(R.before,x),qe(R.lines,x),qe(R.after,x)}),w=0,n.font=c.string,qe(e.footer,x),n.restore(),b+=m.width,{width:b,height:y}}function dN(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function fN(e,t,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&s+i+o>t.width||e==="right"&&s-i-o<0)return!0}function hN(e,t,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=e;let u="center";return r==="center"?u=s<=(a+l)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),fN(u,e,t,n)&&(u="center"),u}function My(e,t,n){const r=n.yAlign||t.yAlign||dN(e,n);return{xAlign:n.xAlign||t.xAlign||hN(e,t,n,r),yAlign:r}}function pN(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function gN(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function Iy(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,u=s+i,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:p}=Fi(o);let m=pN(t,a);const y=gN(t,l,u);return l==="center"?a==="left"?m+=u:a==="right"&&(m-=u):a==="left"?m-=Math.max(c,f)+s:a==="right"&&(m+=Math.max(d,p)+s),{x:Un(m,0,r.width-t.width),y:Un(y,0,r.height-t.height)}}function eu(e,t,n){const r=On(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Ly(e){return ar([],vr(e))}function mN(e,t,n){return oo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Dy(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const C_={beforeTitle:mr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:mr,beforeBody:mr,beforeLabel:mr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Xe(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:mr,afterBody:mr,beforeFooter:mr,footer:mr,afterFooter:mr};function Jt(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?C_[t].call(n,r):s}class ep extends ms{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new c_(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=mN(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=Jt(r,"beforeTitle",this,t),i=Jt(r,"title",this,t),o=Jt(r,"afterTitle",this,t);let a=[];return a=ar(a,vr(s)),a=ar(a,vr(i)),a=ar(a,vr(o)),a}getBeforeBody(t,n){return Ly(Jt(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return qe(t,i=>{const o={before:[],lines:[],after:[]},a=Dy(r,i);ar(o.before,vr(Jt(a,"beforeLabel",this,i))),ar(o.lines,Jt(a,"label",this,i)),ar(o.after,vr(Jt(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(t,n){return Ly(Jt(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=Jt(r,"beforeFooter",this,t),i=Jt(r,"footer",this,t),o=Jt(r,"afterFooter",this,t);let a=[];return a=ar(a,vr(s)),a=ar(a,vr(i)),a=ar(a,vr(o)),a}_createItems(t){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(cN(this.chart,n[l]));return t.filter&&(a=a.filter((c,d,f)=>t.filter(c,d,f,r))),t.itemSort&&(a=a.sort((c,d)=>t.itemSort(c,d,r))),qe(a,c=>{const d=Dy(t.callbacks,c);s.push(Jt(d,"labelColor",this,c)),i.push(Jt(d,"labelPointStyle",this,c)),o.push(Jt(d,"labelTextColor",this,c))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=Bo[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Ny(this,r),u=Object.assign({},a,l),c=My(this.chart,r,u),d=Iy(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const i=this.getCaretPosition(t,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Fi(a),{x:f,y:p}=t,{width:m,height:y}=n;let b,v,w,x,R,P;return i==="center"?(R=p+y/2,s==="left"?(b=f,v=b-o,x=R+o,P=R-o):(b=f+m,v=b+o,x=R-o,P=R+o),w=b):(s==="left"?v=f+Math.max(l,c)+o:s==="right"?v=f+m-Math.max(u,d)-o:v=this.caretX,i==="top"?(x=p,R=x-o,b=v-o,w=v+o):(x=p+y,R=x+o,b=v+o,w=v-o),P=x),{x1:b,x2:v,x3:w,y1:x,y2:R,y3:P}}drawTitle(t,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const u=$i(r.rtl,this.x,this.width);for(t.x=eu(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=Dt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===i&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,c=Dt(i.bodyFont),d=eu(this,"left",i),f=s.x(d),p=l<c.lineHeight?(c.lineHeight-l)/2:0,m=n.y+p;if(i.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(f,u)+u/2,v=m+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Q0(t,y,b,v),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Q0(t,y,b,v)}else{t.lineWidth=Ve(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=s.leftForLtr(f,u),b=s.leftForLtr(s.xPlus(f,1),u-2),v=Fi(o.borderRadius);Object.values(v).some(w=>w!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,uc(t,{x:y,y:m,w:u,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),uc(t,{x:b,y:m+1,w:u-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(y,m,u,l),t.strokeRect(y,m,u,l),t.fillStyle=o.backgroundColor,t.fillRect(b,m+1,u-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=r,d=Dt(r.bodyFont);let f=d.lineHeight,p=0;const m=$i(r.rtl,this.x,this.width),y=function(S){n.fillText(S,m.x(t.x+p),t.y+f/2),t.y+=f+i},b=m.textAlign(o);let v,w,x,R,P,A,O;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,t.x=eu(this,b,r),n.fillStyle=r.bodyColor,qe(this.beforeBody,y),p=a&&b!=="right"?o==="center"?u/2+c:u+2+c:0,R=0,A=s.length;R<A;++R){for(v=s[R],w=this.labelTextColors[R],n.fillStyle=w,qe(v.before,y),x=v.lines,a&&x.length&&(this._drawColorBox(n,t,R,m,r),f=Math.max(d.lineHeight,l)),P=0,O=x.length;P<O;++P)y(x[P]),f=d.lineHeight;qe(v.after,y)}p=0,f=d.lineHeight,qe(this.afterBody,y),t.y-=i}drawFooter(t,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=$i(r.rtl,this.x,this.width);for(t.x=eu(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Dt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:c}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=Fi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(t,n,r,s),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&i==="right"&&this.drawCaret(t,n,r,s),n.lineTo(a+u,l+c-m),n.quadraticCurveTo(a+u,l+c,a+u-m,l+c),o==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(a+p,l+c),n.quadraticCurveTo(a,l+c,a,l+c-p),o==="center"&&i==="left"&&this.drawCaret(t,n,r,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=Bo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ny(this,t),l=Object.assign({},o,this._size),u=My(n,t,l),c=Iy(t,l,u,n);(s._to!==c.x||i._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=On(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,s,n),l_(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),u_(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!ic(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,r),a=this._positionChanged(o,t),l=n||!ic(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:s,options:i}=this,o=Bo[i.position].call(this,t,n);return o!==!1&&(r!==o.x||s!==o.y)}}ze(ep,"positioners",Bo);var yN={id:"tooltip",_element:ep,positioners:Bo,afterInit(e,t,n){n&&(e.tooltip=new ep({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:C_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const vN=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function xN(e,t,n,r){const s=e.indexOf(t);if(s===-1)return vN(e,t,n,r);const i=e.lastIndexOf(t);return s!==i?n:s}const wN=(e,t)=>e===null?null:Un(Math.round(e),0,t);function Fy(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class tp extends ao{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Xe(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:xN(r,t,Ge(n,t),this._addedLabels),wN(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return Fy.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ze(tp,"id","category"),ze(tp,"defaults",{ticks:{callback:Fy}});function _N(e,t){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=e,p=i||1,m=c-1,{min:y,max:b}=t,v=!Xe(o),w=!Xe(a),x=!Xe(u),R=(b-y)/(d+1);let P=V0((b-y)/m/p)*p,A,O,S,E;if(P<1e-14&&!v&&!w)return[{value:y},{value:b}];E=Math.ceil(b/P)-Math.floor(y/P),E>m&&(P=V0(E*P/m/p)*p),Xe(l)||(A=Math.pow(10,l),P=Math.ceil(P*A)/A),s==="ticks"?(O=Math.floor(y/P)*P,S=Math.ceil(b/P)*P):(O=y,S=b),v&&w&&i&&bO((a-o)/i,P/1e3)?(E=Math.round(Math.min((a-o)/P,c)),P=(a-o)/E,O=o,S=a):x?(O=v?o:O,S=w?a:S,E=u-1,P=(S-O)/E):(E=(S-O)/P,_u(E,Math.round(E),P/1e3)?E=Math.round(E):E=Math.ceil(E));const I=Math.max(H0(P),H0(O));A=Math.pow(10,Xe(l)?I:l),O=Math.round(O*A)/A,S=Math.round(S*A)/A;let D=0;for(v&&(f&&O!==o?(n.push({value:o}),O<o&&D++,_u(Math.round((O+D*P)*A)/A,o,$y(o,R,e))&&D++):O<o&&D++);D<E;++D){const $=Math.round((O+D*P)*A)/A;if(w&&$>a)break;n.push({value:$})}return w&&f&&S!==a?n.length&&_u(n[n.length-1].value,a,$y(a,R,e))?n[n.length-1].value=a:n.push({value:a}):(!w||S===a)&&n.push({value:S}),n}function $y(e,t,{horizontal:n,minRotation:r}){const s=zs(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class bN extends ao{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Xe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(t){const l=cs(s),u=cs(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),t||o(s-l)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=_N(s,i);return t.bounds==="ticks"&&SO(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const s=(r-n)/Math.max(t.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Qw(t,this.chart.options.locale,this.options.ticks.format)}}class np extends bN{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Tn(t)?t:0,this.max=Tn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=zs(this.options.ticks.minRotation),s=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ze(np,"id","linear"),ze(np,"defaults",{ticks:{callback:Zw.formatters.numeric}});const ed={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},en=Object.keys(ed);function zy(e,t){return e-t}function By(e,t){if(Xe(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),Tn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(lc(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function Uy(e,t,n,r){const s=en.length;for(let i=en.indexOf(e);i<s-1;++i){const o=ed[en[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return en[i]}return en[s-1]}function SN(e,t,n,r,s){for(let i=en.length-1;i>=en.indexOf(n);i--){const o=en[i];if(ed[o].common&&e._adapter.diff(s,r,o)>=t-1)return o}return en[n?en.indexOf(n):0]}function kN(e){for(let t=en.indexOf(e)+1,n=en.length;t<n;++t)if(ed[en[t]].common)return en[t]}function Vy(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=Cg(n,t),i=n[r]>=t?n[r]:n[s];e[i]=!0}}function CN(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function Hy(e,t,n){const r=[],s={},i=t.length;let o,a;for(o=0;o<i;++o)a=t[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:CN(e,r,s,n)}class fc extends ao{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new UA._date(t.adapters.date);s.init(n),ta(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:By(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Tn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Tn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=TO(s,i,o);return this._unit=n.unit||(r.autoSkip?Uy(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):SN(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:kN(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Hy(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Un(n,0,o),r=Un(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||Uy(i.minUnit,n,r,this._getLabelCapacity(n)),a=Ge(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=lc(l)||l===!0,c={};let d=n,f,p;if(u&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,u?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<r;f=+t.add(f,a,o),p++)Vy(c,f,m);return(f===r||s.bounds==="ticks"||p===1)&&Vy(c,f,m),Object.keys(c).sort(zy).map(y=>+y)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return et(o,[t,n,r],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],f=r[n],p=u&&d&&f&&f.major;return this._adapter.format(t,s||(p?d:c))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=zs(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,Hy(this,[t],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(By(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Kw(t.sort(zy))}}ze(fc,"id","time"),ze(fc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function tu(e,t,n){let r=0,s=e.length-1,i,o,a,l;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=Xh(e,"pos",t)),{pos:i,time:a}=e[r],{pos:o,time:l}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=Xh(e,"time",t)),{time:i,pos:a}=e[r],{time:o,pos:l}=e[s]);const u=o-i;return u?a+(l-a)*(t-i)/u:a}class Wy extends fc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=tu(n,this.min),this._tableRange=tu(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],i=[];let o,a,l,u,c;for(o=0,a=t.length;o<a;++o)u=t[o],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)c=s[o+1],l=s[o-1],u=s[o],Math.round((c+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(tu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return tu(this._table,r*this._tableRange+this._minPos,!0)}}ze(Wy,"id","timeseries"),ze(Wy,"defaults",fc.defaults);const E_="label";function qy(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function EN(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function R_(e,t){e.labels=t}function j_(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E_;const r=[];e.datasets=t.map(s=>{const i=e.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function RN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E_;const n={labels:[],datasets:[]};return R_(n,e.labels),j_(n,e.datasets,t),n}function jN(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:d,...f}=e,p=M.useRef(null),m=M.useRef(null),y=()=>{p.current&&(m.current=new Zc(p.current,{type:o,data:RN(a,i),options:l&&{...l},plugins:u}),qy(t,m.current))},b=()=>{qy(t,null),m.current&&(m.current.destroy(),m.current=null)};return M.useEffect(()=>{!s&&m.current&&l&&EN(m.current,l)},[s,l]),M.useEffect(()=>{!s&&m.current&&R_(m.current.config.data,a.labels)},[s,a.labels]),M.useEffect(()=>{!s&&m.current&&a.datasets&&j_(m.current.config.data,a.datasets,i)},[s,a.datasets]),M.useEffect(()=>{m.current&&(s?(b(),setTimeout(y)):m.current.update(d))},[s,l,a.labels,a.datasets,d]),M.useEffect(()=>{m.current&&(b(),setTimeout(y))},[o]),M.useEffect(()=>(y(),()=>b()),[]),Fe.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},c)}const PN=M.forwardRef(jN);function TN(e,t){return Zc.register(t),M.forwardRef((n,r)=>Fe.createElement(PN,{...n,ref:r,type:e}))}const ON=TN("bar",bu);Zc.register(tp,np,Cu,uN,yN,aN);const AN={labels:["Widget A","Widget B","Widget C","Widget D","Widget E"],datasets:[{label:"Units Sold",data:[120,98,85,75,60],backgroundColor:"rgba(255, 99, 132, 0.5)"}]},NN={responsive:!0,plugins:{legend:{position:"top"}}};function MN(){const[e,t]=M.useState("sales"),{hasPermission:n}=An(),s=[{id:"sales",name:"Top Selling Products",permission:"view_reports"},{id:"forecast",name:"Inventory Forecast",permission:"view_reports"}].filter(a=>n(a.permission)),i=()=>{alert("Exporting as CSV...")},o=()=>{alert("Exporting as PDF...")};return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),h.jsx("p",{className:"text-gray-600",children:"View and generate reports for inventory analysis"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"sm:hidden",children:[h.jsx("label",{htmlFor:"reportTab",className:"sr-only",children:"Select a report"}),h.jsx("select",{id:"reportTab",name:"reportTab",className:"block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",value:e,onChange:a=>t(a.target.value),children:s.map(a=>h.jsx("option",{value:a.id,children:a.name},a.id))})]}),h.jsx("div",{className:"hidden sm:block",children:h.jsx("div",{className:"border-b border-gray-200",children:h.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:s.map(a=>h.jsx("button",{onClick:()=>t(a.id),className:`
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                    ${e===a.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                  `,children:a.name},a.id))})})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e==="sales"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Selling Products"}),h.jsx("div",{className:"h-80",children:h.jsx(ON,{options:NN,data:AN})}),h.jsx("div",{className:"mt-4",children:h.jsx("p",{className:"text-sm text-gray-600",children:"This report shows the top selling products based on unit sales."})})]}),e==="forecast"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Inventory Forecast"}),h.jsx("div",{className:"text-center py-10",children:h.jsx("p",{className:"text-gray-500",children:"Inventory forecast report requires additional historical data. Feature coming soon."})})]})]}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[h.jsxs(He,{variant:"outline",onClick:i,className:"flex items-center",children:[h.jsx(Ca,{className:"h-5 w-5 mr-2"}),"Export as CSV"]}),h.jsxs(He,{variant:"outline",onClick:o,className:"flex items-center",children:[h.jsx(Ca,{className:"h-5 w-5 mr-2"}),"Export as PDF"]})]})]})}var P_={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(1&o&&(i=s(i)),8&o||4&o&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&o&&typeof i!="string")for(var l in i)s.d(a,l,(function(u){return i[u]}).bind(null,l));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="/",s(s.s=73)}([function(n,r,s){var i=s(61);n.exports=function(o,a,l){return(a=i(a))in o?Object.defineProperty(o,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[a]=l,o},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){n.exports=function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){function s(i){return n.exports=s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},n.exports.__esModule=!0,n.exports.default=n.exports,s(i)}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){n.exports=function(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(61);function o(a,l){for(var u=0;u<l.length;u++){var c=l[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,i(c.key),c)}}n.exports=function(a,l,u){return l&&o(a.prototype,l),u&&o(a,u),Object.defineProperty(a,"prototype",{writable:!1}),a},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){s.d(r,"a",function(){return i}),s.d(r,"b",function(){return o}),s.d(r,"c",function(){return a}),s.d(r,"d",function(){return l});var i={};s.r(i),s.d(i,"EPSILON",function(){return u}),s.d(i,"ARRAY_TYPE",function(){return c}),s.d(i,"RANDOM",function(){return d}),s.d(i,"setMatrixArrayType",function(){return f}),s.d(i,"toRadian",function(){return m}),s.d(i,"equals",function(){return y});var o={};s.r(o),s.d(o,"create",function(){return b}),s.d(o,"clone",function(){return v}),s.d(o,"copy",function(){return w}),s.d(o,"identity",function(){return x}),s.d(o,"fromValues",function(){return R}),s.d(o,"set",function(){return P}),s.d(o,"transpose",function(){return A}),s.d(o,"invert",function(){return O}),s.d(o,"adjoint",function(){return S}),s.d(o,"determinant",function(){return E}),s.d(o,"multiply",function(){return I}),s.d(o,"rotate",function(){return D}),s.d(o,"scale",function(){return $}),s.d(o,"fromRotation",function(){return H}),s.d(o,"fromScaling",function(){return Q}),s.d(o,"str",function(){return re}),s.d(o,"frob",function(){return oe}),s.d(o,"LDU",function(){return ee}),s.d(o,"add",function(){return Y}),s.d(o,"subtract",function(){return K}),s.d(o,"exactEquals",function(){return X}),s.d(o,"equals",function(){return te}),s.d(o,"multiplyScalar",function(){return q}),s.d(o,"multiplyScalarAndAdd",function(){return G}),s.d(o,"mul",function(){return ne}),s.d(o,"sub",function(){return ue});var a={};s.r(a),s.d(a,"create",function(){return ce}),s.d(a,"clone",function(){return we}),s.d(a,"fromValues",function(){return ve}),s.d(a,"copy",function(){return me}),s.d(a,"set",function(){return be}),s.d(a,"add",function(){return ye}),s.d(a,"subtract",function(){return je}),s.d(a,"multiply",function(){return Me}),s.d(a,"divide",function(){return Ue}),s.d(a,"ceil",function(){return We}),s.d(a,"floor",function(){return Ae}),s.d(a,"min",function(){return bt}),s.d(a,"max",function(){return Pe}),s.d(a,"round",function(){return Ye}),s.d(a,"scale",function(){return ln}),s.d(a,"scaleAndAdd",function(){return Jn}),s.d(a,"distance",function(){return zt}),s.d(a,"squaredDistance",function(){return Qn}),s.d(a,"length",function(){return dt}),s.d(a,"squaredLength",function(){return Bt}),s.d(a,"negate",function(){return rt}),s.d(a,"inverse",function(){return vt}),s.d(a,"normalize",function(){return Kt}),s.d(a,"dot",function(){return Lr}),s.d(a,"cross",function(){return Dr}),s.d(a,"lerp",function(){return Zn}),s.d(a,"random",function(){return Yt}),s.d(a,"transformMat2",function(){return er}),s.d(a,"transformMat2d",function(){return ii}),s.d(a,"transformMat3",function(){return Ka}),s.d(a,"transformMat4",function(){return Ya}),s.d(a,"rotate",function(){return tr}),s.d(a,"angle",function(){return td}),s.d(a,"zero",function(){return Xa}),s.d(a,"str",function(){return nd}),s.d(a,"exactEquals",function(){return rd}),s.d(a,"equals",function(){return Ja}),s.d(a,"len",function(){return Qa}),s.d(a,"sub",function(){return sd}),s.d(a,"mul",function(){return Za}),s.d(a,"div",function(){return el}),s.d(a,"dist",function(){return id}),s.d(a,"sqrDist",function(){return tl}),s.d(a,"sqrLen",function(){return od}),s.d(a,"forEach",function(){return nl});var l={};s.r(l),s.d(l,"create",function(){return _s}),s.d(l,"clone",function(){return oi}),s.d(l,"length",function(){return lo}),s.d(l,"fromValues",function(){return ad}),s.d(l,"copy",function(){return rl}),s.d(l,"set",function(){return bs}),s.d(l,"add",function(){return uo}),s.d(l,"subtract",function(){return nr}),s.d(l,"multiply",function(){return sl}),s.d(l,"divide",function(){return il}),s.d(l,"ceil",function(){return ld}),s.d(l,"floor",function(){return ud}),s.d(l,"min",function(){return Fr}),s.d(l,"max",function(){return co}),s.d(l,"round",function(){return ol}),s.d(l,"scale",function(){return cd}),s.d(l,"scaleAndAdd",function(){return dd}),s.d(l,"distance",function(){return al}),s.d(l,"squaredDistance",function(){return ll}),s.d(l,"squaredLength",function(){return fo}),s.d(l,"negate",function(){return fd}),s.d(l,"inverse",function(){return hd}),s.d(l,"normalize",function(){return ul}),s.d(l,"dot",function(){return Ss}),s.d(l,"cross",function(){return ks}),s.d(l,"lerp",function(){return ai}),s.d(l,"hermite",function(){return cl}),s.d(l,"bezier",function(){return pd}),s.d(l,"random",function(){return wn}),s.d(l,"transformMat4",function(){return li}),s.d(l,"transformMat3",function(){return dl}),s.d(l,"transformQuat",function(){return gd}),s.d(l,"rotateX",function(){return md}),s.d(l,"rotateY",function(){return ui}),s.d(l,"rotateZ",function(){return fl}),s.d(l,"angle",function(){return yd}),s.d(l,"zero",function(){return vd}),s.d(l,"str",function(){return xd}),s.d(l,"exactEquals",function(){return wd}),s.d(l,"equals",function(){return _d}),s.d(l,"sub",function(){return hl}),s.d(l,"mul",function(){return bd}),s.d(l,"div",function(){return Sd}),s.d(l,"dist",function(){return pl}),s.d(l,"sqrDist",function(){return kd}),s.d(l,"len",function(){return ho}),s.d(l,"sqrLen",function(){return Cd}),s.d(l,"forEach",function(){return gl});var u=1e-6,c=typeof Float32Array<"u"?Float32Array:Array,d=Math.random;function f(C){c=C}var p=Math.PI/180;function m(C){return C*p}function y(C,N){return Math.abs(C-N)<=u*Math.max(1,Math.abs(C),Math.abs(N))}function b(){var C=new c(4);return c!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C}function v(C){var N=new c(4);return N[0]=C[0],N[1]=C[1],N[2]=C[2],N[3]=C[3],N}function w(C,N){return C[0]=N[0],C[1]=N[1],C[2]=N[2],C[3]=N[3],C}function x(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=1,C}function R(C,N,U,Z){var ie=new c(4);return ie[0]=C,ie[1]=N,ie[2]=U,ie[3]=Z,ie}function P(C,N,U,Z,ie){return C[0]=N,C[1]=U,C[2]=Z,C[3]=ie,C}function A(C,N){if(C===N){var U=N[1];C[1]=N[2],C[2]=U}else C[0]=N[0],C[1]=N[2],C[2]=N[1],C[3]=N[3];return C}function O(C,N){var U=N[0],Z=N[1],ie=N[2],de=N[3],ge=U*de-ie*Z;return ge?(ge=1/ge,C[0]=de*ge,C[1]=-Z*ge,C[2]=-ie*ge,C[3]=U*ge,C):null}function S(C,N){var U=N[0];return C[0]=N[3],C[1]=-N[1],C[2]=-N[2],C[3]=U,C}function E(C){return C[0]*C[3]-C[2]*C[1]}function I(C,N,U){var Z=N[0],ie=N[1],de=N[2],ge=N[3],Se=U[0],De=U[1],ht=U[2],St=U[3];return C[0]=Z*Se+de*De,C[1]=ie*Se+ge*De,C[2]=Z*ht+de*St,C[3]=ie*ht+ge*St,C}function D(C,N,U){var Z=N[0],ie=N[1],de=N[2],ge=N[3],Se=Math.sin(U),De=Math.cos(U);return C[0]=Z*De+de*Se,C[1]=ie*De+ge*Se,C[2]=Z*-Se+de*De,C[3]=ie*-Se+ge*De,C}function $(C,N,U){var Z=N[0],ie=N[1],de=N[2],ge=N[3],Se=U[0],De=U[1];return C[0]=Z*Se,C[1]=ie*Se,C[2]=de*De,C[3]=ge*De,C}function H(C,N){var U=Math.sin(N),Z=Math.cos(N);return C[0]=Z,C[1]=U,C[2]=-U,C[3]=Z,C}function Q(C,N){return C[0]=N[0],C[1]=0,C[2]=0,C[3]=N[1],C}function re(C){return"mat2("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]+")"}function oe(C){return Math.hypot(C[0],C[1],C[2],C[3])}function ee(C,N,U,Z){return C[2]=Z[2]/Z[0],U[0]=Z[0],U[1]=Z[1],U[3]=Z[3]-C[2]*U[1],[C,N,U]}function Y(C,N,U){return C[0]=N[0]+U[0],C[1]=N[1]+U[1],C[2]=N[2]+U[2],C[3]=N[3]+U[3],C}function K(C,N,U){return C[0]=N[0]-U[0],C[1]=N[1]-U[1],C[2]=N[2]-U[2],C[3]=N[3]-U[3],C}function X(C,N){return C[0]===N[0]&&C[1]===N[1]&&C[2]===N[2]&&C[3]===N[3]}function te(C,N){var U=C[0],Z=C[1],ie=C[2],de=C[3],ge=N[0],Se=N[1],De=N[2],ht=N[3];return Math.abs(U-ge)<=u*Math.max(1,Math.abs(U),Math.abs(ge))&&Math.abs(Z-Se)<=u*Math.max(1,Math.abs(Z),Math.abs(Se))&&Math.abs(ie-De)<=u*Math.max(1,Math.abs(ie),Math.abs(De))&&Math.abs(de-ht)<=u*Math.max(1,Math.abs(de),Math.abs(ht))}function q(C,N,U){return C[0]=N[0]*U,C[1]=N[1]*U,C[2]=N[2]*U,C[3]=N[3]*U,C}function G(C,N,U,Z){return C[0]=N[0]+U[0]*Z,C[1]=N[1]+U[1]*Z,C[2]=N[2]+U[2]*Z,C[3]=N[3]+U[3]*Z,C}Math.hypot||(Math.hypot=function(){for(var C=0,N=arguments.length;N--;)C+=arguments[N]*arguments[N];return Math.sqrt(C)});var ne=I,ue=K;function ce(){var C=new c(2);return c!=Float32Array&&(C[0]=0,C[1]=0),C}function we(C){var N=new c(2);return N[0]=C[0],N[1]=C[1],N}function ve(C,N){var U=new c(2);return U[0]=C,U[1]=N,U}function me(C,N){return C[0]=N[0],C[1]=N[1],C}function be(C,N,U){return C[0]=N,C[1]=U,C}function ye(C,N,U){return C[0]=N[0]+U[0],C[1]=N[1]+U[1],C}function je(C,N,U){return C[0]=N[0]-U[0],C[1]=N[1]-U[1],C}function Me(C,N,U){return C[0]=N[0]*U[0],C[1]=N[1]*U[1],C}function Ue(C,N,U){return C[0]=N[0]/U[0],C[1]=N[1]/U[1],C}function We(C,N){return C[0]=Math.ceil(N[0]),C[1]=Math.ceil(N[1]),C}function Ae(C,N){return C[0]=Math.floor(N[0]),C[1]=Math.floor(N[1]),C}function bt(C,N,U){return C[0]=Math.min(N[0],U[0]),C[1]=Math.min(N[1],U[1]),C}function Pe(C,N,U){return C[0]=Math.max(N[0],U[0]),C[1]=Math.max(N[1],U[1]),C}function Ye(C,N){return C[0]=Math.round(N[0]),C[1]=Math.round(N[1]),C}function ln(C,N,U){return C[0]=N[0]*U,C[1]=N[1]*U,C}function Jn(C,N,U,Z){return C[0]=N[0]+U[0]*Z,C[1]=N[1]+U[1]*Z,C}function zt(C,N){var U=N[0]-C[0],Z=N[1]-C[1];return Math.hypot(U,Z)}function Qn(C,N){var U=N[0]-C[0],Z=N[1]-C[1];return U*U+Z*Z}function dt(C){var N=C[0],U=C[1];return Math.hypot(N,U)}function Bt(C){var N=C[0],U=C[1];return N*N+U*U}function rt(C,N){return C[0]=-N[0],C[1]=-N[1],C}function vt(C,N){return C[0]=1/N[0],C[1]=1/N[1],C}function Kt(C,N){var U=N[0],Z=N[1],ie=U*U+Z*Z;return ie>0&&(ie=1/Math.sqrt(ie)),C[0]=N[0]*ie,C[1]=N[1]*ie,C}function Lr(C,N){return C[0]*N[0]+C[1]*N[1]}function Dr(C,N,U){var Z=N[0]*U[1]-N[1]*U[0];return C[0]=C[1]=0,C[2]=Z,C}function Zn(C,N,U,Z){var ie=N[0],de=N[1];return C[0]=ie+Z*(U[0]-ie),C[1]=de+Z*(U[1]-de),C}function Yt(C,N){N=N||1;var U=2*d()*Math.PI;return C[0]=Math.cos(U)*N,C[1]=Math.sin(U)*N,C}function er(C,N,U){var Z=N[0],ie=N[1];return C[0]=U[0]*Z+U[2]*ie,C[1]=U[1]*Z+U[3]*ie,C}function ii(C,N,U){var Z=N[0],ie=N[1];return C[0]=U[0]*Z+U[2]*ie+U[4],C[1]=U[1]*Z+U[3]*ie+U[5],C}function Ka(C,N,U){var Z=N[0],ie=N[1];return C[0]=U[0]*Z+U[3]*ie+U[6],C[1]=U[1]*Z+U[4]*ie+U[7],C}function Ya(C,N,U){var Z=N[0],ie=N[1];return C[0]=U[0]*Z+U[4]*ie+U[12],C[1]=U[1]*Z+U[5]*ie+U[13],C}function tr(C,N,U,Z){var ie=N[0]-U[0],de=N[1]-U[1],ge=Math.sin(Z),Se=Math.cos(Z);return C[0]=ie*Se-de*ge+U[0],C[1]=ie*ge+de*Se+U[1],C}function td(C,N){var U=C[0],Z=C[1],ie=N[0],de=N[1],ge=Math.sqrt(U*U+Z*Z)*Math.sqrt(ie*ie+de*de),Se=ge&&(U*ie+Z*de)/ge;return Math.acos(Math.min(Math.max(Se,-1),1))}function Xa(C){return C[0]=0,C[1]=0,C}function nd(C){return"vec2("+C[0]+", "+C[1]+")"}function rd(C,N){return C[0]===N[0]&&C[1]===N[1]}function Ja(C,N){var U=C[0],Z=C[1],ie=N[0],de=N[1];return Math.abs(U-ie)<=u*Math.max(1,Math.abs(U),Math.abs(ie))&&Math.abs(Z-de)<=u*Math.max(1,Math.abs(Z),Math.abs(de))}var pr,Qa=dt,sd=je,Za=Me,el=Ue,id=zt,tl=Qn,od=Bt,nl=(pr=ce(),function(C,N,U,Z,ie,de){var ge,Se;for(N||(N=2),U||(U=0),Se=Z?Math.min(Z*N+U,C.length):C.length,ge=U;ge<Se;ge+=N)pr[0]=C[ge],pr[1]=C[ge+1],ie(pr,pr,de),C[ge]=pr[0],C[ge+1]=pr[1];return C});function _s(){var C=new c(3);return c!=Float32Array&&(C[0]=0,C[1]=0,C[2]=0),C}function oi(C){var N=new c(3);return N[0]=C[0],N[1]=C[1],N[2]=C[2],N}function lo(C){var N=C[0],U=C[1],Z=C[2];return Math.hypot(N,U,Z)}function ad(C,N,U){var Z=new c(3);return Z[0]=C,Z[1]=N,Z[2]=U,Z}function rl(C,N){return C[0]=N[0],C[1]=N[1],C[2]=N[2],C}function bs(C,N,U,Z){return C[0]=N,C[1]=U,C[2]=Z,C}function uo(C,N,U){return C[0]=N[0]+U[0],C[1]=N[1]+U[1],C[2]=N[2]+U[2],C}function nr(C,N,U){return C[0]=N[0]-U[0],C[1]=N[1]-U[1],C[2]=N[2]-U[2],C}function sl(C,N,U){return C[0]=N[0]*U[0],C[1]=N[1]*U[1],C[2]=N[2]*U[2],C}function il(C,N,U){return C[0]=N[0]/U[0],C[1]=N[1]/U[1],C[2]=N[2]/U[2],C}function ld(C,N){return C[0]=Math.ceil(N[0]),C[1]=Math.ceil(N[1]),C[2]=Math.ceil(N[2]),C}function ud(C,N){return C[0]=Math.floor(N[0]),C[1]=Math.floor(N[1]),C[2]=Math.floor(N[2]),C}function Fr(C,N,U){return C[0]=Math.min(N[0],U[0]),C[1]=Math.min(N[1],U[1]),C[2]=Math.min(N[2],U[2]),C}function co(C,N,U){return C[0]=Math.max(N[0],U[0]),C[1]=Math.max(N[1],U[1]),C[2]=Math.max(N[2],U[2]),C}function ol(C,N){return C[0]=Math.round(N[0]),C[1]=Math.round(N[1]),C[2]=Math.round(N[2]),C}function cd(C,N,U){return C[0]=N[0]*U,C[1]=N[1]*U,C[2]=N[2]*U,C}function dd(C,N,U,Z){return C[0]=N[0]+U[0]*Z,C[1]=N[1]+U[1]*Z,C[2]=N[2]+U[2]*Z,C}function al(C,N){var U=N[0]-C[0],Z=N[1]-C[1],ie=N[2]-C[2];return Math.hypot(U,Z,ie)}function ll(C,N){var U=N[0]-C[0],Z=N[1]-C[1],ie=N[2]-C[2];return U*U+Z*Z+ie*ie}function fo(C){var N=C[0],U=C[1],Z=C[2];return N*N+U*U+Z*Z}function fd(C,N){return C[0]=-N[0],C[1]=-N[1],C[2]=-N[2],C}function hd(C,N){return C[0]=1/N[0],C[1]=1/N[1],C[2]=1/N[2],C}function ul(C,N){var U=N[0],Z=N[1],ie=N[2],de=U*U+Z*Z+ie*ie;return de>0&&(de=1/Math.sqrt(de)),C[0]=N[0]*de,C[1]=N[1]*de,C[2]=N[2]*de,C}function Ss(C,N){return C[0]*N[0]+C[1]*N[1]+C[2]*N[2]}function ks(C,N,U){var Z=N[0],ie=N[1],de=N[2],ge=U[0],Se=U[1],De=U[2];return C[0]=ie*De-de*Se,C[1]=de*ge-Z*De,C[2]=Z*Se-ie*ge,C}function ai(C,N,U,Z){var ie=N[0],de=N[1],ge=N[2];return C[0]=ie+Z*(U[0]-ie),C[1]=de+Z*(U[1]-de),C[2]=ge+Z*(U[2]-ge),C}function cl(C,N,U,Z,ie,de){var ge=de*de,Se=ge*(2*de-3)+1,De=ge*(de-2)+de,ht=ge*(de-1),St=ge*(3-2*de);return C[0]=N[0]*Se+U[0]*De+Z[0]*ht+ie[0]*St,C[1]=N[1]*Se+U[1]*De+Z[1]*ht+ie[1]*St,C[2]=N[2]*Se+U[2]*De+Z[2]*ht+ie[2]*St,C}function pd(C,N,U,Z,ie,de){var ge=1-de,Se=ge*ge,De=de*de,ht=Se*ge,St=3*de*Se,Mn=3*De*ge,In=De*de;return C[0]=N[0]*ht+U[0]*St+Z[0]*Mn+ie[0]*In,C[1]=N[1]*ht+U[1]*St+Z[1]*Mn+ie[1]*In,C[2]=N[2]*ht+U[2]*St+Z[2]*Mn+ie[2]*In,C}function wn(C,N){N=N||1;var U=2*d()*Math.PI,Z=2*d()-1,ie=Math.sqrt(1-Z*Z)*N;return C[0]=Math.cos(U)*ie,C[1]=Math.sin(U)*ie,C[2]=Z*N,C}function li(C,N,U){var Z=N[0],ie=N[1],de=N[2],ge=U[3]*Z+U[7]*ie+U[11]*de+U[15];return ge=ge||1,C[0]=(U[0]*Z+U[4]*ie+U[8]*de+U[12])/ge,C[1]=(U[1]*Z+U[5]*ie+U[9]*de+U[13])/ge,C[2]=(U[2]*Z+U[6]*ie+U[10]*de+U[14])/ge,C}function dl(C,N,U){var Z=N[0],ie=N[1],de=N[2];return C[0]=Z*U[0]+ie*U[3]+de*U[6],C[1]=Z*U[1]+ie*U[4]+de*U[7],C[2]=Z*U[2]+ie*U[5]+de*U[8],C}function gd(C,N,U){var Z=U[0],ie=U[1],de=U[2],ge=U[3],Se=N[0],De=N[1],ht=N[2],St=ie*ht-de*De,Mn=de*Se-Z*ht,In=Z*De-ie*Se,gr=ie*In-de*Mn,ci=de*St-Z*In,po=Z*Mn-ie*St,L=2*ge;return St*=L,Mn*=L,In*=L,gr*=2,ci*=2,po*=2,C[0]=Se+St+gr,C[1]=De+Mn+ci,C[2]=ht+In+po,C}function md(C,N,U,Z){var ie=[],de=[];return ie[0]=N[0]-U[0],ie[1]=N[1]-U[1],ie[2]=N[2]-U[2],de[0]=ie[0],de[1]=ie[1]*Math.cos(Z)-ie[2]*Math.sin(Z),de[2]=ie[1]*Math.sin(Z)+ie[2]*Math.cos(Z),C[0]=de[0]+U[0],C[1]=de[1]+U[1],C[2]=de[2]+U[2],C}function ui(C,N,U,Z){var ie=[],de=[];return ie[0]=N[0]-U[0],ie[1]=N[1]-U[1],ie[2]=N[2]-U[2],de[0]=ie[2]*Math.sin(Z)+ie[0]*Math.cos(Z),de[1]=ie[1],de[2]=ie[2]*Math.cos(Z)-ie[0]*Math.sin(Z),C[0]=de[0]+U[0],C[1]=de[1]+U[1],C[2]=de[2]+U[2],C}function fl(C,N,U,Z){var ie=[],de=[];return ie[0]=N[0]-U[0],ie[1]=N[1]-U[1],ie[2]=N[2]-U[2],de[0]=ie[0]*Math.cos(Z)-ie[1]*Math.sin(Z),de[1]=ie[0]*Math.sin(Z)+ie[1]*Math.cos(Z),de[2]=ie[2],C[0]=de[0]+U[0],C[1]=de[1]+U[1],C[2]=de[2]+U[2],C}function yd(C,N){var U=C[0],Z=C[1],ie=C[2],de=N[0],ge=N[1],Se=N[2],De=Math.sqrt(U*U+Z*Z+ie*ie)*Math.sqrt(de*de+ge*ge+Se*Se),ht=De&&Ss(C,N)/De;return Math.acos(Math.min(Math.max(ht,-1),1))}function vd(C){return C[0]=0,C[1]=0,C[2]=0,C}function xd(C){return"vec3("+C[0]+", "+C[1]+", "+C[2]+")"}function wd(C,N){return C[0]===N[0]&&C[1]===N[1]&&C[2]===N[2]}function _d(C,N){var U=C[0],Z=C[1],ie=C[2],de=N[0],ge=N[1],Se=N[2];return Math.abs(U-de)<=u*Math.max(1,Math.abs(U),Math.abs(de))&&Math.abs(Z-ge)<=u*Math.max(1,Math.abs(Z),Math.abs(ge))&&Math.abs(ie-Se)<=u*Math.max(1,Math.abs(ie),Math.abs(Se))}var hl=nr,bd=sl,Sd=il,pl=al,kd=ll,ho=lo,Cd=fo,gl=function(){var C=_s();return function(N,U,Z,ie,de,ge){var Se,De;for(U||(U=3),Z||(Z=0),De=ie?Math.min(ie*U+Z,N.length):N.length,Se=Z;Se<De;Se+=U)C[0]=N[Se],C[1]=N[Se+1],C[2]=N[Se+2],de(C,C,ge),N[Se]=C[0],N[Se+1]=C[1],N[Se+2]=C[2];return N}}()},function(n,r,s){var i=s(13).default,o=s(1);n.exports=function(a,l){if(l&&(i(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(a)},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(40);n.exports=function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),a&&i(o,a)},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(141)();n.exports=i;try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(n,r,s){r.a={init:function(i,o){i.fill(o)},shuffle:function(i){for(var o=i.length-1;o>0;o--){var a=Math.floor(Math.random()*(o+1)),l=[i[a],i[o]];i[o]=l[0],i[a]=l[1]}return i},toPointList:function(i){var o=i.reduce(function(a,l){var u="[".concat(l.join(","),"]");return a.push(u),a},[]);return"[".concat(o.join(`,\r
`),"]")},threshold:function(i,o,a){return i.reduce(function(l,u){return a.apply(i,[u])>=o&&l.push(u),l},[])},maxIndex:function(i){for(var o=0,a=0;a<i.length;a++)i[a]>i[o]&&(o=a);return o},max:function(i){for(var o=0,a=0;a<i.length;a++)i[a]>o&&(o=i[a]);return o},sum:function(i){for(var o=i.length,a=0;o--;)a+=i[o];return a}}},function(n,r,s){s.d(r,"h",function(){return u}),s.d(r,"i",function(){return d}),s.d(r,"b",function(){return f}),s.d(r,"j",function(){return p}),s.d(r,"e",function(){return m}),s.d(r,"c",function(){return y}),s.d(r,"f",function(){return b}),s.d(r,"g",function(){return v}),s.d(r,"a",function(){return x}),s.d(r,"d",function(){return P});var i=s(5),o=s(9);i.a.setMatrixArrayType(Array);var a=function(A,O){var S=[],E={rad:0,vec:i.c.clone([0,0])},I={};function D(H){I[H.id]=H,S.push(H)}function $(){var H,Q=0;for(H=0;H<S.length;H++)Q+=S[H].rad;E.rad=Q/S.length,E.vec=i.c.clone([Math.cos(E.rad),Math.sin(E.rad)])}return D(A),$(),{add:function(H){I[H.id]||(D(H),$())},fits:function(H){return Math.abs(i.c.dot(H.point.vec,E.vec))>O},getPoints:function(){return S},getCenter:function(){return E}}},l=function(A,O,S){return{rad:A[S],point:A,id:O}};function u(A,O){return{x:A,y:O,toVec2:function(){return i.c.clone([this.x,this.y])},toVec3:function(){return i.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function c(A,O){O||(O=8);for(var S=A.data,E=S.length,I=8-O,D=new Int32Array(1<<O);E--;)D[S[E]>>I]++;return D}function d(A,O){var S=function(E){var I,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,$=8-D;function H(ee,Y){for(var K=0,X=ee;X<=Y;X++)K+=I[X];return K}function Q(ee,Y){for(var K=0,X=ee;X<=Y;X++)K+=X*I[X];return K}function re(){var ee,Y,K,X,te=[0],q=(1<<D)-1;I=c(E,D);for(var G=1;G<q;G++)(K=(ee=H(0,G))*(Y=H(G+1,q)))===0&&(K=1),X=Q(0,G)*Y-Q(G+1,q)*ee,te[G]=X*X/K;return o.a.maxIndex(te)}var oe=re();return oe<<$}(A);return function(E,I,D){D||(D=E);for(var $=E.data,H=$.length,Q=D.data;H--;)Q[H]=$[H]<I?1:0}(A,S,O),S}function f(A,O,S){var E,I,D,$,H=[];function Q(re){var oe=!1;for(I=0;I<H.length;I++)(D=H[I]).fits(re)&&(D.add(re),oe=!0);return oe}for(S||(S="rad"),E=0;E<A.length;E++)Q($=l(A[E],E,S))||H.push(a($,O));return H}i.a.setMatrixArrayType(Array);function p(A,O,S){var E,I,D,$,H=0,Q=0,re=[];for(E=0;E<O;E++)re[E]={score:0,item:null};for(E=0;E<A.length;E++)if((I=S.apply(this,[A[E]]))>Q)for((D=re[H]).score=I,D.item=A[E],Q=Number.MAX_VALUE,$=0;$<O;$++)re[$].score<Q&&(Q=re[$].score,H=$);return re}function m(A,O,S){for(var E,I=0,D=O.x,$=Math.floor(A.length/4),H=O.x/2,Q=0,re=O.x;D<$;){for(E=0;E<H;E++)S[Q]=(.299*A[4*I+0]+.587*A[4*I+1]+.114*A[4*I+2]+(.299*A[4*(I+1)+0]+.587*A[4*(I+1)+1]+.114*A[4*(I+1)+2])+(.299*A[4*D+0]+.587*A[4*D+1]+.114*A[4*D+2])+(.299*A[4*(D+1)+0]+.587*A[4*(D+1)+1]+.114*A[4*(D+1)+2]))/4,Q++,I+=2,D+=2;I+=re,D+=re}}function y(A,O,S){var E=A.length/4|0;if(S&&S.singleChannel===!0)for(var I=0;I<E;I++)O[I]=A[4*I+0];else for(var D=0;D<E;D++)O[D]=.299*A[4*D+0]+.587*A[4*D+1]+.114*A[4*D+2]}function b(A,O){for(var S=A.data,E=A.size.x,I=O.data,D=0,$=E,H=S.length,Q=E/2,re=0;$<H;){for(var oe=0;oe<Q;oe++)I[re]=Math.floor((S[D]+S[D+1]+S[$]+S[$+1])/4),re++,D+=2,$+=2;D+=E,$+=E}}function v(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],S=A[0],E=A[1],I=A[2],D=I*E,$=D*(1-Math.abs(S/60%2-1)),H=I-D,Q=0,re=0,oe=0;return S<60?(Q=D,re=$):S<120?(Q=$,re=D):S<180?(re=D,oe=$):S<240?(re=$,oe=D):S<300?(Q=$,oe=D):S<360&&(Q=D,oe=$),O[0]=255*(Q+H)|0,O[1]=255*(re+H)|0,O[2]=255*(oe+H)|0,O}function w(A){for(var O=[],S=[],E=1;E<Math.sqrt(A)+1;E++)A%E==0&&(S.push(E),E!==A/E&&O.unshift(Math.floor(A/E)));return S.concat(O)}function x(A,O){var S,E=w(O.x),I=w(O.y),D=Math.max(O.x,O.y),$=function(K,X){for(var te=0,q=0,G=[];te<K.length&&q<X.length;)K[te]===X[q]?(G.push(K[te]),te++,q++):K[te]>X[q]?q++:te++;return G}(E,I),H=[8,10,15,20,32,60,80],Q={"x-small":5,small:4,medium:3,large:2,"x-large":1},re=Q[A]||Q.medium,oe=H[re],ee=Math.floor(D/oe);function Y(K){for(var X=0,te=K[Math.floor(K.length/2)];X<K.length-1&&K[X]<ee;)X++;return X>0&&(te=Math.abs(K[X]-ee)>Math.abs(K[X-1]-ee)?K[X-1]:K[X]),ee/te<H[re+1]/H[re]&&ee/te>H[re-1]/H[re]?{x:te,y:te}:null}return(S=Y($))||(S=Y(w(D)))||(S=Y(w(ee*oe))),S}var R={top:function(A,O){return A.unit==="%"?Math.floor(O.height*(A.value/100)):null},right:function(A,O){return A.unit==="%"?Math.floor(O.width-O.width*(A.value/100)):null},bottom:function(A,O){return A.unit==="%"?Math.floor(O.height-O.height*(A.value/100)):null},left:function(A,O){return A.unit==="%"?Math.floor(O.width*(A.value/100)):null}};function P(A,O,S){var E={width:A,height:O},I=Object.keys(S).reduce(function(D,$){var H=function(re){return{value:parseFloat(re),unit:(re.indexOf("%"),re.length,"%")}}(S[$]),Q=R[$](H,E);return D[$]=Q,D},{});return{sx:I.left,sy:I.top,sw:I.right-I.left,sh:I.bottom-I.top}}},function(n,r,s){var i=s(62),o=s.n(i),a=s(3),l=s.n(a),u=s(4),c=s.n(u),d=s(0),f=s.n(d),p=s(5),m=s(9),y=s(10);function b(w){if(w<0)throw new Error("expected positive number, received ".concat(w))}p.a.setMatrixArrayType(Array);var v=function(){function w(x,R){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,A=arguments.length>3?arguments[3]:void 0;l()(this,w),f()(this,"data",void 0),f()(this,"size",void 0),f()(this,"indexMapping",void 0),R?this.data=R:(this.data=new P(x.x*x.y),A&&m.a.init(this.data,0)),this.size=x}return c()(w,[{key:"inImageWithBorder",value:function(x){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return b(R),x.x>=0&&x.y>=0&&x.x<this.size.x+2*R&&x.y<this.size.y+2*R}},{key:"subImageAsCopy",value:function(x,R){b(R.x),b(R.y);for(var P=x.size,A=P.x,O=P.y,S=0;S<A;S++)for(var E=0;E<O;E++)x.data[E*A+S]=this.data[(R.y+E)*this.size.x+R.x+S];return x}},{key:"get",value:function(x,R){return this.data[R*this.size.x+x]}},{key:"getSafe",value:function(x,R){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var P=0;P<this.size.x;P++)this.indexMapping.x[P]=P,this.indexMapping.x[P+this.size.x]=P;for(var A=0;A<this.size.y;A++)this.indexMapping.y[A]=A,this.indexMapping.y[A+this.size.y]=A}return this.data[this.indexMapping.y[R+this.size.y]*this.size.x+this.indexMapping.x[x+this.size.x]]}},{key:"set",value:function(x,R,P){return this.data[R*this.size.x+x]=P,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var x=this.size,R=x.x,P=x.y,A=0;A<R;A++)this.data[A]=this.data[(P-1)*R+A]=0;for(var O=1;O<P-1;O++)this.data[O*R]=this.data[O*R+(R-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(x){var R,P,A,O,S,E,I,D,$,H,Q=this.data,re=this.size.y,oe=this.size.x,ee=[],Y=[],K=Math.PI,X=K/4;if(x<=0)return Y;for(S=0;S<x;S++)ee[S]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(P=0;P<re;P++)for(O=P*P,R=0;R<oe;R++)(A=Q[P*oe+R])>0&&((E=ee[A-1]).m00+=1,E.m01+=P,E.m10+=R,E.m11+=R*P,E.m02+=O,E.m20+=R*R);for(S=0;S<x;S++)E=ee[S],isNaN(E.m00)||E.m00===0||(D=E.m10/E.m00,$=E.m01/E.m00,I=E.m11/E.m00-D*$,H=(E.m02/E.m00-$*$-(E.m20/E.m00-D*D))/(2*I),H=.5*Math.atan(H)+(I>=0?X:-X)+K,E.theta=(180*H/K+90)%180-90,E.theta<0&&(E.theta+=180),E.rad=H>K?H-K:H,E.vec=p.c.clone([Math.cos(H),Math.sin(H)]),Y.push(E));return Y}},{key:"getAsRGBA",value:function(){for(var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,R=new Uint8ClampedArray(4*this.size.x*this.size.y),P=0;P<this.size.y;P++)for(var A=0;A<this.size.x;A++){var O=P*this.size.x+A,S=this.get(A,P)*x;R[4*O+0]=S,R[4*O+1]=S,R[4*O+2]=S,R[4*O+3]=255}return R}},{key:"show",value:function(x){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var P=x.getContext("2d");if(!P)throw new Error("Unable to get canvas context");var A=P.getImageData(0,0,x.width,x.height),O=this.getAsRGBA(R);x.width=this.size.x,x.height=this.size.y;var S=new ImageData(O,A.width,A.height);P.putImageData(S,0,0)}},{key:"overlay",value:function(x,R,P){var A=R<0||R>360?360:R,O=[0,1,1],S=[0,0,0],E=[255,255,255],I=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var D=x.getContext("2d");if(!D)throw new Error("Unable to get canvas context");for(var $=D.getImageData(P.x,P.y,this.size.x,this.size.y),H=$.data,Q=this.data.length;Q--;){O[0]=this.data[Q]*A;var re=4*Q,oe=O[0]<=0?E:O[0]>=360?I:Object(y.g)(O,S),ee=o()(oe,3);H[re]=ee[0],H[re+1]=ee[1],H[re+2]=ee[2],H[re+3]=255}D.putImageData($,P.x,P.y)}}]),w}();r.a=v},function(n,r){function s(i,o,a,l,u,c,d){try{var f=i[c](d),p=f.value}catch(m){return void a(m)}f.done?o(p):Promise.resolve(p).then(l,u)}n.exports=function(i){return function(){var o=this,a=arguments;return new Promise(function(l,u){var c=i.apply(o,a);function d(p){s(c,l,u,d,f,"next",p)}function f(p){s(c,l,u,d,f,"throw",p)}d(void 0)})}},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){function s(i){return n.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n.exports.__esModule=!0,n.exports.default=n.exports,s(i)}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(142);function o(){return typeof Reflect<"u"&&Reflect.get?(n.exports=o=Reflect.get.bind(),n.exports.__esModule=!0,n.exports.default=n.exports):(n.exports=o=function(a,l,u){var c=i(a,l);if(c){var d=Object.getOwnPropertyDescriptor(c,l);return d.get?d.get.call(arguments.length<3?a:u):d.value}},n.exports.__esModule=!0,n.exports.default=n.exports),o.apply(this,arguments)}n.exports=o,n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){n.exports=function(s){var i=typeof s;return s!=null&&(i=="object"||i=="function")}},function(n,r){var s=Array.isArray;n.exports=s},function(n,r,s){r.a={drawRect:function(i,o,a,l){a.strokeStyle=l.color,a.fillStyle=l.color,a.lineWidth=l.lineWidth||1,a.beginPath(),a.strokeRect(i.x,i.y,o.x,o.y)},drawPath:function(i,o,a,l){a.strokeStyle=l.color,a.fillStyle=l.color,a.lineWidth=l.lineWidth,a.beginPath(),a.moveTo(i[0][o.x],i[0][o.y]);for(var u=1;u<i.length;u++)a.lineTo(i[u][o.x],i[u][o.y]);a.closePath(),a.stroke()},drawImage:function(i,o,a){var l=a.getImageData(0,0,o.x,o.y),u=l.data,c=u.length,d=i.length;if(c/d!=4)return!1;for(;d--;){var f=i[d];u[--c]=255,u[--c]=f,u[--c]=f,u[--c]=f}return a.putImageData(l,0,0),!0}}},function(n,r,s){var i=s(74),o=s(129)(function(a,l,u){i(a,l,u)});n.exports=o},function(n,r,s){var i=s(44),o=typeof self=="object"&&self&&self.Object===Object&&self,a=i||o||Function("return this")();n.exports=a},function(n,r){n.exports=function(s){return s!=null&&typeof s=="object"}},function(n,r,s){r.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(i,o){var a,l=i.data,u=o.data,c=this.searchDirections,d=i.size.x;function f(m,y,b,v){var w,x,R;for(w=0;w<c.length;w++){if(x=m.cy+c[m.dir][0],R=m.cx+c[m.dir][1],l[a=x*d+R]===y&&(u[a]===0||u[a]===b))return u[a]=b,m.cy=x,m.cx=R,!0;u[a]===0&&(u[a]=v),m.dir=(m.dir+1)%8}return!1}function p(m,y,b){return{dir:b,x:m,y,next:null,prev:null}}return{trace:function(m,y,b,v){return f(m,y,b,v)},contourTracing:function(m,y,b,v,w){return function(x,R,P,A,O){var S,E,I,D=null,$={cx:R,cy:x,dir:0};if(f($,A,P,O)){S=D=p(R,x,$.dir),I=$.dir,(E=p($.cx,$.cy,0)).prev=S,S.next=E,E.next=null,S=E;var H=i.size.x*i.size.y,Q=0;do $.dir=($.dir+6)%8,f($,A,P,O),I!==$.dir?(S.dir=$.dir,(E=p($.cx,$.cy,0)).prev=S,S.next=E,E.next=null,S=E):(S.dir=I,S.x=$.cx,S.y=$.cy),I=$.dir;while(($.cx!==R||$.cy!==x)&&++Q<H);D.prev=S.prev,S.prev.next=D}return D}(m,y,b,v,w)}}}}},function(n,r,s){var i=s(27),o=s(87),a=s(88),l=i?i.toStringTag:void 0;n.exports=function(u){return u==null?u===void 0?"[object Undefined]":"[object Null]":l&&l in Object(u)?o(u):a(u)}},function(n,r,s){(function(i){var o,a,l,u,c,d,f,p,m,y,b=s(5),v=s(11),w=s(10),x=s(9),R=(s(17),s(65)),P=s(21),A=s(66);b.a.setMatrixArrayType(Array);var O,S,E={ctx:{binary:null},dom:{binary:null}},I={x:0,y:0};function D(Q){var re,oe,ee,Y,K,X,te,q=m.size.x,G=m.size.y,ne=-m.size.x,ue=-m.size.y;for(re=0,oe=0;oe<Q.length;oe++)re+=(Y=Q[oe]).rad;for((re=(180*(re/=Q.length)/Math.PI+90)%180-90)<0&&(re+=180),re=(180-re)*Math.PI/180,K=b.b.copy(b.b.create(),[Math.cos(re),Math.sin(re),-Math.sin(re),Math.cos(re)]),oe=0;oe<Q.length;oe++)for(Y=Q[oe],ee=0;ee<4;ee++)b.c.transformMat2(Y.box[ee],Y.box[ee],K);for(oe=0;oe<Q.length;oe++)for(Y=Q[oe],ee=0;ee<4;ee++)Y.box[ee][0]<q&&(q=Y.box[ee][0]),Y.box[ee][0]>ne&&(ne=Y.box[ee][0]),Y.box[ee][1]<G&&(G=Y.box[ee][1]),Y.box[ee][1]>ue&&(ue=Y.box[ee][1]);for(X=[[q,G],[ne,G],[ne,ue],[q,ue]],te=o.halfSample?2:1,K=b.b.invert(K,K),ee=0;ee<4;ee++)b.c.transformMat2(X[ee],X[ee],K);for(ee=0;ee<4;ee++)b.c.scale(X[ee],X[ee],te);return X}function $(Q,re){m.subImageAsCopy(u,Object(w.h)(Q,re)),S.skeletonize()}function H(Q,re,oe,ee){var Y,K,X,te,q=[],G=[],ne=Math.ceil(y.x/3);if(Q.length>=2){for(Y=0;Y<Q.length;Y++)Q[Y].m00>ne&&q.push(Q[Y]);if(q.length>=2){for(X=function(we){var ve=Object(w.b)(we,.9),me=Object(w.j)(ve,1,function(Me){return Me.getPoints().length}),be=[],ye=[];if(me.length===1){be=me[0].item.getPoints();for(var je=0;je<be.length;je++)ye.push(be[je].point)}return ye}(q),K=0,Y=0;Y<X.length;Y++){var ue,ce;K+=(ue=(ce=X[Y])===null||ce===void 0?void 0:ce.rad)!==null&&ue!==void 0?ue:0}X.length>1&&X.length>=q.length/4*3&&X.length>Q.length/4&&(K/=X.length,te={index:re[1]*I.x+re[0],pos:{x:oe,y:ee},box:[b.c.clone([oe,ee]),b.c.clone([oe+u.size.x,ee]),b.c.clone([oe+u.size.x,ee+u.size.y]),b.c.clone([oe,ee+u.size.y])],moments:X,rad:K,vec:b.c.clone([Math.cos(K),Math.sin(K)])},G.push(te))}}return G}r.a={init:function(Q,re){o=re,O=Q,function(){a=o.halfSample?new v.a({x:O.size.x/2|0,y:O.size.y/2|0}):O,y=Object(w.a)(o.patchSize,a.size),I.x=a.size.x/y.x|0,I.y=a.size.y/y.y|0,m=new v.a(a.size,void 0,Uint8Array,!1),c=new v.a(y,void 0,Array,!0);var oe=new ArrayBuffer(65536);u=new v.a(y,new Uint8Array(oe,0,y.x*y.y)),l=new v.a(y,new Uint8Array(oe,y.x*y.y*3,y.x*y.y),void 0,!0),S=Object(A.a)(typeof window<"u"?window:typeof self<"u"?self:i,{size:y.x},oe),p=new v.a({x:a.size.x/u.size.x|0,y:a.size.y/u.size.y|0},void 0,Array,!0),d=new v.a(p.size,void 0,void 0,!0),f=new v.a(p.size,void 0,Int32Array,!0)}(),function(){if(!o.useWorker&&typeof document<"u"){E.dom.binary=document.createElement("canvas"),E.dom.binary.className="binaryBuffer";var oe=!!o.willReadFrequently;console.warn("* initCanvas willReadFrequently",oe,o),E.ctx.binary=E.dom.binary.getContext("2d",{willReadFrequently:oe}),E.dom.binary.width=m.size.x,E.dom.binary.height=m.size.y}}()},locate:function(){o.halfSample&&Object(w.f)(O,a),Object(w.i)(a,m),m.zeroBorder();var Q=function(){var ee,Y,K,X,te,q,G=[];for(ee=0;ee<I.x;ee++)for(Y=0;Y<I.y;Y++)$(K=u.size.x*ee,X=u.size.y*Y),l.zeroBorder(),x.a.init(c.data,0),q=R.a.create(l,c).rasterize(0),te=c.moments(q.count),G=G.concat(H(te,[ee,Y],K,X));return G}();if(Q.length<I.x*I.y*.05)return null;var re=function(ee){var Y,K,X=0,te=0;function q(){var ne;for(ne=0;ne<f.data.length;ne++)if(f.data[ne]===0&&d.data[ne]===1)return ne;return f.data.length}function G(ne){var ue,ce,we,ve,me,be=ne%f.size.x,ye=ne/f.size.x|0;if(ne<f.data.length)for(we=p.data[ne],f.data[ne]=X,me=0;me<P.a.searchDirections.length;me++)ce=ye+P.a.searchDirections[me][0],ue=be+P.a.searchDirections[me][1],ve=ce*f.size.x+ue,d.data[ve]!==0?f.data[ve]===0&&Math.abs(b.c.dot(p.data[ve].vec,we.vec))>.95&&G(ve):f.data[ve]=Number.MAX_VALUE}for(x.a.init(d.data,0),x.a.init(f.data,0),x.a.init(p.data,null),Y=0;Y<ee.length;Y++)K=ee[Y],p.data[K.index]=K,d.data[K.index]=1;for(d.zeroBorder();(te=q())<f.data.length;)X++,G(te);return X}(Q);if(re<1)return null;var oe=function(ee){var Y,K,X=[];for(Y=0;Y<ee;Y++)X.push(0);for(K=f.data.length;K--;)f.data[K]>0&&X[f.data[K]-1]++;return(X=X.map(function(te,q){return{val:te,label:q+1}})).sort(function(te,q){return q.val-te.val}),X.filter(function(te){return te.val>=5})}(re);return oe.length===0?null:function(ee,Y){var K,X,te,q,G=[],ne=[];for(K=0;K<ee.length;K++){for(X=f.data.length,G.length=0;X--;)f.data[X]===ee[K].label&&(te=p.data[X],G.push(te));(q=D(G))&&ne.push(q)}return ne}(oe)},checkImageConstraints:function(Q,re){var oe,ee,Y=Q.getWidth(),K=Q.getHeight(),X=re.halfSample?.5:1;Q.getConfig().area&&(ee=Object(w.d)(Y,K,Q.getConfig().area),Q.setTopRight({x:ee.sx,y:ee.sy}),Q.setCanvasSize({x:Y,y:K}),Y=ee.sw,K=ee.sh);var te={x:Math.floor(Y*X),y:Math.floor(K*X)};if(oe=Object(w.a)(re.patchSize,te),Q.setWidth(Math.max(Math.floor(Math.floor(te.x/oe.x)*(1/X)*oe.x),oe.x)),Q.setHeight(Math.max(Math.floor(Math.floor(te.y/oe.y)*(1/X)*oe.y),oe.y)),Q.getWidth()%oe.x==0&&Q.getHeight()%oe.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(Y," )and height (").concat(K,") must a multiple of ").concat(oe.x))}}}).call(this,s(45))},function(n,r,s){var i=s(76),o=s(77),a=s(78),l=s(79),u=s(80);function c(d){var f=-1,p=d==null?0:d.length;for(this.clear();++f<p;){var m=d[f];this.set(m[0],m[1])}}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=l,c.prototype.set=u,n.exports=c},function(n,r,s){var i=s(26);n.exports=function(o,a){for(var l=o.length;l--;)if(i(o[l][0],a))return l;return-1}},function(n,r){n.exports=function(s,i){return s===i||s!=s&&i!=i}},function(n,r,s){var i=s(19).Symbol;n.exports=i},function(n,r,s){var i=s(34)(Object,"create");n.exports=i},function(n,r,s){var i=s(101);n.exports=function(o,a){var l=o.__data__;return i(a)?l[typeof a=="string"?"string":"hash"]:l.map}},function(n,r,s){var i=s(116),o=s(20),a=Object.prototype,l=a.hasOwnProperty,u=a.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(d){return o(d)&&l.call(d,"callee")&&!u.call(d,"callee")};n.exports=c},function(n,r){var s=/^(?:0|[1-9]\d*)$/;n.exports=function(i,o){var a=typeof i;return!!(o=o??9007199254740991)&&(a=="number"||a!="symbol"&&s.test(i))&&i>-1&&i%1==0&&i<o}},function(n,r,s){var i=s(16),o=s(149),a=s(150),l=s(153);n.exports=function(u,c){return i(u)?u:o(u,c)?[u]:a(l(u))}},function(n,r,s){var i=s(143),o=s(144),a=s(59),l=s(145);n.exports=function(u){return i(u)||o(u)||a(u)||l()},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(86),o=s(92);n.exports=function(a,l){var u=o(a,l);return i(u)?u:void 0}},function(n,r,s){var i=s(22),o=s(15);n.exports=function(a){if(!o(a))return!1;var l=i(a);return l=="[object Function]"||l=="[object GeneratorFunction]"||l=="[object AsyncFunction]"||l=="[object Proxy]"}},function(n,r,s){var i=s(48);n.exports=function(o,a,l){a=="__proto__"&&i?i(o,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):o[a]=l}},function(n,r){n.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(n,r,s){var i=s(35),o=s(39);n.exports=function(a){return a!=null&&o(a.length)&&!i(a)}},function(n,r){n.exports=function(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=9007199254740991}},function(n,r){function s(i,o){return n.exports=s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},n.exports.__esModule=!0,n.exports.default=n.exports,s(i,o)}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(22),o=s(20);n.exports=function(a){return typeof a=="symbol"||o(a)&&i(a)=="[object Symbol]"}},function(n,r,s){var i=s(41);n.exports=function(o){if(typeof o=="string"||i(o))return o;var a=o+"";return a=="0"&&1/o==-1/0?"-0":a}},function(n,r,s){var i=s(34)(s(19),"Map");n.exports=i},function(n,r,s){(function(i){var o=typeof i=="object"&&i&&i.Object===Object&&i;n.exports=o}).call(this,s(45))},function(n,r){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}n.exports=s},function(n,r,s){var i=s(93),o=s(100),a=s(102),l=s(103),u=s(104);function c(d){var f=-1,p=d==null?0:d.length;for(this.clear();++f<p;){var m=d[f];this.set(m[0],m[1])}}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=l,c.prototype.set=u,n.exports=c},function(n,r,s){var i=s(36),o=s(26);n.exports=function(a,l,u){(u!==void 0&&!o(a[l],u)||u===void 0&&!(l in a))&&i(a,l,u)}},function(n,r,s){var i=s(34),o=function(){try{var a=i(Object,"defineProperty");return a({},"",{}),a}catch{}}();n.exports=o},function(n,r,s){var i=s(115)(Object.getPrototypeOf,Object);n.exports=i},function(n,r){var s=Object.prototype;n.exports=function(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||s)}},function(n,r,s){(function(i){var o=s(19),a=s(118),l=r&&!r.nodeType&&r,u=l&&typeof i=="object"&&i&&!i.nodeType&&i,c=u&&u.exports===l?o.Buffer:void 0,d=(c?c.isBuffer:void 0)||a;i.exports=d}).call(this,s(37)(n))},function(n,r,s){var i=s(120),o=s(121),a=s(122),l=a&&a.isTypedArray,u=l?o(l):i;n.exports=u},function(n,r){n.exports=function(s,i){if((i!=="constructor"||typeof s[i]!="function")&&i!="__proto__")return s[i]}},function(n,r,s){var i=s(36),o=s(26),a=Object.prototype.hasOwnProperty;n.exports=function(l,u,c){var d=l[u];a.call(l,u)&&o(d,c)&&(c!==void 0||u in l)||i(l,u,c)}},function(n,r,s){var i=s(125),o=s(127),a=s(38);n.exports=function(l){return a(l)?i(l,!0):o(l)}},function(n,r){n.exports=function(s){return s}},function(n,r,s){var i=s(131),o=Math.max;n.exports=function(a,l,u){return l=o(l===void 0?a.length-1:l,0),function(){for(var c=arguments,d=-1,f=o(c.length-l,0),p=Array(f);++d<f;)p[d]=c[l+d];d=-1;for(var m=Array(l+1);++d<l;)m[d]=c[d];return m[l]=u(p),i(a,this,m)}}},function(n,r,s){var i=s(132),o=s(134)(i);n.exports=o},function(n,r,s){var i=s(60);n.exports=function(o,a){if(o){if(typeof o=="string")return i(o,a);var l=Object.prototype.toString.call(o).slice(8,-1);return l==="Object"&&o.constructor&&(l=o.constructor.name),l==="Map"||l==="Set"?Array.from(o):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?i(o,a):void 0}},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){n.exports=function(s,i){(i==null||i>s.length)&&(i=s.length);for(var o=0,a=new Array(i);o<i;o++)a[o]=s[o];return a},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(13).default,o=s(140);n.exports=function(a){var l=o(a,"string");return i(l)==="symbol"?l:String(l)},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(137),o=s(138),a=s(59),l=s(139);n.exports=function(u,c){return i(u)||o(u,c)||a(u,c)||l()},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(146),o=s(160)(function(a,l){return a==null?{}:i(a,l)});n.exports=o},function(n,r,s){var i=s(2),o=s(40),a=s(165),l=s(166);function u(c){var d=typeof Map=="function"?new Map:void 0;return n.exports=u=function(f){if(f===null||!a(f))return f;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(d!==void 0){if(d.has(f))return d.get(f);d.set(f,p)}function p(){return l(f,arguments,i(this).constructor)}return p.prototype=Object.create(f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),o(p,f)},n.exports.__esModule=!0,n.exports.default=n.exports,u(c)}n.exports=u,n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(21),o={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(a,l){var u=a.data,c=l.data,d=a.size.x,f=a.size.y,p=i.a.create(a,l);return{rasterize:function(m){var y,b,v,w,x,R,P,A,O,S,E,I,D=[],$=0;for(I=0;I<400;I++)D[I]=0;for(D[0]=u[0],O=null,R=1;R<f-1;R++)for(w=0,b=D[0],x=1;x<d-1;x++)if(c[E=R*d+x]===0)if((y=u[E])!==b){if(w===0)D[v=$+1]=y,b=y,(P=p.contourTracing(R,x,v,y,o.DIR.OUTSIDE_EDGE))!==null&&($++,w=v,(A=o.createContour2D()).dir=o.CONTOUR_DIR.CW_DIR,A.index=w,A.firstVertex=P,A.nextpeer=O,A.insideContours=null,O!==null&&(O.prevpeer=A),O=A);else if((P=p.contourTracing(R,x,o.DIR.INSIDE_EDGE,y,w))!==null){for((A=o.createContour2D()).firstVertex=P,A.insideContours=null,A.dir=m===0?o.CONTOUR_DIR.CCW_DIR:o.CONTOUR_DIR.CW_DIR,A.index=m,S=O;S!==null&&S.index!==w;)S=S.nextpeer;S!==null&&(A.nextpeer=S.insideContours,S.insideContours!==null&&(S.insideContours.prevpeer=A),S.insideContours=A)}}else c[E]=w;else c[E]===o.DIR.OUTSIDE_EDGE||c[E]===o.DIR.INSIDE_EDGE?(w=0,b=c[E]===o.DIR.INSIDE_EDGE?u[E]:D[0]):b=D[w=c[E]];for(S=O;S!==null;)S.index=m,S=S.nextpeer;return{cc:O,count:$}},debug:{drawContour:function(m,y){var b,v,w,x=m.getContext("2d"),R=y;for(x.strokeStyle="red",x.fillStyle="red",x.lineWidth=1,b=R!==null?R.insideContours:null;R!==null;){switch(b!==null?(v=b,b=b.nextpeer):(v=R,b=(R=R.nextpeer)!==null?R.insideContours:null),v.dir){case o.CONTOUR_DIR.CW_DIR:x.strokeStyle="red";break;case o.CONTOUR_DIR.CCW_DIR:x.strokeStyle="blue";break;case o.CONTOUR_DIR.UNKNOWN_DIR:x.strokeStyle="green"}w=v.firstVertex,x.beginPath(),x.moveTo(w.x,w.y);do w=w.next,x.lineTo(w.x,w.y);while(w!==v.firstVertex);x.stroke()}}}}}};r.a=o},function(n,r,s){/* @preserve ASM BEGIN *//* @preserve ASM END */r.a=function(i,o,a){var l=new i.Uint8Array(a),u=o.size|0,c=i.Math.imul;function d(R,P){R|=0,P|=0;var A=0,O=0,S=0,E=0,I=0,D=0,$=0,H=0;for(A=1;(A|0)<(u-1|0);A=A+1|0)for(H=H+u|0,O=1;(O|0)<(u-1|0);O=O+1|0)E=H-u|0,I=H+u|0,D=O-1|0,$=O+1|0,S=(l[R+E+D|0]|0)+(l[R+E+$|0]|0)+(l[R+H+O|0]|0)+(l[R+I+D|0]|0)+(l[R+I+$|0]|0)|0,(S|0)==5?l[P+H+O|0]=1:l[P+H+O|0]=0}function f(R,P,A){R|=0,P|=0,A|=0;var O=0;for(O=c(u,u)|0;(O|0)>0;)O=O-1|0,l[A+O|0]=(l[R+O|0]|0)-(l[P+O|0]|0)|0}function p(R,P,A){R|=0,P|=0,A|=0;var O=0;for(O=c(u,u)|0;(O|0)>0;)O=O-1|0,l[A+O|0]=l[R+O|0]|0|(l[P+O|0]|0)|0}function m(R){R|=0;var P=0,A=0;for(A=c(u,u)|0;(A|0)>0;)A=A-1|0,P=(P|0)+(l[R+A|0]|0)|0;return P|0}function y(R,P){R|=0,P|=0;var A=0;for(A=c(u,u)|0;(A|0)>0;)A=A-1|0,l[R+A|0]=P}function b(R,P){R|=0,P|=0;var A=0,O=0,S=0,E=0,I=0,D=0,$=0,H=0;for(A=1;(A|0)<(u-1|0);A=A+1|0)for(H=H+u|0,O=1;(O|0)<(u-1|0);O=O+1|0)E=H-u|0,I=H+u|0,D=O-1|0,$=O+1|0,S=(l[R+E+D|0]|0)+(l[R+E+$|0]|0)+(l[R+H+O|0]|0)+(l[R+I+D|0]|0)+(l[R+I+$|0]|0)|0,(S|0)>0?l[P+H+O|0]=1:l[P+H+O|0]=0}function v(R,P){R|=0,P|=0;var A=0;for(A=c(u,u)|0;(A|0)>0;)A=A-1|0,l[P+A|0]=l[R+A|0]|0}function w(R){R|=0;var P=0,A=0;for(P=0;(P|0)<(u-1|0);P=P+1|0)l[R+P|0]=0,l[R+A|0]=0,A=A+u-1|0,l[R+A|0]=0,A=A+1|0;for(P=0;(P|0)<(u|0);P=P+1|0)l[R+A|0]=0,A=A+1|0}function x(){var R=0,P=0,A=0,O=0,S=0,E=0;P=c(u,u)|0,A=P+P|0,O=A+P|0,y(O,0),w(R);do d(R,P),b(P,A),f(R,A,A),p(O,A,O),v(P,R),S=m(R)|0,E=(S|0)==0|0;while(!E)}return{skeletonize:x}}},,,,,,,function(n,r,s){n.exports=s(168)},function(n,r,s){var i=s(75),o=s(47),a=s(105),l=s(107),u=s(15),c=s(55),d=s(53);n.exports=function f(p,m,y,b,v){p!==m&&a(m,function(w,x){if(v||(v=new i),u(w))l(p,m,x,y,f,b,v);else{var R=b?b(d(p,x),w,x+"",p,m,v):void 0;R===void 0&&(R=w),o(p,x,R)}},c)}},function(n,r,s){var i=s(24),o=s(81),a=s(82),l=s(83),u=s(84),c=s(85);function d(f){var p=this.__data__=new i(f);this.size=p.size}d.prototype.clear=o,d.prototype.delete=a,d.prototype.get=l,d.prototype.has=u,d.prototype.set=c,n.exports=d},function(n,r){n.exports=function(){this.__data__=[],this.size=0}},function(n,r,s){var i=s(25),o=Array.prototype.splice;n.exports=function(a){var l=this.__data__,u=i(l,a);return!(u<0)&&(u==l.length-1?l.pop():o.call(l,u,1),--this.size,!0)}},function(n,r,s){var i=s(25);n.exports=function(o){var a=this.__data__,l=i(a,o);return l<0?void 0:a[l][1]}},function(n,r,s){var i=s(25);n.exports=function(o){return i(this.__data__,o)>-1}},function(n,r,s){var i=s(25);n.exports=function(o,a){var l=this.__data__,u=i(l,o);return u<0?(++this.size,l.push([o,a])):l[u][1]=a,this}},function(n,r,s){var i=s(24);n.exports=function(){this.__data__=new i,this.size=0}},function(n,r){n.exports=function(s){var i=this.__data__,o=i.delete(s);return this.size=i.size,o}},function(n,r){n.exports=function(s){return this.__data__.get(s)}},function(n,r){n.exports=function(s){return this.__data__.has(s)}},function(n,r,s){var i=s(24),o=s(43),a=s(46);n.exports=function(l,u){var c=this.__data__;if(c instanceof i){var d=c.__data__;if(!o||d.length<199)return d.push([l,u]),this.size=++c.size,this;c=this.__data__=new a(d)}return c.set(l,u),this.size=c.size,this}},function(n,r,s){var i=s(35),o=s(89),a=s(15),l=s(91),u=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,f=c.toString,p=d.hasOwnProperty,m=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(y){return!(!a(y)||o(y))&&(i(y)?m:u).test(l(y))}},function(n,r,s){var i=s(27),o=Object.prototype,a=o.hasOwnProperty,l=o.toString,u=i?i.toStringTag:void 0;n.exports=function(c){var d=a.call(c,u),f=c[u];try{c[u]=void 0;var p=!0}catch{}var m=l.call(c);return p&&(d?c[u]=f:delete c[u]),m}},function(n,r){var s=Object.prototype.toString;n.exports=function(i){return s.call(i)}},function(n,r,s){var i,o=s(90),a=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";n.exports=function(l){return!!a&&a in l}},function(n,r,s){var i=s(19)["__core-js_shared__"];n.exports=i},function(n,r){var s=Function.prototype.toString;n.exports=function(i){if(i!=null){try{return s.call(i)}catch{}try{return i+""}catch{}}return""}},function(n,r){n.exports=function(s,i){return s==null?void 0:s[i]}},function(n,r,s){var i=s(94),o=s(24),a=s(43);n.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}},function(n,r,s){var i=s(95),o=s(96),a=s(97),l=s(98),u=s(99);function c(d){var f=-1,p=d==null?0:d.length;for(this.clear();++f<p;){var m=d[f];this.set(m[0],m[1])}}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=l,c.prototype.set=u,n.exports=c},function(n,r,s){var i=s(28);n.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(n,r){n.exports=function(s){var i=this.has(s)&&delete this.__data__[s];return this.size-=i?1:0,i}},function(n,r,s){var i=s(28),o=Object.prototype.hasOwnProperty;n.exports=function(a){var l=this.__data__;if(i){var u=l[a];return u==="__lodash_hash_undefined__"?void 0:u}return o.call(l,a)?l[a]:void 0}},function(n,r,s){var i=s(28),o=Object.prototype.hasOwnProperty;n.exports=function(a){var l=this.__data__;return i?l[a]!==void 0:o.call(l,a)}},function(n,r,s){var i=s(28);n.exports=function(o,a){var l=this.__data__;return this.size+=this.has(o)?0:1,l[o]=i&&a===void 0?"__lodash_hash_undefined__":a,this}},function(n,r,s){var i=s(29);n.exports=function(o){var a=i(this,o).delete(o);return this.size-=a?1:0,a}},function(n,r){n.exports=function(s){var i=typeof s;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?s!=="__proto__":s===null}},function(n,r,s){var i=s(29);n.exports=function(o){return i(this,o).get(o)}},function(n,r,s){var i=s(29);n.exports=function(o){return i(this,o).has(o)}},function(n,r,s){var i=s(29);n.exports=function(o,a){var l=i(this,o),u=l.size;return l.set(o,a),this.size+=l.size==u?0:1,this}},function(n,r,s){var i=s(106)();n.exports=i},function(n,r){n.exports=function(s){return function(i,o,a){for(var l=-1,u=Object(i),c=a(i),d=c.length;d--;){var f=c[s?d:++l];if(o(u[f],f,u)===!1)break}return i}}},function(n,r,s){var i=s(47),o=s(108),a=s(109),l=s(112),u=s(113),c=s(30),d=s(16),f=s(117),p=s(51),m=s(35),y=s(15),b=s(119),v=s(52),w=s(53),x=s(123);n.exports=function(R,P,A,O,S,E,I){var D=w(R,A),$=w(P,A),H=I.get($);if(H)i(R,A,H);else{var Q=E?E(D,$,A+"",R,P,I):void 0,re=Q===void 0;if(re){var oe=d($),ee=!oe&&p($),Y=!oe&&!ee&&v($);Q=$,oe||ee||Y?d(D)?Q=D:f(D)?Q=l(D):ee?(re=!1,Q=o($,!0)):Y?(re=!1,Q=a($,!0)):Q=[]:b($)||c($)?(Q=D,c(D)?Q=x(D):y(D)&&!m(D)||(Q=u($))):re=!1}re&&(I.set($,Q),S(Q,$,O,E,I),I.delete($)),i(R,A,Q)}}},function(n,r,s){(function(i){var o=s(19),a=r&&!r.nodeType&&r,l=a&&typeof i=="object"&&i&&!i.nodeType&&i,u=l&&l.exports===a?o.Buffer:void 0,c=u?u.allocUnsafe:void 0;i.exports=function(d,f){if(f)return d.slice();var p=d.length,m=c?c(p):new d.constructor(p);return d.copy(m),m}}).call(this,s(37)(n))},function(n,r,s){var i=s(110);n.exports=function(o,a){var l=a?i(o.buffer):o.buffer;return new o.constructor(l,o.byteOffset,o.length)}},function(n,r,s){var i=s(111);n.exports=function(o){var a=new o.constructor(o.byteLength);return new i(a).set(new i(o)),a}},function(n,r,s){var i=s(19).Uint8Array;n.exports=i},function(n,r){n.exports=function(s,i){var o=-1,a=s.length;for(i||(i=Array(a));++o<a;)i[o]=s[o];return i}},function(n,r,s){var i=s(114),o=s(49),a=s(50);n.exports=function(l){return typeof l.constructor!="function"||a(l)?{}:i(o(l))}},function(n,r,s){var i=s(15),o=Object.create,a=function(){function l(){}return function(u){if(!i(u))return{};if(o)return o(u);l.prototype=u;var c=new l;return l.prototype=void 0,c}}();n.exports=a},function(n,r){n.exports=function(s,i){return function(o){return s(i(o))}}},function(n,r,s){var i=s(22),o=s(20);n.exports=function(a){return o(a)&&i(a)=="[object Arguments]"}},function(n,r,s){var i=s(38),o=s(20);n.exports=function(a){return o(a)&&i(a)}},function(n,r){n.exports=function(){return!1}},function(n,r,s){var i=s(22),o=s(49),a=s(20),l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=c.call(Object);n.exports=function(p){if(!a(p)||i(p)!="[object Object]")return!1;var m=o(p);if(m===null)return!0;var y=d.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&c.call(y)==f}},function(n,r,s){var i=s(22),o=s(39),a=s(20),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,n.exports=function(u){return a(u)&&o(u.length)&&!!l[i(u)]}},function(n,r){n.exports=function(s){return function(i){return s(i)}}},function(n,r,s){(function(i){var o=s(44),a=r&&!r.nodeType&&r,l=a&&typeof i=="object"&&i&&!i.nodeType&&i,u=l&&l.exports===a&&o.process,c=function(){try{var d=l&&l.require&&l.require("util").types;return d||u&&u.binding&&u.binding("util")}catch{}}();i.exports=c}).call(this,s(37)(n))},function(n,r,s){var i=s(124),o=s(55);n.exports=function(a){return i(a,o(a))}},function(n,r,s){var i=s(54),o=s(36);n.exports=function(a,l,u,c){var d=!u;u||(u={});for(var f=-1,p=l.length;++f<p;){var m=l[f],y=c?c(u[m],a[m],m,u,a):void 0;y===void 0&&(y=a[m]),d?o(u,m,y):i(u,m,y)}return u}},function(n,r,s){var i=s(126),o=s(30),a=s(16),l=s(51),u=s(31),c=s(52),d=Object.prototype.hasOwnProperty;n.exports=function(f,p){var m=a(f),y=!m&&o(f),b=!m&&!y&&l(f),v=!m&&!y&&!b&&c(f),w=m||y||b||v,x=w?i(f.length,String):[],R=x.length;for(var P in f)!p&&!d.call(f,P)||w&&(P=="length"||b&&(P=="offset"||P=="parent")||v&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||u(P,R))||x.push(P);return x}},function(n,r){n.exports=function(s,i){for(var o=-1,a=Array(s);++o<s;)a[o]=i(o);return a}},function(n,r,s){var i=s(15),o=s(50),a=s(128),l=Object.prototype.hasOwnProperty;n.exports=function(u){if(!i(u))return a(u);var c=o(u),d=[];for(var f in u)(f!="constructor"||!c&&l.call(u,f))&&d.push(f);return d}},function(n,r){n.exports=function(s){var i=[];if(s!=null)for(var o in Object(s))i.push(o);return i}},function(n,r,s){var i=s(130),o=s(135);n.exports=function(a){return i(function(l,u){var c=-1,d=u.length,f=d>1?u[d-1]:void 0,p=d>2?u[2]:void 0;for(f=a.length>3&&typeof f=="function"?(d--,f):void 0,p&&o(u[0],u[1],p)&&(f=d<3?void 0:f,d=1),l=Object(l);++c<d;){var m=u[c];m&&a(l,m,c,f)}return l})}},function(n,r,s){var i=s(56),o=s(57),a=s(58);n.exports=function(l,u){return a(o(l,u,i),l+"")}},function(n,r){n.exports=function(s,i,o){switch(o.length){case 0:return s.call(i);case 1:return s.call(i,o[0]);case 2:return s.call(i,o[0],o[1]);case 3:return s.call(i,o[0],o[1],o[2])}return s.apply(i,o)}},function(n,r,s){var i=s(133),o=s(48),a=s(56),l=o?function(u,c){return o(u,"toString",{configurable:!0,enumerable:!1,value:i(c),writable:!0})}:a;n.exports=l},function(n,r){n.exports=function(s){return function(){return s}}},function(n,r){var s=Date.now;n.exports=function(i){var o=0,a=0;return function(){var l=s(),u=16-(l-a);if(a=l,u>0){if(++o>=800)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}},function(n,r,s){var i=s(26),o=s(38),a=s(31),l=s(15);n.exports=function(u,c,d){if(!l(d))return!1;var f=typeof c;return!!(f=="number"?o(d)&&a(c,d.length):f=="string"&&c in d)&&i(d[c],u)}},function(n,r){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(s){window.setTimeout(s,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(s,i){var o=65535&s,a=65535&i;return o*a+((s>>>16&65535)*a+o*(i>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(s){if(s===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(s),o=1;o<arguments.length;o++){var a=arguments[o];if(a!==null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i})},function(n,r){n.exports=function(s){if(Array.isArray(s))return s},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){n.exports=function(s,i){var o=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(o!=null){var a,l,u,c,d=[],f=!0,p=!1;try{if(u=(o=o.call(s)).next,i===0){if(Object(o)!==o)return;f=!1}else for(;!(f=(a=u.call(o)).done)&&(d.push(a.value),d.length!==i);f=!0);}catch(m){p=!0,l=m}finally{try{if(!f&&o.return!=null&&(c=o.return(),Object(c)!==c))return}finally{if(p)throw l}}return d}},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(13).default;n.exports=function(o,a){if(i(o)!=="object"||o===null)return o;var l=o[Symbol.toPrimitive];if(l!==void 0){var u=l.call(o,a||"default");if(i(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(13).default;function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */n.exports=o=function(){return l},n.exports.__esModule=!0,n.exports.default=n.exports;var a,l={},u=Object.prototype,c=u.hasOwnProperty,d=Object.defineProperty||function(q,G,ne){q[G]=ne.value},f=typeof Symbol=="function"?Symbol:{},p=f.iterator||"@@iterator",m=f.asyncIterator||"@@asyncIterator",y=f.toStringTag||"@@toStringTag";function b(q,G,ne){return Object.defineProperty(q,G,{value:ne,enumerable:!0,configurable:!0,writable:!0}),q[G]}try{b({},"")}catch{b=function(G,ne,ue){return G[ne]=ue}}function v(q,G,ne,ue){var ce=G&&G.prototype instanceof O?G:O,we=Object.create(ce.prototype),ve=new X(ue||[]);return d(we,"_invoke",{value:oe(q,ne,ve)}),we}function w(q,G,ne){try{return{type:"normal",arg:q.call(G,ne)}}catch(ue){return{type:"throw",arg:ue}}}l.wrap=v;var x="suspendedStart",R="executing",P="completed",A={};function O(){}function S(){}function E(){}var I={};b(I,p,function(){return this});var D=Object.getPrototypeOf,$=D&&D(D(te([])));$&&$!==u&&c.call($,p)&&(I=$);var H=E.prototype=O.prototype=Object.create(I);function Q(q){["next","throw","return"].forEach(function(G){b(q,G,function(ne){return this._invoke(G,ne)})})}function re(q,G){function ne(ce,we,ve,me){var be=w(q[ce],q,we);if(be.type!=="throw"){var ye=be.arg,je=ye.value;return je&&i(je)=="object"&&c.call(je,"__await")?G.resolve(je.__await).then(function(Me){ne("next",Me,ve,me)},function(Me){ne("throw",Me,ve,me)}):G.resolve(je).then(function(Me){ye.value=Me,ve(ye)},function(Me){return ne("throw",Me,ve,me)})}me(be.arg)}var ue;d(this,"_invoke",{value:function(ce,we){function ve(){return new G(function(me,be){ne(ce,we,me,be)})}return ue=ue?ue.then(ve,ve):ve()}})}function oe(q,G,ne){var ue=x;return function(ce,we){if(ue===R)throw new Error("Generator is already running");if(ue===P){if(ce==="throw")throw we;return{value:a,done:!0}}for(ne.method=ce,ne.arg=we;;){var ve=ne.delegate;if(ve){var me=ee(ve,ne);if(me){if(me===A)continue;return me}}if(ne.method==="next")ne.sent=ne._sent=ne.arg;else if(ne.method==="throw"){if(ue===x)throw ue=P,ne.arg;ne.dispatchException(ne.arg)}else ne.method==="return"&&ne.abrupt("return",ne.arg);ue=R;var be=w(q,G,ne);if(be.type==="normal"){if(ue=ne.done?P:"suspendedYield",be.arg===A)continue;return{value:be.arg,done:ne.done}}be.type==="throw"&&(ue=P,ne.method="throw",ne.arg=be.arg)}}}function ee(q,G){var ne=G.method,ue=q.iterator[ne];if(ue===a)return G.delegate=null,ne==="throw"&&q.iterator.return&&(G.method="return",G.arg=a,ee(q,G),G.method==="throw")||ne!=="return"&&(G.method="throw",G.arg=new TypeError("The iterator does not provide a '"+ne+"' method")),A;var ce=w(ue,q.iterator,G.arg);if(ce.type==="throw")return G.method="throw",G.arg=ce.arg,G.delegate=null,A;var we=ce.arg;return we?we.done?(G[q.resultName]=we.value,G.next=q.nextLoc,G.method!=="return"&&(G.method="next",G.arg=a),G.delegate=null,A):we:(G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,A)}function Y(q){var G={tryLoc:q[0]};1 in q&&(G.catchLoc=q[1]),2 in q&&(G.finallyLoc=q[2],G.afterLoc=q[3]),this.tryEntries.push(G)}function K(q){var G=q.completion||{};G.type="normal",delete G.arg,q.completion=G}function X(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(Y,this),this.reset(!0)}function te(q){if(q||q===""){var G=q[p];if(G)return G.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var ne=-1,ue=function ce(){for(;++ne<q.length;)if(c.call(q,ne))return ce.value=q[ne],ce.done=!1,ce;return ce.value=a,ce.done=!0,ce};return ue.next=ue}}throw new TypeError(i(q)+" is not iterable")}return S.prototype=E,d(H,"constructor",{value:E,configurable:!0}),d(E,"constructor",{value:S,configurable:!0}),S.displayName=b(E,y,"GeneratorFunction"),l.isGeneratorFunction=function(q){var G=typeof q=="function"&&q.constructor;return!!G&&(G===S||(G.displayName||G.name)==="GeneratorFunction")},l.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,E):(q.__proto__=E,b(q,y,"GeneratorFunction")),q.prototype=Object.create(H),q},l.awrap=function(q){return{__await:q}},Q(re.prototype),b(re.prototype,m,function(){return this}),l.AsyncIterator=re,l.async=function(q,G,ne,ue,ce){ce===void 0&&(ce=Promise);var we=new re(v(q,G,ne,ue),ce);return l.isGeneratorFunction(G)?we:we.next().then(function(ve){return ve.done?ve.value:we.next()})},Q(H),b(H,y,"Generator"),b(H,p,function(){return this}),b(H,"toString",function(){return"[object Generator]"}),l.keys=function(q){var G=Object(q),ne=[];for(var ue in G)ne.push(ue);return ne.reverse(),function ce(){for(;ne.length;){var we=ne.pop();if(we in G)return ce.value=we,ce.done=!1,ce}return ce.done=!0,ce}},l.values=te,X.prototype={constructor:X,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(K),!q)for(var G in this)G.charAt(0)==="t"&&c.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=a)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var G=this;function ne(be,ye){return we.type="throw",we.arg=q,G.next=be,ye&&(G.method="next",G.arg=a),!!ye}for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ce=this.tryEntries[ue],we=ce.completion;if(ce.tryLoc==="root")return ne("end");if(ce.tryLoc<=this.prev){var ve=c.call(ce,"catchLoc"),me=c.call(ce,"finallyLoc");if(ve&&me){if(this.prev<ce.catchLoc)return ne(ce.catchLoc,!0);if(this.prev<ce.finallyLoc)return ne(ce.finallyLoc)}else if(ve){if(this.prev<ce.catchLoc)return ne(ce.catchLoc,!0)}else{if(!me)throw new Error("try statement without catch or finally");if(this.prev<ce.finallyLoc)return ne(ce.finallyLoc)}}}},abrupt:function(q,G){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var ue=this.tryEntries[ne];if(ue.tryLoc<=this.prev&&c.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var ce=ue;break}}ce&&(q==="break"||q==="continue")&&ce.tryLoc<=G&&G<=ce.finallyLoc&&(ce=null);var we=ce?ce.completion:{};return we.type=q,we.arg=G,ce?(this.method="next",this.next=ce.finallyLoc,A):this.complete(we)},complete:function(q,G){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&G&&(this.next=G),A},finish:function(q){for(var G=this.tryEntries.length-1;G>=0;--G){var ne=this.tryEntries[G];if(ne.finallyLoc===q)return this.complete(ne.completion,ne.afterLoc),K(ne),A}},catch:function(q){for(var G=this.tryEntries.length-1;G>=0;--G){var ne=this.tryEntries[G];if(ne.tryLoc===q){var ue=ne.completion;if(ue.type==="throw"){var ce=ue.arg;K(ne)}return ce}}throw new Error("illegal catch attempt")},delegateYield:function(q,G,ne){return this.delegate={iterator:te(q),resultName:G,nextLoc:ne},this.method==="next"&&(this.arg=a),A}},l}n.exports=o,n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(2);n.exports=function(o,a){for(;!Object.prototype.hasOwnProperty.call(o,a)&&(o=i(o))!==null;);return o},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(60);n.exports=function(o){if(Array.isArray(o))return i(o)},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){n.exports=function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(147),o=s(157);n.exports=function(a,l){return i(a,l,function(u,c){return o(a,c)})}},function(n,r,s){var i=s(148),o=s(156),a=s(32);n.exports=function(l,u,c){for(var d=-1,f=u.length,p={};++d<f;){var m=u[d],y=i(l,m);c(y,m)&&o(p,a(m,l),y)}return p}},function(n,r,s){var i=s(32),o=s(42);n.exports=function(a,l){for(var u=0,c=(l=i(l,a)).length;a!=null&&u<c;)a=a[o(l[u++])];return u&&u==c?a:void 0}},function(n,r,s){var i=s(16),o=s(41),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;n.exports=function(u,c){if(i(u))return!1;var d=typeof u;return!(d!="number"&&d!="symbol"&&d!="boolean"&&u!=null&&!o(u))||l.test(u)||!a.test(u)||c!=null&&u in Object(c)}},function(n,r,s){var i=s(151),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,l=i(function(u){var c=[];return u.charCodeAt(0)===46&&c.push(""),u.replace(o,function(d,f,p,m){c.push(p?m.replace(a,"$1"):f||d)}),c});n.exports=l},function(n,r,s){var i=s(152);n.exports=function(o){var a=i(o,function(u){return l.size===500&&l.clear(),u}),l=a.cache;return a}},function(n,r,s){var i=s(46);function o(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new TypeError("Expected a function");var u=function(){var c=arguments,d=l?l.apply(this,c):c[0],f=u.cache;if(f.has(d))return f.get(d);var p=a.apply(this,c);return u.cache=f.set(d,p)||f,p};return u.cache=new(o.Cache||i),u}o.Cache=i,n.exports=o},function(n,r,s){var i=s(154);n.exports=function(o){return o==null?"":i(o)}},function(n,r,s){var i=s(27),o=s(155),a=s(16),l=s(41),u=i?i.prototype:void 0,c=u?u.toString:void 0;n.exports=function d(f){if(typeof f=="string")return f;if(a(f))return o(f,d)+"";if(l(f))return c?c.call(f):"";var p=f+"";return p=="0"&&1/f==-1/0?"-0":p}},function(n,r){n.exports=function(s,i){for(var o=-1,a=s==null?0:s.length,l=Array(a);++o<a;)l[o]=i(s[o],o,s);return l}},function(n,r,s){var i=s(54),o=s(32),a=s(31),l=s(15),u=s(42);n.exports=function(c,d,f,p){if(!l(c))return c;for(var m=-1,y=(d=o(d,c)).length,b=y-1,v=c;v!=null&&++m<y;){var w=u(d[m]),x=f;if(w==="__proto__"||w==="constructor"||w==="prototype")return c;if(m!=b){var R=v[w];(x=p?p(R,w,v):void 0)===void 0&&(x=l(R)?R:a(d[m+1])?[]:{})}i(v,w,x),v=v[w]}return c}},function(n,r,s){var i=s(158),o=s(159);n.exports=function(a,l){return a!=null&&o(a,l,i)}},function(n,r){n.exports=function(s,i){return s!=null&&i in Object(s)}},function(n,r,s){var i=s(32),o=s(30),a=s(16),l=s(31),u=s(39),c=s(42);n.exports=function(d,f,p){for(var m=-1,y=(f=i(f,d)).length,b=!1;++m<y;){var v=c(f[m]);if(!(b=d!=null&&p(d,v)))break;d=d[v]}return b||++m!=y?b:!!(y=d==null?0:d.length)&&u(y)&&l(v,y)&&(a(d)||o(d))}},function(n,r,s){var i=s(161),o=s(57),a=s(58);n.exports=function(l){return a(o(l,void 0,i),l+"")}},function(n,r,s){var i=s(162);n.exports=function(o){return o!=null&&o.length?i(o,1):[]}},function(n,r,s){var i=s(163),o=s(164);n.exports=function a(l,u,c,d,f){var p=-1,m=l.length;for(c||(c=o),f||(f=[]);++p<m;){var y=l[p];u>0&&c(y)?u>1?a(y,u-1,c,d,f):i(f,y):d||(f[f.length]=y)}return f}},function(n,r){n.exports=function(s,i){for(var o=-1,a=i.length,l=s.length;++o<a;)s[l+o]=i[o];return s}},function(n,r,s){var i=s(27),o=s(30),a=s(16),l=i?i.isConcatSpreadable:void 0;n.exports=function(u){return a(u)||o(u)||!!(l&&u&&u[l])}},function(n,r){n.exports=function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){var i=s(40),o=s(167);function a(l,u,c){return o()?(n.exports=a=Reflect.construct.bind(),n.exports.__esModule=!0,n.exports.default=n.exports):(n.exports=a=function(d,f,p){var m=[null];m.push.apply(m,f);var y=new(Function.bind.apply(d,m));return p&&i(y,p.prototype),y},n.exports.__esModule=!0,n.exports.default=n.exports),a.apply(null,arguments)}n.exports=a,n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r){n.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},n.exports.__esModule=!0,n.exports.default=n.exports},function(n,r,s){s.r(r),s.d(r,"BarcodeDecoder",function(){return uo}),s.d(r,"Readers",function(){return i}),s.d(r,"CameraAccess",function(){return ai}),s.d(r,"ImageDebug",function(){return y.a}),s.d(r,"ImageWrapper",function(){return c.a}),s.d(r,"ResultCollector",function(){return cl});var i={};s.r(i),s.d(i,"BarcodeReader",function(){return oe}),s.d(i,"TwoOfFiveReader",function(){return q}),s.d(i,"NewCodabarReader",function(){return we}),s.d(i,"Code128Reader",function(){return me}),s.d(i,"Code32Reader",function(){return ln}),s.d(i,"Code39Reader",function(){return bt}),s.d(i,"Code39VINReader",function(){return dt}),s.d(i,"Code93Reader",function(){return Kt}),s.d(i,"EAN2Reader",function(){return Xa}),s.d(i,"EAN5Reader",function(){return Ja}),s.d(i,"EAN8Reader",function(){return Qa}),s.d(i,"EANReader",function(){return tr}),s.d(i,"I2of5Reader",function(){return Za}),s.d(i,"UPCEReader",function(){return tl}),s.d(i,"UPCReader",function(){return nl});var o=s(13),a=s.n(o),l=s(18),u=s.n(l),c=(s(136),s(11)),d=s(12),f=s.n(d),p=s(8),m=s.n(p),y=s(17),b=s(3),v=s.n(b),w=s(4),x=s.n(w),R=s(1),P=s.n(R),A=s(7),O=s.n(A),S=s(6),E=s.n(S),I=s(2),D=s.n(I),$=s(0),H=s.n($),Q=s(9),re=function(L){return L[L.Forward=1]="Forward",L[L.Reverse=-1]="Reverse",L}({}),oe=function(){function L(V,T){v()(this,L),H()(this,"_row",[]),H()(this,"config",{}),H()(this,"supplements",[]),H()(this,"SINGLE_CODE_ERROR",0),H()(this,"FORMAT","unknown"),H()(this,"CONFIG_KEYS",{}),this._row=[],this.config=V||{},T&&(this.supplements=T)}return x()(L,[{key:"_nextUnset",value:function(V){for(var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=T;g<V.length;g++)if(!V[g])return g;return V.length}},{key:"_matchPattern",value:function(V,T){for(var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,_=0,k=0,j=0,F=0,z=0,B=0,W=0,J=0;J<V.length;J++)j+=V[J],F+=T[J];if(j<F)return Number.MAX_VALUE;g*=z=j/F;for(var fe=0;fe<V.length;fe++){if(B=V[fe],W=T[fe]*z,(k=Math.abs(B-W)/W)>g)return Number.MAX_VALUE;_+=k}return _/F}},{key:"_nextSet",value:function(V){for(var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=T;g<V.length;g++)if(V[g])return g;return V.length}},{key:"_correctBars",value:function(V,T,g){for(var _=g.length,k=0;_--;)(k=V[g[_]]*(1-(1-T)/2))>1&&(V[g[_]]=k)}},{key:"decodePattern",value:function(V){this._row=V;var T=this.decode();return T===null?(this._row.reverse(),(T=this.decode())&&(T.direction=re.Reverse,T.start=this._row.length-T.start,T.end=this._row.length-T.end)):T.direction=re.Forward,T&&(T.format=this.FORMAT),T}},{key:"_matchRange",value:function(V,T,g){var _;for(_=V=V<0?0:V;_<T;_++)if(this._row[_]!==g)return!1;return!0}},{key:"_fillCounters",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,g=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=[],k=0;_[k]=0;for(var j=V;j<T;j++)this._row[j]^(g?1:0)?_[k]++:(_[++k]=1,g=!g);return _}},{key:"_toCounters",value:function(V,T){var g=T.length,_=this._row.length,k=!this._row[V],j=0;Q.a.init(T,0);for(var F=V;F<_;F++)if(this._row[F]^(k?1:0))T[j]++;else{if(++j===g)break;T[j]=1,k=!k}return T}},{key:"decodeImage",value:function(V){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),L}();function ee(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var Y=[3,1,3,1,1,1],K=[3,1,1,1,3],X=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],te=Y.reduce(function(L,V){return L+V},0),q=function(L){O()(T,L);var V=ee(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"barSpaceRatio",[1,1]),H()(P()(g),"FORMAT","2of5"),H()(P()(g),"SINGLE_CODE_ERROR",.78),H()(P()(g),"AVG_CODE_ERROR",.3),g}return x()(T,[{key:"_findPattern",value:function(g,_){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2],j=arguments.length>3&&arguments[3]!==void 0&&arguments[3],F=[],z=0,B={error:Number.MAX_VALUE,code:-1,start:0,end:0},W=0,J=0,fe=this.AVG_CODE_ERROR;_||(_=this._nextSet(this._row));for(var ae=0;ae<g.length;ae++)F[ae]=0;for(var pe=_;pe<this._row.length;pe++)if(this._row[pe]^(k?1:0))F[z]++;else{if(z===F.length-1){W=0;for(var _e=0;_e<F.length;_e++)W+=F[_e];if((J=this._matchPattern(F,g))<fe)return B.error=J,B.start=pe-W,B.end=pe,B;if(!j)return null;for(var Re=0;Re<F.length-2;Re++)F[Re]=F[Re+2];F[F.length-2]=0,F[F.length-1]=0,z--}else z++;F[z]=1,k=!k}return null}},{key:"_findStart",value:function(){for(var g=null,_=this._nextSet(this._row),k=1,j=0;!g;){if(!(g=this._findPattern(Y,_,!1,!0)))return null;if(k=Math.floor((g.end-g.start)/te),(j=g.start-5*k)>=0&&this._matchRange(j,g.start,0))return g;_=g.end,g=null}return g}},{key:"_verifyTrailingWhitespace",value:function(g){var _=g.end+(g.end-g.start)/2;return _<this._row.length&&this._matchRange(g.end,_,0)?g:null}},{key:"_findEnd",value:function(){this._row.reverse();var g=this._nextSet(this._row),_=this._findPattern(K,g,!1,!0);if(this._row.reverse(),_===null)return null;var k=_.start;return _.start=this._row.length-_.end,_.end=this._row.length-k,_!==null?this._verifyTrailingWhitespace(_):null}},{key:"_verifyCounterLength",value:function(g){return g.length%10==0}},{key:"_decodeCode",value:function(g){for(var _=this.AVG_CODE_ERROR,k={error:Number.MAX_VALUE,code:-1,start:0,end:0},j=0;j<X.length;j++){var F=this._matchPattern(g,X[j]);F<k.error&&(k.code=j,k.error=F)}return k.error<_?k:null}},{key:"_decodePayload",value:function(g,_,k){for(var j=0,F=g.length,z=[0,0,0,0,0],B=null;j<F;){for(var W=0;W<5;W++)z[W]=g[j]*this.barSpaceRatio[0],j+=2;if(!(B=this._decodeCode(z)))return null;_.push("".concat(B.code)),k.push(B)}return B}},{key:"decode",value:function(g,_){var k=this._findStart();if(!k)return null;var j=this._findEnd();if(!j)return null;var F=this._fillCounters(k.end,j.start,!1);if(!this._verifyCounterLength(F))return null;var z=[];z.push(k);var B=[];return this._decodePayload(F,B,z)?B.length<5?null:(z.push(j),{code:B.join(""),start:k.start,end:j.end,startInfo:k,decodedCodes:z,format:this.FORMAT}):null}}]),T}(oe);function G(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var ne=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ue=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],ce=[26,41,11,14],we=function(L){O()(T,L);var V=G(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"_counters",[]),H()(P()(g),"FORMAT","codabar"),g}return x()(T,[{key:"_computeAlternatingThreshold",value:function(g,_){for(var k=Number.MAX_VALUE,j=0,F=0,z=g;z<_;z+=2)(F=this._counters[z])>j&&(j=F),F<k&&(k=F);return(k+j)/2|0}},{key:"_toPattern",value:function(g){var _=g+7;if(_>this._counters.length)return-1;for(var k=this._computeAlternatingThreshold(g,_),j=this._computeAlternatingThreshold(g+1,_),F=64,z=0,B=0,W=0;W<7;W++)z=1&W?j:k,this._counters[g+W]>z&&(B|=F),F>>=1;return B}},{key:"_isStartEnd",value:function(g){for(var _=0;_<ce.length;_++)if(ce[_]===g)return!0;return!1}},{key:"_sumCounters",value:function(g,_){for(var k=0,j=g;j<_;j++)k+=this._counters[j];return k}},{key:"_findStart",value:function(){for(var g=this._nextUnset(this._row),_=1;_<this._counters.length;_++){var k=this._toPattern(_);if(k!==-1&&this._isStartEnd(k))return{start:g+=this._sumCounters(0,_),end:g+this._sumCounters(_,_+8),startCounter:_,endCounter:_+8}}return null}},{key:"_patternToChar",value:function(g){for(var _=0;_<ue.length;_++)if(ue[_]===g)return String.fromCharCode(ne[_]);return null}},{key:"_calculatePatternLength",value:function(g){for(var _=0,k=g;k<g+7;k++)_+=this._counters[k];return _}},{key:"_verifyWhitespace",value:function(g,_){return(g-1<=0||this._counters[g-1]>=this._calculatePatternLength(g)/2)&&(_+8>=this._counters.length||this._counters[_+7]>=this._calculatePatternLength(_)/2)}},{key:"_charToPattern",value:function(g){for(var _=g.charCodeAt(0),k=0;k<ne.length;k++)if(ne[k]===_)return ue[k];return 0}},{key:"_thresholdResultPattern",value:function(g,_){for(var k,j={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},F=_,z=0;z<g.length;z++){k=this._charToPattern(g[z]);for(var B=6;B>=0;B--){var W=(1&B)==2?j.bar:j.space,J=(1&k)==1?W.wide:W.narrow;J.size+=this._counters[F+B],J.counts++,k>>=1}F+=8}return["space","bar"].forEach(function(fe){var ae=j[fe];ae.wide.min=Math.floor((ae.narrow.size/ae.narrow.counts+ae.wide.size/ae.wide.counts)/2),ae.narrow.max=Math.ceil(ae.wide.min),ae.wide.max=Math.ceil((2*ae.wide.size+1.5)/ae.wide.counts)}),j}},{key:"_validateResult",value:function(g,_){for(var k,j=this._thresholdResultPattern(g,_),F=_,z=0;z<g.length;z++){k=this._charToPattern(g[z]);for(var B=6;B>=0;B--){var W=1&B?j.space:j.bar,J=(1&k)==1?W.wide:W.narrow,fe=this._counters[F+B];if(fe<J.min||fe>J.max)return!1;k>>=1}F+=8}return!0}},{key:"decode",value:function(g,_){if(this._counters=this._fillCounters(),!(_=this._findStart()))return null;var k,j=_.startCounter,F=[];do{if((k=this._toPattern(j))<0)return null;var z=this._patternToChar(k);if(z===null)return null;if(F.push(z),j+=8,F.length>1&&this._isStartEnd(k))break}while(j<this._counters.length);if(F.length-2<4||!this._isStartEnd(k)||!this._verifyWhitespace(_.startCounter,j-8)||!this._validateResult(F,_.startCounter))return null;j=j>this._counters.length?this._counters.length:j;var B=_.start+this._sumCounters(_.startCounter,j-8);return{code:F.join(""),start:_.start,end:B,startInfo:_,decodedCodes:F,format:this.FORMAT}}}]),T}(oe);function ve(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var me=function(L){O()(T,L);var V=ve(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"CODE_SHIFT",98),H()(P()(g),"CODE_C",99),H()(P()(g),"CODE_B",100),H()(P()(g),"CODE_A",101),H()(P()(g),"START_CODE_A",103),H()(P()(g),"START_CODE_B",104),H()(P()(g),"START_CODE_C",105),H()(P()(g),"STOP_CODE",106),H()(P()(g),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),H()(P()(g),"SINGLE_CODE_ERROR",.64),H()(P()(g),"AVG_CODE_ERROR",.3),H()(P()(g),"FORMAT","code_128"),H()(P()(g),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),g}return x()(T,[{key:"_decodeCode",value:function(g,_){for(var k={error:Number.MAX_VALUE,code:-1,start:g,end:g,correction:{bar:1,space:1}},j=[0,0,0,0,0,0],F=g,z=!this._row[F],B=0,W=F;W<this._row.length;W++)if(this._row[W]^(z?1:0))j[B]++;else{if(B===j.length-1){_&&this._correct(j,_);for(var J=0;J<this.CODE_PATTERN.length;J++){var fe=this._matchPattern(j,this.CODE_PATTERN[J]);fe<k.error&&(k.code=J,k.error=fe)}return k.end=W,k.code===-1||k.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[k.code]&&(k.correction.bar=this.calculateCorrection(this.CODE_PATTERN[k.code],j,this.MODULE_INDICES.bar),k.correction.space=this.calculateCorrection(this.CODE_PATTERN[k.code],j,this.MODULE_INDICES.space)),k)}j[++B]=1,z=!z}return null}},{key:"_correct",value:function(g,_){this._correctBars(g,_.bar,this.MODULE_INDICES.bar),this._correctBars(g,_.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var g=[0,0,0,0,0,0],_=this._nextSet(this._row),k={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},j=!1,F=0,z=_;z<this._row.length;z++)if(this._row[z]^(j?1:0))g[F]++;else{if(F===g.length-1){for(var B=g.reduce(function(ae,pe){return ae+pe},0),W=this.START_CODE_A;W<=this.START_CODE_C;W++){var J=this._matchPattern(g,this.CODE_PATTERN[W]);J<k.error&&(k.code=W,k.error=J)}if(k.error<this.AVG_CODE_ERROR)return k.start=z-B,k.end=z,k.correction.bar=this.calculateCorrection(this.CODE_PATTERN[k.code],g,this.MODULE_INDICES.bar),k.correction.space=this.calculateCorrection(this.CODE_PATTERN[k.code],g,this.MODULE_INDICES.space),k;for(var fe=0;fe<4;fe++)g[fe]=g[fe+2];g[4]=0,g[5]=0,F--}else F++;g[F]=1,j=!j}return null}},{key:"decode",value:function(g,_){var k=this,j=this._findStart();if(j===null)return null;var F={code:j.code,start:j.start,end:j.end,correction:{bar:j.correction.bar,space:j.correction.space}},z=[];z.push(F);for(var B=F.code,W=function(Ee){switch(Ee){case k.START_CODE_A:return k.CODE_A;case k.START_CODE_B:return k.CODE_B;case k.START_CODE_C:return k.CODE_C;default:return null}}(F.code),J=!1,fe=!1,ae=fe,pe=!0,_e=0,Re=[],$e=[];!J;){if(ae=fe,fe=!1,(F=this._decodeCode(F.end,F.correction))!==null)switch(F.code!==this.STOP_CODE&&(pe=!0),F.code!==this.STOP_CODE&&(Re.push(F.code),B+=++_e*F.code),z.push(F),W){case this.CODE_A:if(F.code<64)$e.push(String.fromCharCode(32+F.code));else if(F.code<96)$e.push(String.fromCharCode(F.code-64));else switch(F.code!==this.STOP_CODE&&(pe=!1),F.code){case this.CODE_SHIFT:fe=!0,W=this.CODE_B;break;case this.CODE_B:W=this.CODE_B;break;case this.CODE_C:W=this.CODE_C;break;case this.STOP_CODE:J=!0}break;case this.CODE_B:if(F.code<96)$e.push(String.fromCharCode(32+F.code));else switch(F.code!==this.STOP_CODE&&(pe=!1),F.code){case this.CODE_SHIFT:fe=!0,W=this.CODE_A;break;case this.CODE_A:W=this.CODE_A;break;case this.CODE_C:W=this.CODE_C;break;case this.STOP_CODE:J=!0}break;case this.CODE_C:if(F.code<100)$e.push(F.code<10?"0"+F.code:F.code);else switch(F.code!==this.STOP_CODE&&(pe=!1),F.code){case this.CODE_A:W=this.CODE_A;break;case this.CODE_B:W=this.CODE_B;break;case this.STOP_CODE:J=!0}}else J=!0;ae&&(W=W===this.CODE_A?this.CODE_B:this.CODE_A)}return F===null?null:(F.end=this._nextUnset(this._row,F.end),this._verifyTrailingWhitespace(F)?(B-=_e*Re[Re.length-1])%103!==Re[Re.length-1]?null:$e.length?(pe&&$e.splice($e.length-1,1),{code:$e.join(""),start:j.start,end:F.end,codeset:W,startInfo:j,decodedCodes:z,endInfo:F,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(g){var _;return(_=g.end+(g.end-g.start)/2)<this._row.length&&this._matchRange(g.end,_,0)?g:null}},{key:"calculateCorrection",value:function(g,_,k){for(var j=k.length,F=0,z=0;j--;)z+=g[k[j]],F+=_[k[j]];return z/F}}]),T}(oe),be=s(14),ye=s.n(be),je=s(33),Me=s.n(je);function Ue(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var We=new Uint16Array(Me()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(L){return L.charCodeAt(0)})),Ae=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),bt=function(L){O()(T,L);var V=Ue(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"FORMAT","code_39"),g}return x()(T,[{key:"_findStart",value:function(){for(var g=this._nextSet(this._row),_=g,k=new Uint16Array([0,0,0,0,0,0,0,0,0]),j=0,F=!1,z=g;z<this._row.length;z++)if(this._row[z]^(F?1:0))k[j]++;else{if(j===k.length-1){if(this._toPattern(k)===148){var B=Math.floor(Math.max(0,_-(z-_)/4));if(this._matchRange(B,_,0))return{start:_,end:z}}_+=k[0]+k[1];for(var W=0;W<7;W++)k[W]=k[W+2];k[7]=0,k[8]=0,j--}else j++;k[j]=1,F=!F}return null}},{key:"_toPattern",value:function(g){for(var _=g.length,k=0,j=_,F=0;j>3;){k=this._findNextWidth(g,k),j=0;for(var z=0,B=0;B<_;B++)g[B]>k&&(z|=1<<_-1-B,j++,F+=g[B]);if(j===3){for(var W=0;W<_&&j>0;W++)if(g[W]>k&&(j--,2*g[W]>=F))return-1;return z}}return-1}},{key:"_findNextWidth",value:function(g,_){for(var k=Number.MAX_VALUE,j=0;j<g.length;j++)g[j]<k&&g[j]>_&&(k=g[j]);return k}},{key:"_patternToChar",value:function(g){for(var _=0;_<Ae.length;_++)if(Ae[_]===g)return String.fromCharCode(We[_]);return null}},{key:"_verifyTrailingWhitespace",value:function(g,_,k){var j=Q.a.sum(k);return 3*(_-g-j)>=j}},{key:"decode",value:function(){var g=new Uint16Array([0,0,0,0,0,0,0,0,0]),_=[],k=this._findStart();if(!k)return null;var j,F,z=this._nextSet(this._row,k.end);do{g=this._toCounters(z,g);var B=this._toPattern(g);if(B<0||(j=this._patternToChar(B))===null)return null;_.push(j),F=z,z+=Q.a.sum(g),z=this._nextSet(this._row,z)}while(j!=="*");return _.pop(),_.length&&this._verifyTrailingWhitespace(F,z,g)?{code:_.join(""),start:k.start,end:z,startInfo:k,decodedCodes:_,format:this.FORMAT}:null}}]),T}(oe);function Pe(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var Ye=/[AEIO]/g,ln=function(L){O()(T,L);var V=Pe(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"FORMAT","code_32_reader"),g}return x()(T,[{key:"_decodeCode32",value:function(g){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(g))return null;for(var _=0,k=0;k<g.length;k++)_=32*_+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(g[k]);var j="".concat(_);return j.length<9&&(j=("000000000"+j).slice(-9)),"A"+j}},{key:"_checkChecksum",value:function(g){return!!g}},{key:"decode",value:function(){var g=ye()(D()(T.prototype),"decode",this).call(this);if(!g)return null;var _=g.code;if(!_||(_=_.replace(Ye,""),!this._checkChecksum(_)))return null;var k=this._decodeCode32(_);return k?(g.code=k,g):null}}]),T}(bt);function Jn(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var zt=/[IOQ]/g,Qn=/[A-Z0-9]{17}/,dt=function(L){O()(T,L);var V=Jn(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"FORMAT","code_39_vin"),g}return x()(T,[{key:"_checkChecksum",value:function(g){return!!g}},{key:"decode",value:function(){var g=ye()(D()(T.prototype),"decode",this).call(this);if(!g)return null;var _=g.code;return _&&(_=_.replace(zt,"")).match(Qn)&&this._checkChecksum(_)?(g.code=_,g):null}}]),T}(bt);function Bt(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var rt=new Uint16Array(Me()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(L){return L.charCodeAt(0)})),vt=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),Kt=function(L){O()(T,L);var V=Bt(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"FORMAT","code_93"),g}return x()(T,[{key:"_patternToChar",value:function(g){for(var _=0;_<vt.length;_++)if(vt[_]===g)return String.fromCharCode(rt[_]);return null}},{key:"_toPattern",value:function(g){for(var _=g.length,k=g.reduce(function(W,J){return W+J},0),j=0,F=0;F<_;F++){var z=Math.round(9*g[F]/k);if(z<1||z>4)return-1;if(1&F)j<<=z;else for(var B=0;B<z;B++)j=j<<1|1}return j}},{key:"_findStart",value:function(){for(var g=this._nextSet(this._row),_=g,k=new Uint16Array([0,0,0,0,0,0]),j=0,F=!1,z=g;z<this._row.length;z++)if(this._row[z]^(F?1:0))k[j]++;else{if(j===k.length-1){if(this._toPattern(k)===350){var B=Math.floor(Math.max(0,_-(z-_)/4));if(this._matchRange(B,_,0))return{start:_,end:z}}_+=k[0]+k[1];for(var W=0;W<4;W++)k[W]=k[W+2];k[4]=0,k[5]=0,j--}else j++;k[j]=1,F=!F}return null}},{key:"_verifyEnd",value:function(g,_){return!(g===_||!this._row[_])}},{key:"_decodeExtended",value:function(g){for(var _=g.length,k=[],j=0;j<_;j++){var F=g[j];if(F>="a"&&F<="d"){if(j>_-2)return null;var z=g[++j],B=z.charCodeAt(0),W=void 0;switch(F){case"a":if(!(z>="A"&&z<="Z"))return null;W=String.fromCharCode(B-64);break;case"b":if(z>="A"&&z<="E")W=String.fromCharCode(B-38);else if(z>="F"&&z<="J")W=String.fromCharCode(B-11);else if(z>="K"&&z<="O")W=String.fromCharCode(B+16);else if(z>="P"&&z<="S")W=String.fromCharCode(B+43);else{if(!(z>="T"&&z<="Z"))return null;W=""}break;case"c":if(z>="A"&&z<="O")W=String.fromCharCode(B-32);else{if(z!=="Z")return null;W=":"}break;case"d":if(!(z>="A"&&z<="Z"))return null;W=String.fromCharCode(B+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",W),null}k.push(W)}else k.push(F)}return k}},{key:"_matchCheckChar",value:function(g,_,k){var j=g.slice(0,_),F=j.length,z=j.reduce(function(B,W,J){return B+((-1*J+(F-1))%k+1)*rt.indexOf(W.charCodeAt(0))},0);return rt[z%47]===g[_].charCodeAt(0)}},{key:"_verifyChecksums",value:function(g){return this._matchCheckChar(g,g.length-2,20)&&this._matchCheckChar(g,g.length-1,15)}},{key:"decode",value:function(g,_){if(!(_=this._findStart()))return null;var k,j,F=new Uint16Array([0,0,0,0,0,0]),z=[],B=this._nextSet(this._row,_.end);do{F=this._toCounters(B,F);var W=this._toPattern(F);if(W<0||(j=this._patternToChar(W))===null)return null;z.push(j),k=B,B+=Q.a.sum(F),B=this._nextSet(this._row,B)}while(j!=="*");return z.pop(),z.length&&this._verifyEnd(k,B)&&this._verifyChecksums(z)?(z=z.slice(0,z.length-2),(z=this._decodeExtended(z))===null?null:{code:z.join(""),start:_.start,end:B,startInfo:_,decodedCodes:z,format:this.FORMAT}):null}}]),T}(oe);function Lr(L,V){var T=Object.keys(L);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(L);V&&(g=g.filter(function(_){return Object.getOwnPropertyDescriptor(L,_).enumerable})),T.push.apply(T,g)}return T}function Dr(L){for(var V=1;V<arguments.length;V++){var T=arguments[V]!=null?arguments[V]:{};V%2?Lr(Object(T),!0).forEach(function(g){H()(L,g,T[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(T)):Lr(Object(T)).forEach(function(g){Object.defineProperty(L,g,Object.getOwnPropertyDescriptor(T,g))})}return L}function Zn(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var Yt=[1,1,1],er=[1,1,1,1,1],ii=[1,1,2],Ka=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Ya=[0,11,13,14,19,25,28,21,22,26],tr=function(L){O()(T,L);var V=Zn(T);function T(g,_){var k;return v()(this,T),k=V.call(this,u()({supplements:[]},g),_),H()(P()(k),"FORMAT","ean_13"),H()(P()(k),"SINGLE_CODE_ERROR",.7),H()(P()(k),"STOP_PATTERN",[1,1,1]),k}return x()(T,[{key:"_findPattern",value:function(g,_,k,j){var F=new Array(g.length).fill(0),z={error:Number.MAX_VALUE,start:0,end:0},B=0;_||(_=this._nextSet(this._row));for(var W=!1,J=_;J<this._row.length;J++)if(this._row[J]^(k?1:0))F[B]+=1;else{if(B===F.length-1){var fe=this._matchPattern(F,g);if(fe<.48&&z.error&&fe<z.error)return W=!0,z.error=fe,z.start=J-F.reduce(function(pe,_e){return pe+_e},0),z.end=J,z;if(j){for(var ae=0;ae<F.length-2;ae++)F[ae]=F[ae+2];F[F.length-2]=0,F[F.length-1]=0,B--}}else B++;F[B]=1,k=!k}return W?z:null}},{key:"_decodeCode",value:function(g,_){var k=[0,0,0,0],j=g,F={error:Number.MAX_VALUE,code:-1,start:g,end:g},z=!this._row[j],B=0;_||(_=Ka.length);for(var W=j;W<this._row.length;W++)if(this._row[W]^(z?1:0))k[B]++;else{if(B===k.length-1){for(var J=0;J<_;J++){var fe=this._matchPattern(k,Ka[J]);F.end=W,fe<F.error&&(F.code=J,F.error=fe)}return F.error>.48?null:F}k[++B]=1,z=!z}return null}},{key:"_findStart",value:function(){for(var g=this._nextSet(this._row),_=null;!_;){if(!(_=this._findPattern(Yt,g,!1,!0)))return null;var k=_.start-(_.end-_.start);if(k>=0&&this._matchRange(k,_.start,0))return _;g=_.end,_=null}return null}},{key:"_calculateFirstDigit",value:function(g){for(var _=0;_<Ya.length;_++)if(g===Ya[_])return _;return null}},{key:"_decodePayload",value:function(g,_,k){for(var j=Dr({},g),F=0,z=0;z<6;z++){if(!(j=this._decodeCode(j.end)))return null;j.code>=10?(j.code-=10,F|=1<<5-z):F|=0<<5-z,_.push(j.code),k.push(j)}var B=this._calculateFirstDigit(F);if(B===null)return null;_.unshift(B);var W=this._findPattern(er,j.end,!0,!1);if(W===null||!W.end)return null;k.push(W);for(var J=0;J<6;J++){if(!(W=this._decodeCode(W.end,10)))return null;k.push(W),_.push(W.code)}return W}},{key:"_verifyTrailingWhitespace",value:function(g){var _=g.end+(g.end-g.start);return _<this._row.length&&this._matchRange(g.end,_,0)?g:null}},{key:"_findEnd",value:function(g,_){var k=this._findPattern(this.STOP_PATTERN,g,_,!1);return k!==null?this._verifyTrailingWhitespace(k):null}},{key:"_checksum",value:function(g){for(var _=0,k=g.length-2;k>=0;k-=2)_+=g[k];_*=3;for(var j=g.length-1;j>=0;j-=2)_+=g[j];return _%10==0}},{key:"_decodeExtensions",value:function(g){var _=this._nextSet(this._row,g),k=this._findPattern(ii,_,!1,!1);if(k===null)return null;for(var j=0;j<this.supplements.length;j++)try{var F=this.supplements[j].decode(this._row,k.end);if(F!==null)return{code:F.code,start:_,startInfo:k,end:F.end,decodedCodes:F.decodedCodes,format:this.supplements[j].FORMAT}}catch(z){console.error("* decodeExtensions error in ",this.supplements[j],": ",z)}return null}},{key:"decode",value:function(g,_){var k=new Array,j=new Array,F={},z=this._findStart();if(!z)return null;var B={start:z.start,end:z.end};if(j.push(B),!(B=this._decodePayload(B,k,j))||!(B=this._findEnd(B.end,!1))||(j.push(B),!this._checksum(k)))return null;if(this.supplements.length>0){var W=this._decodeExtensions(B.end);if(!W||!W.decodedCodes)return null;var J=W.decodedCodes[W.decodedCodes.length-1],fe={start:J.start+((J.end-J.start)/2|0),end:J.end};if(!this._verifyTrailingWhitespace(fe))return null;F={supplement:W,code:k.join("")+W.code}}return Dr(Dr({code:k.join(""),start:z.start,end:B.end,startInfo:z,decodedCodes:j},F),{},{format:this.FORMAT})}}]),T}(oe);function td(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var Xa=function(L){O()(T,L);var V=td(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"FORMAT","ean_2"),g}return x()(T,[{key:"decode",value:function(g,_){g&&(this._row=g);var k=0,j=_,F=this._row.length,z=[],B=[],W=null;if(j===void 0)return null;for(var J=0;J<2&&j<F;J++){if(!(W=this._decodeCode(j)))return null;B.push(W),z.push(W.code%10),W.code>=10&&(k|=1<<1-J),J!==1&&(j=this._nextSet(this._row,W.end),j=this._nextUnset(this._row,j))}if(z.length!==2||parseInt(z.join(""))%4!==k)return null;var fe=this._findStart();return{code:z.join(""),decodedCodes:B,end:W.end,format:this.FORMAT,startInfo:fe,start:fe.start}}}]),T}(tr);function nd(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var rd=[24,20,18,17,12,6,3,10,9,5],Ja=function(L){O()(T,L);var V=nd(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"FORMAT","ean_5"),g}return x()(T,[{key:"decode",value:function(g,_){if(_===void 0)return null;g&&(this._row=g);for(var k=0,j=_,F=this._row.length,z=null,B=[],W=[],J=0;J<5&&j<F;J++){if(!(z=this._decodeCode(j)))return null;W.push(z),B.push(z.code%10),z.code>=10&&(k|=1<<4-J),J!==4&&(j=this._nextSet(this._row,z.end),j=this._nextUnset(this._row,j))}if(B.length!==5||function(ae){for(var pe=ae.length,_e=0,Re=pe-2;Re>=0;Re-=2)_e+=ae[Re];_e*=3;for(var $e=pe-1;$e>=0;$e-=2)_e+=ae[$e];return(_e*=3)%10}(B)!==function(ae){for(var pe=0;pe<10;pe++)if(ae===rd[pe])return pe;return null}(k))return null;var fe=this._findStart();return{code:B.join(""),decodedCodes:W,end:z.end,format:this.FORMAT,startInfo:fe,start:fe.start}}}]),T}(tr);function pr(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var Qa=function(L){O()(T,L);var V=pr(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"FORMAT","ean_8"),g}return x()(T,[{key:"_decodePayload",value:function(g,_,k){for(var j=g,F=0;F<4;F++){if(!(j=this._decodeCode(j.end,10)))return null;_.push(j.code),k.push(j)}if((j=this._findPattern(er,j.end,!0,!1))===null)return null;k.push(j);for(var z=0;z<4;z++){if(!(j=this._decodeCode(j.end,10)))return null;k.push(j),_.push(j.code)}return j}}]),T}(tr);function sd(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var Za=function(L){O()(T,L);var V=sd(T);function T(g){var _;return v()(this,T),_=V.call(this,u()({normalizeBarSpaceWidth:!1},g)),H()(P()(_),"barSpaceRatio",[1,1]),H()(P()(_),"SINGLE_CODE_ERROR",.78),H()(P()(_),"AVG_CODE_ERROR",.38),H()(P()(_),"START_PATTERN",[1,1,1,1]),H()(P()(_),"STOP_PATTERN",[1,1,3]),H()(P()(_),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),H()(P()(_),"MAX_CORRECTION_FACTOR",5),H()(P()(_),"FORMAT","i2of5"),g.normalizeBarSpaceWidth&&(_.SINGLE_CODE_ERROR=.38,_.AVG_CODE_ERROR=.09),_.config=g,E()(_,P()(_))}return x()(T,[{key:"_matchPattern",value:function(g,_){if(this.config.normalizeBarSpaceWidth){for(var k=[0,0],j=[0,0],F=[0,0],z=this.MAX_CORRECTION_FACTOR,B=1/z,W=0;W<g.length;W++)k[W%2]+=g[W],j[W%2]+=_[W];F[0]=j[0]/k[0],F[1]=j[1]/k[1],F[0]=Math.max(Math.min(F[0],z),B),F[1]=Math.max(Math.min(F[1],z),B),this.barSpaceRatio=F;for(var J=0;J<g.length;J++)g[J]*=this.barSpaceRatio[J%2]}return ye()(D()(T.prototype),"_matchPattern",this).call(this,g,_)}},{key:"_findPattern",value:function(g,_){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2],j=arguments.length>3&&arguments[3]!==void 0&&arguments[3],F=new Array(g.length).fill(0),z=0,B={error:Number.MAX_VALUE,start:0,end:0},W=this.AVG_CODE_ERROR;k=k||!1,j=j||!1,_||(_=this._nextSet(this._row));for(var J=_;J<this._row.length;J++)if(this._row[J]^(k?1:0))F[z]++;else{if(z===F.length-1){var fe=F.reduce(function(_e,Re){return _e+Re},0),ae=this._matchPattern(F,g);if(ae<W)return B.error=ae,B.start=J-fe,B.end=J,B;if(!j)return null;for(var pe=0;pe<F.length-2;pe++)F[pe]=F[pe+2];F[F.length-2]=0,F[F.length-1]=0,z--}else z++;F[z]=1,k=!k}return null}},{key:"_findStart",value:function(){for(var g=0,_=this._nextSet(this._row),k=null,j=1;!k;){if(!(k=this._findPattern(this.START_PATTERN,_,!1,!0)))return null;if(j=Math.floor((k.end-k.start)/4),(g=k.start-10*j)>=0&&this._matchRange(g,k.start,0))return k;_=k.end,k=null}return null}},{key:"_verifyTrailingWhitespace",value:function(g){var _=g.end+(g.end-g.start)/2;return _<this._row.length&&this._matchRange(g.end,_,0)?g:null}},{key:"_findEnd",value:function(){this._row.reverse();var g=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),g===null)return null;var _=g.start;return g.start=this._row.length-g.end,g.end=this._row.length-_,g!==null?this._verifyTrailingWhitespace(g):null}},{key:"_decodePair",value:function(g){for(var _=[],k=0;k<g.length;k++){var j=this._decodeCode(g[k]);if(!j)return null;_.push(j)}return _}},{key:"_decodeCode",value:function(g){for(var _=this.AVG_CODE_ERROR,k={error:Number.MAX_VALUE,code:-1,start:0,end:0},j=0;j<this.CODE_PATTERN.length;j++){var F=this._matchPattern(g,this.CODE_PATTERN[j]);F<k.error&&(k.code=j,k.error=F)}return k.error<_?k:null}},{key:"_decodePayload",value:function(g,_,k){for(var j=0,F=g.length,z=[[0,0,0,0,0],[0,0,0,0,0]],B=null;j<F;){for(var W=0;W<5;W++)z[0][W]=g[j]*this.barSpaceRatio[0],z[1][W]=g[j+1]*this.barSpaceRatio[1],j+=2;if(!(B=this._decodePair(z)))return null;for(var J=0;J<B.length;J++)_.push(B[J].code+""),k.push(B[J])}return B}},{key:"_verifyCounterLength",value:function(g){return g.length%10==0}},{key:"decode",value:function(g,_){var k=new Array,j=new Array,F=this._findStart();if(!F)return null;j.push(F);var z=this._findEnd();if(!z)return null;var B=this._fillCounters(F.end,z.start,!1);return this._verifyCounterLength(B)&&this._decodePayload(B,k,j)?k.length%2!=0||k.length<6?null:(j.push(z),{code:k.join(""),start:F.start,end:z.end,startInfo:F,decodedCodes:j,format:this.FORMAT}):null}}]),T}(oe);function el(L,V){var T=Object.keys(L);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(L);V&&(g=g.filter(function(_){return Object.getOwnPropertyDescriptor(L,_).enumerable})),T.push.apply(T,g)}return T}function id(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var tl=function(L){O()(T,L);var V=id(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),H()(P()(g),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),H()(P()(g),"FORMAT","upc_e"),g}return x()(T,[{key:"_decodePayload",value:function(g,_,k){for(var j=function(B){for(var W=1;W<arguments.length;W++){var J=arguments[W]!=null?arguments[W]:{};W%2?el(Object(J),!0).forEach(function(fe){H()(B,fe,J[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(J)):el(Object(J)).forEach(function(fe){Object.defineProperty(B,fe,Object.getOwnPropertyDescriptor(J,fe))})}return B}({},g),F=0,z=0;z<6;z++){if(!(j=this._decodeCode(j.end)))return null;j.code>=10&&(j.code=j.code-10,F|=1<<5-z),_.push(j.code),k.push(j)}return this._determineParity(F,_)?j:null}},{key:"_determineParity",value:function(g,_){for(var k=0;k<this.CODE_FREQUENCY.length;k++)for(var j=0;j<this.CODE_FREQUENCY[k].length;j++)if(g===this.CODE_FREQUENCY[k][j])return _.unshift(k),_.push(j),!0;return!1}},{key:"_convertToUPCA",value:function(g){var _=[g[0]],k=g[g.length-2];return(_=k<=2?_.concat(g.slice(1,3)).concat([k,0,0,0,0]).concat(g.slice(3,6)):k===3?_.concat(g.slice(1,4)).concat([0,0,0,0,0]).concat(g.slice(4,6)):k===4?_.concat(g.slice(1,5)).concat([0,0,0,0,0,g[5]]):_.concat(g.slice(1,6)).concat([0,0,0,0,k])).push(g[g.length-1]),_}},{key:"_checksum",value:function(g){return ye()(D()(T.prototype),"_checksum",this).call(this,this._convertToUPCA(g))}},{key:"_findEnd",value:function(g,_){return ye()(D()(T.prototype),"_findEnd",this).call(this,g,!0)}},{key:"_verifyTrailingWhitespace",value:function(g){var _=g.end+(g.end-g.start)/2;return _<this._row.length&&this._matchRange(g.end,_,0)?g:null}}]),T}(tr);function od(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var nl=function(L){O()(T,L);var V=od(T);function T(){var g;v()(this,T);for(var _=arguments.length,k=new Array(_),j=0;j<_;j++)k[j]=arguments[j];return g=V.call.apply(V,[this].concat(k)),H()(P()(g),"FORMAT","upc_a"),g}return x()(T,[{key:"decode",value:function(g,_){var k=tr.prototype.decode.call(this);return k&&k.code&&k.code.length===13&&k.code.charAt(0)==="0"?(k.code=k.code.substring(1),k):null}}]),T}(tr),_s={},oi={UP:1,DOWN:-1};_s.getBarcodeLine=function(L,V,T){var g,_,k,j,F,z=0|V.x,B=0|V.y,W=0|T.x,J=0|T.y,fe=Math.abs(J-B)>Math.abs(W-z),ae=[],pe=L.data,_e=L.size.x,Re=255,$e=0;function Ee(Cs,M_){F=pe[M_*_e+Cs],Re=F<Re?F:Re,$e=F>$e?F:$e,ae.push(F)}fe&&(k=z,z=B,B=k,k=W,W=J,J=k),z>W&&(k=z,z=W,W=k,k=B,B=J,J=k);var st=W-z,pt=Math.abs(J-B);g=st/2|0,_=B;var _n=B<J?1:-1;for(j=z;j<W;j++)fe?Ee(_,j):Ee(j,_),(g-=pt)<0&&(_+=_n,g+=st);return{line:ae,min:Re,max:$e}},_s.toBinaryLine=function(L){var V,T,g,_,k,j,F=L.min,z=L.max,B=L.line,W=F+(z-F)/2,J=[],fe=(z-F)/12,ae=-fe;for(g=B[0]>W?oi.UP:oi.DOWN,J.push({pos:0,val:B[0]}),k=0;k<B.length-2;k++)g!==(_=(V=B[k+1]-B[k])+(T=B[k+2]-B[k+1])<ae&&B[k+1]<1.5*W?oi.DOWN:V+T>fe&&B[k+1]>.5*W?oi.UP:g)&&(J.push({pos:k,val:B[k]}),g=_);for(J.push({pos:B.length,val:B[B.length-1]}),j=J[0].pos;j<J[1].pos;j++)B[j]=B[j]>W?0:1;for(k=1;k<J.length-1;k++)for(fe=J[k+1].val>J[k].val?J[k].val+(J[k+1].val-J[k].val)/3*2|0:J[k+1].val+(J[k].val-J[k+1].val)/3|0,j=J[k].pos;j<J[k+1].pos;j++)B[j]=B[j]>fe?0:1;return{line:B,threshold:fe}},_s.debug={printFrequency:function(L,V){var T,g=V.getContext("2d");for(V.width=L.length,V.height=256,g.beginPath(),g.strokeStyle="blue",T=0;T<L.length;T++)g.moveTo(T,255),g.lineTo(T,255-L[T]);g.stroke(),g.closePath()},printPattern:function(L,V){var T,g=V.getContext("2d");for(V.width=L.length,g.fillColor="black",T=0;T<L.length;T++)L[T]===1&&g.fillRect(T,0,1,100)}};var lo=_s;function ad(L,V){var T=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!T){if(Array.isArray(L)||(T=function(z,B){if(z){if(typeof z=="string")return rl(z,B);var W=Object.prototype.toString.call(z).slice(8,-1);if(W==="Object"&&z.constructor&&(W=z.constructor.name),W==="Map"||W==="Set")return Array.from(z);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return rl(z,B)}}(L))||V){T&&(L=T);var g=0,_=function(){};return{s:_,n:function(){return g>=L.length?{done:!0}:{done:!1,value:L[g++]}},e:function(z){throw z},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,j=!0,F=!1;return{s:function(){T=T.call(L)},n:function(){var z=T.next();return j=z.done,z},e:function(z){F=!0,k=z},f:function(){try{j||T.return==null||T.return()}finally{if(F)throw k}}}}function rl(L,V){(V==null||V>L.length)&&(V=L.length);for(var T=0,g=new Array(V);T<V;T++)g[T]=L[T];return g}var bs={code_128_reader:me,ean_reader:tr,ean_5_reader:Ja,ean_2_reader:Xa,ean_8_reader:Qa,code_39_reader:bt,code_39_vin_reader:dt,codabar_reader:we,upc_reader:nl,upc_e_reader:tl,i2of5_reader:Za,"2of5_reader":q,code_93_reader:Kt,code_32_reader:ln},uo={registerReader:function(L,V){bs[L]=V},create:function(L,V){var T=[];function g(){L.readers.forEach(function(z){var B,W={},J=[];a()(z)==="object"?(B=z.format,W=z.config):typeof z=="string"&&(B=z),W.supplements&&(J=W.supplements.map(function(ae){return new bs[ae]}));try{var fe=new bs[B](W,J);T.push(fe)}catch(ae){throw console.error("* Error constructing reader ",B,ae),ae}})}function _(z){var B,W=null,J=lo.getBarcodeLine(V,z[0],z[1]);for(lo.toBinaryLine(J),B=0;B<T.length&&W===null;B++)W=T[B].decodePattern(J.line);return W===null?null:{codeResult:W,barcodeLine:J}}function k(z){return j.apply(this,arguments)}function j(){return(j=f()(m.a.mark(function z(B){var W,J,fe,ae;return m.a.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:W=null,J=ad(T),pe.prev=2,J.s();case 4:if((fe=J.n()).done){pe.next=14;break}if(!(ae=fe.value).decodeImage){pe.next=12;break}return pe.next=9,ae.decodeImage(B);case 9:if(!(W=pe.sent)){pe.next=12;break}return pe.abrupt("break",14);case 12:pe.next=4;break;case 14:pe.next=19;break;case 16:pe.prev=16,pe.t0=pe.catch(2),J.e(pe.t0);case 19:return pe.prev=19,J.f(),pe.finish(19);case 22:return pe.abrupt("return",W);case 23:case"end":return pe.stop()}},z,null,[[2,16,19,22]])}))).apply(this,arguments)}function F(z){var B,W,J=function(ae){return Math.sqrt(Math.pow(Math.abs(ae[1].y-ae[0].y),2)+Math.pow(Math.abs(ae[1].x-ae[0].x),2))}(B=function(ae){return[{x:(ae[1][0]-ae[0][0])/2+ae[0][0],y:(ae[1][1]-ae[0][1])/2+ae[0][1]},{x:(ae[3][0]-ae[2][0])/2+ae[2][0],y:(ae[3][1]-ae[2][1])/2+ae[2][1]}]}(z)),fe=Math.atan2(B[1].y-B[0].y,B[1].x-B[0].x);return(B=function(ae,pe,_e){function Re($e){var Ee=$e*Math.sin(pe),st=$e*Math.cos(pe);ae[0].y-=Ee,ae[0].x-=st,ae[1].y+=Ee,ae[1].x+=st}for(Re(_e);_e>1&&(!V.inImageWithBorder(ae[0])||!V.inImageWithBorder(ae[1]));)Re(-(_e-=Math.ceil(_e/2)));return ae}(B,fe,Math.floor(.1*J)))===null?null:((W=_(B))===null&&(W=function(ae,pe,_e){var Re,$e,Ee,st=Math.sqrt(Math.pow(ae[1][0]-ae[0][0],2)+Math.pow(ae[1][1]-ae[0][1],2)),pt=null,_n=Math.sin(_e),Cs=Math.cos(_e);for(Re=1;Re<16&&pt===null;Re++)Ee={y:($e=st/16*Re*(Re%2==0?-1:1))*_n,x:$e*Cs},pe[0].y+=Ee.x,pe[0].x-=Ee.y,pe[1].y+=Ee.x,pe[1].x-=Ee.y,pt=_(pe);return pt}(z,B,fe)),W===null?null:{codeResult:W.codeResult,line:B,angle:fe,pattern:W.barcodeLine.line,threshold:W.barcodeLine.threshold})}return g(),{decodeFromBoundingBox:function(z){return F(z)},decodeFromBoundingBoxes:function(z){var B,W,J=[],fe=L.multiple;for(B=0;B<z.length;B++){var ae=z[B];if((W=F(ae)||{}).box=ae,fe)J.push(W);else if(W.codeResult)return W}return{barcodes:J}},decodeFromImage:function(z){return f()(m.a.mark(function B(){var W;return m.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,k(z);case 2:return W=J.sent,J.abrupt("return",W);case 4:case"end":return J.stop()}},B)}))()},registerReader:function(z,B){if(bs[z])throw new Error("cannot register existing reader",z);bs[z]=B},setReaders:function(z){L.readers=z,T.length=0,g()}}}},nr=function(){var L={};function V(_){return L[_]||(L[_]={subscribers:[]}),L[_]}function T(_,k){_.async?setTimeout(function(){_.callback(k)},4):_.callback(k)}function g(_,k,j){var F;if(typeof k=="function")F={callback:k,async:j};else if(!(F=k).callback)throw new Error("Callback was not specified on options");V(_).subscribers.push(F)}return{subscribe:function(_,k,j){return g(_,k,j)},publish:function(_,k){var j=V(_),F=j.subscribers;F.filter(function(z){return!!z.once}).forEach(function(z){T(z,k)}),j.subscribers=F.filter(function(z){return!z.once}),j.subscribers.forEach(function(z){T(z,k)})},once:function(_,k){var j=arguments.length>2&&arguments[2]!==void 0&&arguments[2];g(_,{callback:k,async:j,once:!0})},unsubscribe:function(_,k){if(_){var j=V(_);j.subscribers=j&&k?j.subscribers.filter(function(F){return F.callback!==k}):[]}else L={}}}}(),sl=s(63),il=s.n(sl),ld=s(64);function ud(L){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=D()(L);if(V){var _=D()(this).constructor;T=Reflect.construct(g,arguments,_)}else T=g.apply(this,arguments);return E()(this,T)}}var Fr,co=function(L){O()(T,L);var V=ud(T);function T(g,_){var k;return v()(this,T),k=V.call(this,g),H()(P()(k),"code",void 0),k.code=_,Object.setPrototypeOf(P()(k),T.prototype),k}return x()(T)}(s.n(ld)()(Error)),ol="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function cd(){try{return navigator.mediaDevices.enumerateDevices()}catch{var L=new co("enumerateDevices is not defined. ".concat(ol),-1);return Promise.reject(L)}}function dd(L){try{return navigator.mediaDevices.getUserMedia(L)}catch{var V=new co("getUserMedia is not defined. ".concat(ol),-1);return Promise.reject(V)}}function al(L){return new Promise(function(V,T){var g=10;(function _(){g>0?L.videoWidth>10&&L.videoHeight>10?V():window.setTimeout(_,500):T(new co("Unable to play video stream. Is webcam working?",-1)),g--})()})}function ll(L,V){return fo.apply(this,arguments)}function fo(){return(fo=f()(m.a.mark(function L(V,T){var g;return m.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,dd(T);case 2:if(g=_.sent,Fr=g,!V){_.next=11;break}return V.setAttribute("autoplay","true"),V.setAttribute("muted","true"),V.setAttribute("playsinline","true"),V.srcObject=g,V.addEventListener("loadedmetadata",function(){V.play().catch(function(k){console.warn("* Error while trying to play video stream:",k)})}),_.abrupt("return",al(V));case 11:return _.abrupt("return",Promise.resolve());case 12:case"end":return _.stop()}},L)}))).apply(this,arguments)}function fd(L){var V=il()(L,["width","height","facingMode","aspectRatio","deviceId"]);return L.minAspectRatio!==void 0&&L.minAspectRatio>0&&(V.aspectRatio=L.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),L.facing!==void 0&&(V.facingMode=L.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),V}function hd(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=fd(L);return V&&V.deviceId&&V.facingMode&&delete V.facingMode,Promise.resolve({audio:!1,video:V})}function ul(){return(ul=f()(m.a.mark(function L(){var V;return m.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,cd();case 2:return V=T.sent,T.abrupt("return",V.filter(function(g){return g.kind==="videoinput"}));case 4:case"end":return T.stop()}},L)}))).apply(this,arguments)}function Ss(){if(!Fr)return null;var L=Fr.getVideoTracks();return L&&L!=null&&L.length?L[0]:null}var ks={requestedVideoElement:null,request:function(L,V){return f()(m.a.mark(function T(){var g;return m.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return ks.requestedVideoElement=L,_.next=3,hd(V);case 3:return g=_.sent,_.abrupt("return",ll(L,g));case 5:case"end":return _.stop()}},T)}))()},release:function(){var L=Fr&&Fr.getVideoTracks();return ks.requestedVideoElement!==null&&ks.requestedVideoElement.pause(),new Promise(function(V){setTimeout(function(){L&&L.length&&L.forEach(function(T){return T.stop()}),Fr=null,ks.requestedVideoElement=null,V()},0)})},enumerateVideoDevices:function(){return ul.apply(this,arguments)},getActiveStreamLabel:function(){var L=Ss();return L?L.label:""},getActiveTrack:Ss,disableTorch:function(){return f()(m.a.mark(function L(){var V;return m.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(V=Ss())){T.next=11;break}return T.prev=2,T.next=5,V.applyConstraints({advanced:[{torch:!1}]});case 5:T.next=11;break;case 7:throw T.prev=7,T.t0=T.catch(2),T.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),T.t0;case 11:case"end":return T.stop()}},L,null,[[2,7]])}))()},enableTorch:function(){return f()(m.a.mark(function L(){var V;return m.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(V=Ss())){T.next=11;break}return T.prev=2,T.next=5,V.applyConstraints({advanced:[{torch:!0}]});case 5:T.next=11;break;case 7:throw T.prev=7,T.t0=T.catch(2),T.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),T.t0;case 11:case"end":return T.stop()}},L,null,[[2,7]])}))()}},ai=ks,cl={create:function(L){var V,T=document.createElement("canvas"),g=T.getContext("2d",{willReadFrequently:!!L.willReadFrequently}),_=[],k=(V=L.capacity)!==null&&V!==void 0?V:20,j=L.capture===!0;function F(z){return!!k&&z&&!function(B,W){return W&&W.some(function(J){return Object.keys(J).every(function(fe){return J[fe]===B[fe]})})}(z,L.blacklist)&&function(B,W){return typeof W!="function"||W(B)}(z,L.filter)}return{addResult:function(z,B,W){var J={};F(W)&&(k--,J.codeResult=W,j&&(T.width=B.x,T.height=B.y,y.a.drawImage(z,B,g),J.frame=T.toDataURL()),_.push(J))},getResults:function(){return _}}}},pd={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},wn=s(5),li=s(10),dl=Math.PI/180,gd={create:function(L,V){var T,g={},_=L.getConfig(),k=(Object(li.h)(L.getRealWidth(),L.getRealHeight()),L.getCanvasSize()),j=Object(li.h)(L.getWidth(),L.getHeight()),F=L.getTopRight(),z=F.x,B=F.y,W=null,J=null,fe=_.willReadFrequently;return(T=V||document.createElement("canvas")).width=k.x,T.height=k.y,console.warn("*** frame_grabber_browser: willReadFrequently=",fe,"canvas=",T),W=T.getContext("2d",{willReadFrequently:!!fe}),J=new Uint8Array(j.x*j.y),g.attachData=function(ae){J=ae},g.getData=function(){return J},g.grab=function(){var ae,pe=_.halfSample,_e=L.getFrame(),Re=_e,$e=0;if(Re){if(function(Ee,st){Ee.width!==st.x&&(Ee.width=st.x),Ee.height!==st.y&&(Ee.height=st.y)}(T,k),_.type==="ImageStream"&&(Re=_e.img,_e.tags&&_e.tags.orientation))switch(_e.tags.orientation){case 6:$e=90*dl;break;case 8:$e=-90*dl}return $e!==0?(W.translate(k.x/2,k.y/2),W.rotate($e),W.drawImage(Re,-k.y/2,-k.x/2,k.y,k.x),W.rotate(-$e),W.translate(-k.x/2,-k.y/2)):W.drawImage(Re,0,0,k.x,k.y),ae=W.getImageData(z,B,j.x,j.y).data,pe?Object(li.e)(ae,j,J):Object(li.c)(ae,J,_),!0}return!1},g.getSize=function(){return j},g}},md=gd,ui={274:"orientation"},fl=Object.keys(ui).map(function(L){return ui[L]});function yd(L){return new Promise(function(V){var T=new FileReader;T.onload=function(g){return V(g.target.result)},T.readAsArrayBuffer(L)})}function vd(L){return new Promise(function(V,T){var g=new XMLHttpRequest;g.open("GET",L,!0),g.responseType="blob",g.onreadystatechange=function(){g.readyState!==XMLHttpRequest.DONE||g.status!==200&&g.status!==0||V(this.response)},g.onerror=T,g.send()})}function xd(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fl,T=new DataView(L),g=L.byteLength,_=V.reduce(function(j,F){var z=Object.keys(ui).filter(function(B){return ui[B]===F})[0];return z&&(j[z]=F),j},{}),k=2;if(T.getUint8(0)!==255||T.getUint8(1)!==216)return!1;for(;k<g;){if(T.getUint8(k)!==255)return!1;if(T.getUint8(k+1)===225)return wd(T,k+4,_);k+=2+T.getUint16(k+2)}return!1}function wd(L,V,T){if(function(j,F,z){for(var B="",W=F;W<F+z;W++)B+=String.fromCharCode(j.getUint8(W));return B}(L,V,4)!=="Exif")return!1;var g,_=V+6;if(L.getUint16(_)===18761)g=!1;else{if(L.getUint16(_)!==19789)return!1;g=!0}if(L.getUint16(_+2,!g)!==42)return!1;var k=L.getUint32(_+4,!g);return!(k<8)&&function(j,F,z,B,W){for(var J=j.getUint16(z,!W),fe={},ae=0;ae<J;ae++){var pe=z+12*ae+2,_e=B[j.getUint16(pe,!W)];_e&&(fe[_e]=_d(j,pe,F,z,W))}return fe}(L,_,_+k,T,g)}function _d(L,V,T,g,_){var k=L.getUint16(V+2,!_),j=L.getUint32(V+4,!_);switch(k){case 3:if(j===1)return L.getUint16(V+8,!_)}return null}var hl={};function bd(L,V){L.onload=function(){V.loaded(this)}}hl.load=function(L,V,T,g,_){var k,j,F,z=new Array(g),B=new Array(z.length);if(_===!1)z[0]=L;else for(k=0;k<z.length;k++)F=T+k,z[k]="".concat(L,"image-").concat("00".concat(F).slice(-3),".jpg");for(B.notLoaded=[],B.addImage=function(W){B.notLoaded.push(W)},B.loaded=function(W){for(var J=B.notLoaded,fe=0;fe<J.length;fe++)if(J[fe]===W){J.splice(fe,1);for(var ae=0;ae<z.length;ae++){var pe=z[ae].substr(z[ae].lastIndexOf("/"));if(W.src.lastIndexOf(pe)!==-1){B[ae]={img:W};break}}break}J.length===0&&(_===!1?function(_e){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fl;return/^blob:/i.test(_e)?vd(_e).then(yd).then(function($e){return xd($e,Re)}):Promise.resolve(null)}(L,["orientation"]).then(function(_e){B[0].tags=_e,V(B)}).catch(function(_e){console.log(_e),V(B)}):V(B))},k=0;k<z.length;k++)j=new Image,B.addImage(j),bd(j,B),j.src=z[k]};var Sd=hl,pl={createVideoStream:function(L){console.warn("**** InputStreamBrowser createVideoStream");var V,T,g=null,_=["canrecord","ended"],k={},j={x:0,y:0,type:"Point"},F={x:0,y:0,type:"XYSize"},z={getRealWidth:function(){return L.videoWidth},getRealHeight:function(){return L.videoHeight},getWidth:function(){return V},getHeight:function(){return T},setWidth:function(B){V=B},setHeight:function(B){T=B},setInputStream:function(B){g=B,this.setAttribute("src",B.src!==void 0?B.src:"")},ended:function(){return L.ended},getConfig:function(){return g},setAttribute:function(B,W){L&&L.setAttribute(B,W)},pause:function(){L.pause()},play:function(){L.play()},setCurrentTime:function(B){var W;((W=g)===null||W===void 0?void 0:W.type)!=="LiveStream"&&this.setAttribute("currentTime",B.toString())},addEventListener:function(B,W,J){_.indexOf(B)!==-1?(k[B]||(k[B]=[]),k[B].push(W)):L.addEventListener(B,W,J)},clearEventHandlers:function(){_.forEach(function(B){var W=k[B];W&&W.length>0&&W.forEach(function(J){L.removeEventListener(B,J)})})},trigger:function(B,W){var J,fe,ae,pe,_e,Re=k[B];if(B==="canrecord"&&(pe=L.videoWidth,_e=L.videoHeight,V=(fe=g)!==null&&fe!==void 0&&fe.size?pe/_e>1?g.size:Math.floor(pe/_e*g.size):pe,T=(ae=g)!==null&&ae!==void 0&&ae.size?pe/_e>1?Math.floor(_e/pe*g.size):g.size:_e,F.x=V,F.y=T),Re&&Re.length>0)for(J=0;J<Re.length;J++)Re[J].apply(z,W)},setTopRight:function(B){j.x=B.x,j.y=B.y},getTopRight:function(){return j},setCanvasSize:function(B){F.x=B.x,F.y=B.y},getCanvasSize:function(){return F},getFrame:function(){return L}};return z},createLiveStream:function(L){console.warn("**** InputStreamBrowser createLiveStream"),L&&L.setAttribute("autoplay","true");var V=pl.createVideoStream(L);return V.ended=function(){return!1},V},createImageStream:function(){var L,V,T=null,g=0,_=0,k=0,j=!0,F=!1,z=null,B=0,W=null,J=!1,fe=["canrecord","ended"],ae={},pe={x:0,y:0,type:"Point"},_e={x:0,y:0,type:"XYSize"};function Re(Ee,st){var pt,_n=ae[Ee];if(_n&&_n.length>0)for(pt=0;pt<_n.length;pt++)_n[pt].apply($e,st)}var $e={trigger:Re,getWidth:function(){return L},getHeight:function(){return V},setWidth:function(Ee){L=Ee},setHeight:function(Ee){V=Ee},getRealWidth:function(){return g},getRealHeight:function(){return _},setInputStream:function(Ee){var st;T=Ee,Ee.sequence===!1?(W=Ee.src,B=1):(W=Ee.src,B=Ee.length),F=!1,Sd.load(W,function(pt){var _n,Cs;if(z=pt,pt[0].tags&&pt[0].tags.orientation)switch(pt[0].tags.orientation){case 6:case 8:g=pt[0].img.height,_=pt[0].img.width;break;default:g=pt[0].img.width,_=pt[0].img.height}else g=pt[0].img.width,_=pt[0].img.height;L=(_n=T)!==null&&_n!==void 0&&_n.size?g/_>1?T.size:Math.floor(g/_*T.size):g,V=(Cs=T)!==null&&Cs!==void 0&&Cs.size?g/_>1?Math.floor(_/g*T.size):T.size:_,_e.x=L,_e.y=V,F=!0,k=0,setTimeout(function(){Re("canrecord",[])},0)},1,B,(st=T)===null||st===void 0?void 0:st.sequence)},ended:function(){return J},setAttribute:function(){},getConfig:function(){return T},pause:function(){j=!0},play:function(){j=!1},setCurrentTime:function(Ee){k=Ee},addEventListener:function(Ee,st){fe.indexOf(Ee)!==-1&&(ae[Ee]||(ae[Ee]=[]),ae[Ee].push(st))},clearEventHandlers:function(){Object.keys(ae).forEach(function(Ee){return delete ae[Ee]})},setTopRight:function(Ee){pe.x=Ee.x,pe.y=Ee.y},getTopRight:function(){return pe},setCanvasSize:function(Ee){_e.x=Ee.x,_e.y=Ee.y},getCanvasSize:function(){return _e},getFrame:function(){var Ee,st;return F?(j||(Ee=(st=z)===null||st===void 0?void 0:st[k],k<B-1?k++:setTimeout(function(){J=!0,Re("ended",[])},0)),Ee):null}};return $e}},kd=pl,ho=s(23),Cd=x()(function L(){v()(this,L),H()(this,"config",void 0),H()(this,"inputStream",void 0),H()(this,"framegrabber",void 0),H()(this,"inputImageWrapper",void 0),H()(this,"stopped",!1),H()(this,"boxSize",void 0),H()(this,"resultCollector",void 0),H()(this,"decoder",void 0),H()(this,"workerPool",[]),H()(this,"onUIThread",!0),H()(this,"canvasContainer",new C)}),gl=x()(function L(){v()(this,L),H()(this,"image",void 0),H()(this,"overlay",void 0)}),C=x()(function L(){v()(this,L),H()(this,"ctx",void 0),H()(this,"dom",void 0),this.ctx=new gl,this.dom=new gl});function N(L){if(typeof document>"u")return null;if(L instanceof HTMLElement&&L.nodeName&&L.nodeType===1)return L;var V=typeof L=="string"?L:"#interactive.viewport";return document.querySelector(V)}function U(L,V,T){var g=function(k,j){var F=document.querySelector(k);return F||((F=document.createElement("canvas")).className=j),F}(L,V);console.warn("* initCanvas getCanvasAndContext");var _=g.getContext("2d",{willReadFrequently:T.willReadFrequently});return{canvas:g,context:_}}function Z(L){var V,T,g,_,k,j,F=N(L==null||(V=L.config)===null||V===void 0||(T=V.inputStream)===null||T===void 0?void 0:T.target),z=L==null||(g=L.config)===null||g===void 0||(_=g.inputStream)===null||_===void 0?void 0:_.type;if(!z)return null;var B=function(J,fe){var ae=fe.willReadFrequently;if(typeof document<"u"){var pe=U("canvas.imgBuffer","imgBuffer",{willReadFrequently:ae}),_e=U("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:ae});return pe.canvas.width=_e.canvas.width=J.x,pe.canvas.height=_e.canvas.height=J.y,{dom:{image:pe.canvas,overlay:_e.canvas},ctx:{image:pe.context,overlay:_e.context}}}return null}(L.inputStream.getCanvasSize(),{willReadFrequently:!(L==null||(k=L.config)===null||k===void 0||(j=k.inputStream)===null||j===void 0||!j.willReadFrequently)});if(!B)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var W=B.dom;return typeof document<"u"&&F&&(z!=="ImageStream"||F.contains(W.image)||F.appendChild(W.image),F.contains(W.overlay)||F.appendChild(W.overlay)),B}function ie(L,V){var T=Object.keys(L);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(L);V&&(g=g.filter(function(_){return Object.getOwnPropertyDescriptor(L,_).enumerable})),T.push.apply(T,g)}return T}function de(L){for(var V=1;V<arguments.length;V++){var T=arguments[V]!=null?arguments[V]:{};V%2?ie(Object(T),!0).forEach(function(g){H()(L,g,T[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(T)):ie(Object(T)).forEach(function(g){Object.defineProperty(L,g,Object.getOwnPropertyDescriptor(T,g))})}return L}wn.a.setMatrixArrayType(Array);var ge=[];function Se(L){return de(de({},L),{},{inputStream:de(de({},L.inputStream),{},{target:null})})}function De(L){if(L){var V=L().default;if(!V)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var T;function g(k){self.postMessage({event:"processed",imageData:T.data,result:k},[T.data.buffer])}function _(){self.postMessage({event:"initialized",imageData:T.data},[T.data.buffer])}self.onmessage=function(k){if(k.data.cmd==="init"){var j=k.data.config;j.numOfWorkers=0,T=new V.ImageWrapper({x:k.data.size.x,y:k.data.size.y},new Uint8Array(k.data.imageData)),V.init(j,_,T),V.onProcessed(g)}else k.data.cmd==="process"?(T.data=new Uint8Array(k.data.imageData),V.start()):k.data.cmd==="setReaders"?V.setReaders(k.data.readers):k.data.cmd==="registerReader"&&V.registerReader(k.data.name,k.data.reader)}}function ht(L,V,T){var g,_,k=(typeof __factorySource__<"u"&&(_=__factorySource__),g=new Blob(["("+De.toString()+")("+_+");"],{type:"text/javascript"}),window.URL.createObjectURL(g)),j={worker:new Worker(k),imageData:new Uint8Array(V.getWidth()*V.getHeight()),busy:!0};j.worker.onmessage=function(F){F.data.event==="initialized"?(URL.revokeObjectURL(k),j.busy=!1,j.imageData=new Uint8Array(F.data.imageData),T(j)):F.data.event==="processed"?(j.imageData=new Uint8Array(F.data.imageData),j.busy=!1,typeof publishResult<"u"&&publishResult(F.data.result,j.imageData)):F.data.event},j.worker.postMessage({cmd:"init",size:{x:V.getWidth(),y:V.getHeight()},imageData:j.imageData,config:Se(L)},[j.imageData.buffer])}function St(L,V,T,g){var _=L-ge.length;if(_===0&&g)g();else if(_<0)ge.slice(_).forEach(function(F){F.worker.terminate()}),ge=ge.slice(0,_),g&&g();else{var k=function(F){ge.push(F),ge.length>=L&&g&&g()};if(V)for(var j=0;j<_;j++)ht(V,T,k)}}function Mn(L,V,T){for(var g=L.length;g--;)L[g][0]+=V,L[g][1]+=T}wn.a.setMatrixArrayType(Array);var In=function(){function L(){var g=this;v()(this,L),H()(this,"context",new Cd),H()(this,"canRecord",function(_){var k;g.context.config&&(ho.a.checkImageConstraints(g.context.inputStream,(k=g.context.config)===null||k===void 0?void 0:k.locator),g.initCanvas(),g.context.framegrabber=md.create(g.context.inputStream,g.context.canvasContainer.dom.image),g.context.config.numOfWorkers===void 0&&(g.context.config.numOfWorkers=0),St(g.context.config.numOfWorkers,g.context.config,g.context.inputStream,function(){var j;((j=g.context.config)===null||j===void 0?void 0:j.numOfWorkers)===0&&g.initializeData(),g.ready(_)}))}),H()(this,"update",function(){if(g.context.onUIThread){var _,k=(F=g.context.framegrabber,ge.length?!!(z=ge.filter(function(B){return!B.busy})[0])&&(F.attachData(z.imageData),F.grab()&&(z.busy=!0,z.worker.postMessage({cmd:"process",imageData:z.imageData},[z.imageData.buffer])),!0):null);k||(g.context.framegrabber.attachData((_=g.context.inputImageWrapper)===null||_===void 0?void 0:_.data),g.context.framegrabber.grab()&&(k||g.locateAndDecode()))}else{var j;g.context.framegrabber.attachData((j=g.context.inputImageWrapper)===null||j===void 0?void 0:j.data),g.context.framegrabber.grab(),g.locateAndDecode()}var F,z})}var V,T;return x()(L,[{key:"initBuffers",value:function(g){if(this.context.config){var _=function(F,z,B){var W=z||new c.a({x:F.getWidth(),y:F.getHeight(),type:"XYSize"}),J=[wn.c.clone([0,0]),wn.c.clone([0,W.size.y]),wn.c.clone([W.size.x,W.size.y]),wn.c.clone([W.size.x,0])];return ho.a.init(W,B),{inputImageWrapper:W,boxSize:J}}(this.context.inputStream,g,this.context.config.locator),k=_.inputImageWrapper,j=_.boxSize;this.context.inputImageWrapper=k,this.context.boxSize=j}}},{key:"initializeData",value:function(g){this.context.config&&(this.initBuffers(g),this.context.decoder=uo.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?N(this.context.config.inputStream.target):null}},{key:"ready",value:function(g){this.context.inputStream.play(),g()}},{key:"initCanvas",value:function(){var g=Z(this.context);if(g){var _=g.ctx,k=g.dom;this.context.canvasContainer.dom.image=k.image,this.context.canvasContainer.dom.overlay=k.overlay,this.context.canvasContainer.ctx.image=_.image,this.context.canvasContainer.ctx.overlay=_.overlay}}},{key:"initInputStream",value:function(g){if(this.context.config&&this.context.config.inputStream){var _=this.context.config.inputStream,k=_.type,j=_.constraints,F=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",J=arguments.length>1?arguments[1]:void 0,fe=arguments.length>2?arguments[2]:void 0;switch(W){case"VideoStream":var ae=document.createElement("video");return{video:ae,inputStream:fe.createVideoStream(ae)};case"ImageStream":return{inputStream:fe.createImageStream()};case"LiveStream":var pe=null;return J&&((pe=J.querySelector("video"))||(pe=document.createElement("video"),J.appendChild(pe))),{video:pe,inputStream:fe.createLiveStream(pe)};default:return console.error("* setupInputStream invalid type ".concat(W)),{video:null,inputStream:null}}}(k,this.getViewPort(),kd),z=F.video,B=F.inputStream;k==="LiveStream"&&z&&ai.request(z,j).then(function(){return B.trigger("canrecord")}).catch(function(W){return g(W)}),B&&(B.setAttribute("preload","auto"),B.setInputStream(this.context.config.inputStream),B.addEventListener("canrecord",this.canRecord.bind(void 0,g))),this.context.inputStream=B}}},{key:"getBoundingBoxes",value:function(){var g;return(g=this.context.config)!==null&&g!==void 0&&g.locate?ho.a.locate():[[wn.c.clone(this.context.boxSize[0]),wn.c.clone(this.context.boxSize[1]),wn.c.clone(this.context.boxSize[2]),wn.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(g){var _=this,k=this.context.inputStream.getTopRight(),j=k.x,F=k.y;if((j!==0||F!==0)&&(g.barcodes&&g.barcodes.forEach(function(B){return _.transformResult(B)}),g.line&&g.line.length===2&&function(B,W,J){B[0].x+=W,B[0].y+=J,B[1].x+=W,B[1].y+=J}(g.line,j,F),g.box&&Mn(g.box,j,F),g.boxes&&g.boxes.length>0))for(var z=0;z<g.boxes.length;z++)Mn(g.boxes[z],j,F)}},{key:"addResult",value:function(g,_){var k=this;_&&this.context.resultCollector&&(g.barcodes?g.barcodes.filter(function(j){return j.codeResult}).forEach(function(j){return k.addResult(j,_)}):g.codeResult&&this.context.resultCollector.addResult(_,this.context.inputStream.getCanvasSize(),g.codeResult))}},{key:"hasCodeResult",value:function(g){return!(!g||!(g.barcodes?g.barcodes.some(function(_){return _.codeResult}):g.codeResult))}},{key:"publishResult",value:function(){var g,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,k=arguments.length>1?arguments[1]:void 0,j=_;_&&this.context.onUIThread&&(this.transformResult(_),this.addResult(_,k),j=(_==null||(g=_.barcodes)===null||g===void 0?void 0:g.length)>0?_.barcodes:_),nr.publish("processed",j),this.hasCodeResult(_)&&nr.publish("detected",j)}},{key:"locateAndDecode",value:(T=f()(m.a.mark(function g(){var _,k,j,F,z;return m.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!(_=this.getBoundingBoxes())){B.next=12;break}return B.next=4,this.context.decoder.decodeFromBoundingBoxes(_);case 4:if(B.t0=B.sent,B.t0){B.next=7;break}B.t0={};case 7:(j=B.t0).boxes=_,this.publishResult(j,(k=this.context.inputImageWrapper)===null||k===void 0?void 0:k.data),B.next=16;break;case 12:return B.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(F=B.sent)?this.publishResult(F,(z=this.context.inputImageWrapper)===null||z===void 0?void 0:z.data):this.publishResult();case 16:case"end":return B.stop()}},g,this)})),function(){return T.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var g,_=this,k=null,j=1e3/(((g=this.context.config)===null||g===void 0?void 0:g.frequency)||60);this.context.stopped=!1;var F=this.context;(function z(B){k=k||B,F.stopped||(B>=k&&(k+=j,_.update()),window.requestAnimationFrame(z))})(performance.now())}},{key:"start",value:function(){var g,_;this.context.onUIThread&&((g=this.context.config)===null||g===void 0||(_=g.inputStream)===null||_===void 0?void 0:_.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(V=f()(m.a.mark(function g(){var _;return m.a.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(this.context.stopped=!0,St(0),(_=this.context.config)===null||_===void 0||!_.inputStream||this.context.config.inputStream.type!=="LiveStream"){k.next=6;break}return k.next=5,ai.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return k.stop()}},g,this)})),function(){return V.apply(this,arguments)})},{key:"setReaders",value:function(g){this.context.decoder&&this.context.decoder.setReaders(g),function(_){ge.forEach(function(k){return k.worker.postMessage({cmd:"setReaders",readers:_})})}(g)}},{key:"registerReader",value:function(g,_){uo.registerReader(g,_),this.context.decoder&&this.context.decoder.registerReader(g,_),function(k,j){ge.forEach(function(F){return F.worker.postMessage({cmd:"registerReader",name:k,reader:j})})}(g,_)}}]),L}(),gr=new In,ci=gr.context,po={init:function(L,V,T){var g,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gr;return V||(g=new Promise(function(k,j){V=function(F){F?j(F):k()}})),_.context.config=u()({},pd,L),_.context.config.numOfWorkers>0&&(_.context.config.numOfWorkers=0),T?(_.context.onUIThread=!1,_.initializeData(T),V&&V()):_.initInputStream(V),g},start:function(){return gr.start()},stop:function(){return gr.stop()},pause:function(){ci.stopped=!0},onDetected:function(L){L&&(typeof L=="function"||a()(L)==="object"&&L.callback)?nr.subscribe("detected",L):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(L){nr.unsubscribe("detected",L)},onProcessed:function(L){L&&(typeof L=="function"||a()(L)==="object"&&L.callback)?nr.subscribe("processed",L):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(L){nr.unsubscribe("processed",L)},setReaders:function(L){L?gr.setReaders(L):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(L,V){L?V?gr.registerReader(L,V):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(L){L&&typeof L.addResult=="function"&&(ci.resultCollector=L)},get canvas(){return ci.canvasContainer},decodeSingle:function(L,V){var T=this,g=new In;return(L=u()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:L.src},numOfWorkers:1,locator:{halfSample:!1}},L)).numOfWorkers>0&&(L.numOfWorkers=0),L.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),L.numOfWorkers=0),new Promise(function(_,k){try{T.init(L,function(){nr.once("processed",function(j){g.stop(),V&&V.call(null,j),_(j)},!0),g.start()},null,g)}catch(j){k(j)}})},get default(){return po},Readers:i,CameraAccess:ai,ImageDebug:y.a,ImageWrapper:c.a,ResultCollector:cl};r.default=po}]).default})})(P_);var IN=P_.exports;const Ut=hc(IN);var T_={exports:{}},LN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DN=LN,FN=DN;function O_(){}function A_(){}A_.resetWarningCache=O_;var $N=function(){function e(r,s,i,o,a,l){if(l!==FN){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:A_,resetWarningCache:O_};return n.PropTypes=n,n};T_.exports=$N();var zN=T_.exports;const kr=hc(zN),N_=({onDetected:e,onError:t,active:n=!1,constraints:r={},className:s="",showViewFinder:i=!0})=>{const o=M.useRef(null),[a,l]=M.useState(!1),u={inputStream:{type:"LiveStream",constraints:{width:{min:640},height:{min:480},facingMode:"environment",aspectRatio:{min:1,max:2},...r},area:{top:"10%",right:"10%",left:"10%",bottom:"10%"}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:navigator.hardwareConcurrency||2,frequency:10,decoder:{readers:["ean_reader","ean_8_reader","upc_reader","upc_e_reader","code_128_reader","code_39_reader","code_93_reader","codabar_reader","i2of5_reader"],multiple:!1},locate:!0},c=M.useCallback(f=>{const p=Ut.canvas.ctx.overlay,m=Ut.canvas.dom.overlay;if(!(!p||!m)&&(p.clearRect(0,0,parseInt(m.getAttribute("width")),parseInt(m.getAttribute("height"))),f)){if(f.boxes&&i)for(let y=0;y<f.boxes.length;y++){const b=f.boxes[y];b!==f.box&&Ut.ImageDebug.drawPath(b,{x:0,y:1},p,{color:"rgba(0, 255, 0, 0.5)",lineWidth:2})}f.box&&i&&Ut.ImageDebug.drawPath(f.box,{x:0,y:1},p,{color:"rgba(0, 0, 255, 0.8)",lineWidth:2}),f.codeResult&&f.codeResult.code&&i&&Ut.ImageDebug.drawPath(f.line,{x:"x",y:"y"},p,{color:"rgba(255, 0, 0, 0.8)",lineWidth:3})}},[i]),d=M.useCallback(f=>{if(f&&f.codeResult&&f.codeResult.code){const p=f.codeResult.code,m=f.codeResult.format,y=Math.round(f.codeResult.confidence*100);y>=65&&e&&e({code:p,format:m,confidence:y})}},[e]);return M.useEffect(()=>{if(o.current){if(n&&!a){const f={...u,inputStream:{...u.inputStream,target:o.current}};try{Ut.init(f,p=>{if(p){console.error("Barcode Reader initialization error:",p),t&&t(p);return}console.log("Barcode Reader initialized successfully"),l(!0),Ut.start(),Ut.onDetected(d),Ut.onProcessed(c)})}catch(p){console.error("Error initializing Quagga:",p),t&&t(p)}return()=>{if(a){try{Ut.offDetected(d),Ut.offProcessed(c),Ut.stop()}catch(p){console.error("Error stopping Quagga:",p)}l(!1)}}}else if(!n&&a){try{Ut.offDetected(d),Ut.offProcessed(c),Ut.stop()}catch(f){console.error("Error stopping Quagga:",f)}l(!1)}}},[n,d,c,a,t]),h.jsx("div",{ref:o,className:`barcode-reader relative overflow-hidden rounded-lg ${s}`,style:{minHeight:"300px"},children:i&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:h.jsx("div",{className:"border-2 border-dashed border-red-500 rounded w-3/4 h-1/3 flex items-center justify-center",children:h.jsx("div",{className:"text-center text-white text-xs bg-black bg-opacity-50 p-1 rounded",children:"Position barcode here"})})})})};N_.propTypes={onDetected:kr.func.isRequired,onError:kr.func,active:kr.bool,constraints:kr.object,className:kr.string,showViewFinder:kr.bool};const BN=()=>{const[e,t]=M.useState(!1),[n,r]=M.useState(""),[s,i]=M.useState([]),[o,a]=M.useState(""),[l,u]=M.useState(!1),c=hr(),[d]=aR();d.get("mode");const f=d.get("return"),p=x=>{if(!x||typeof x!="string")return null;const R=x.trim().toUpperCase();return/^[A-Z0-9]{10}$/.test(R)?`https://www.amazon.com/dp/${R}`:null},m=async x=>{const R=x.trim();if(!R){i([]),a("Please scan or enter a search term (LPN, FNSKU, ASIN).");return}u(!0),a(`Searching for "${R}"...`),i([]);try{const P=await ow(R);P.success?(i(P.data),a(P.data.length>0?`Found ${P.data.length} result(s) for "${R}".`:`No results found for "${R}".`)):(console.error("Search failed:",P.error),a(`Error searching: ${P.error}`))}catch(P){console.error("Error during search:",P),a("An error occurred during search.")}finally{u(!1)}},y=({code:x})=>{t(!1),r(x),le.success(`Code detected: ${x}. Searching...`),m(x)},b=x=>{console.error("Scanner error:",x),le.error("Scanner error: "+(x.message||"Unknown error")),t(!1)},v=x=>{if(x.preventDefault(),!n.trim()){le.warning("Please enter a valid code (LPN, FNSKU, ASIN)");return}m(n)},w=()=>{r(""),i([]),a(""),u(!1)};return h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Item Scanner / Lookup"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs(fn,{className:"p-4",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Scan or Enter Code"}),h.jsx("div",{className:"mb-4",children:h.jsx(He,{onClick:()=>t(!e),variant:e?"danger":"primary",className:"w-full",iconLeft:e?h.jsx(hg,{className:"w-5 h-5"}):h.jsx(qj,{className:"w-5 h-5"}),children:e?"Stop Scanning":"Start Scanner"})}),e&&h.jsx("div",{className:"mb-4 border rounded-lg p-2 bg-gray-100 dark:bg-gray-800",children:h.jsx(N_,{active:e,onDetected:y,onError:b,className:"w-full h-64"})}),h.jsxs("div",{className:"mt-4",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or enter code manually:"}),h.jsxs("form",{onSubmit:v,className:"flex",children:[h.jsxs("div",{className:"relative flex-grow",children:[h.jsx("input",{type:"text",value:n,onChange:x=>r(x.target.value),placeholder:"Enter LPN, FNSKU, ASIN...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600",disabled:l}),h.jsx(Va,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"})]}),h.jsx(He,{type:"submit",variant:"primary",className:"rounded-l-none",isLoading:l,disabled:l||!n.trim(),children:l?"Searching...":"Search"})]})]}),h.jsx("div",{className:"mt-4",children:h.jsx(He,{variant:"secondary",onClick:w,disabled:l,iconLeft:h.jsx(fg,{className:"w-4 h-4"}),children:"Reset"})})]}),h.jsxs(fn,{className:"p-4",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Search Results"}),o&&h.jsx("p",{className:`mb-4 text-sm ${o.startsWith("Error")?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:o}),l&&h.jsx("div",{className:"flex justify-center items-center h-40",children:h.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"})}),!l&&s.length>0&&h.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:s.map(x=>{const R=p(x.asin);return h.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-800",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"LPN:"})," ",x.lpn_xz_asin||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"FNSKU:"})," ",x.fnsku||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"ASIN:"})," ",x.asin||"N/A"]}),x.description&&h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:x.description}),R&&h.jsx("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-block text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:underline text-sm",children:"View on Amazon.com"}),h.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Imported: ",new Date(x.timestamp).toLocaleString()]})]},x.id)})}),!l&&!s.length&&o&&!o.startsWith("Error")&&o!=="Please scan or enter a search term (LPN, FNSKU, ASIN)."&&h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No items found matching your query."})]})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>c(f||-1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg",children:"Back"})})]})},No=({enabled:e,onChange:t,label:n})=>h.jsx("div",{className:"flex items-center",children:h.jsxs("label",{className:"inline-flex relative items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:e,onChange:t}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"}),h.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300",children:n})]})}),UN=()=>{const{user:e}=An(),[t,n]=M.useState(localStorage.getItem("theme")==="dark"),[r,s]=M.useState(localStorage.getItem("autoScan")==="true"),[i,o]=M.useState(!1),[a,l]=M.useState(!0),[u,c]=M.useState(!1),[d,f]=M.useState([{id:1,name:"F2A Barcode API",value:"20a98a6a-437e-497c-b64c-ec97ec2fbc19",isEditing:!1}]),[p,m]=M.useState({name:"",value:""}),[y,b]=M.useState(!1),v=()=>{const I=!t;n(I),localStorage.setItem("theme",I?"dark":"light"),I?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),le.success(`Theme switched to ${I?"dark":"light"} mode`)},w=()=>{const I=!r;s(I),localStorage.setItem("autoScan",I.toString()),le.success(`Auto scan ${I?"enabled":"disabled"}`)},x=async()=>{try{le.success("Notification preferences saved")}catch(I){console.error("Error saving notification settings:",I),le.error("Failed to save notification settings")}},R=()=>{if(!p.name||!p.value){le.error("Please enter both name and value for the API key");return}const I=Date.now();f([...d,{id:I,...p,isEditing:!1}]),m({name:"",value:""}),b(!1),le.success(`API key "${p.name}" added`)},P=I=>{f(d.map(D=>D.id===I?{...D,isEditing:!D.isEditing}:D))},A=(I,D,$)=>{f(d.map(H=>H.id===I?{...H,[D]:$}:H))},O=(I,D)=>{f(d.filter($=>$.id!==I)),le.success(`API key "${D}" removed`)},S=async I=>{f(d.map(D=>D.id===I?{...D,isEditing:!1}:D)),le.success("API key updated")},E=async()=>{if(window.confirm("Are you sure you want to delete ALL imported items? This cannot be undone.")){console.log("Attempting to clear database..."),le.info("Clearing database...");try{const I=await oP();I.success?(console.log(`Database cleared successfully. ${I.rowsDeleted} items deleted.`),le.success(`Database cleared successfully! ${I.rowsDeleted} items deleted.`)):(console.error("Clear database failed:",I.error),le.error(`Error clearing database: ${I.error}`))}catch(I){console.error("Error during clear database:",I),le.error("An error occurred during clear database.")}}};return h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Settings"}),h.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden mb-6",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[h.jsx(nP,{className:"mr-2"}),h.jsx(Qj,{className:"mr-2"}),"App Preferences"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(No,{enabled:t,onChange:v,label:"Dark Mode"}),h.jsx(No,{enabled:r,onChange:w,label:"Auto-process scanned items"})]})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden mb-6",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[h.jsx(Wj,{className:"mr-2"}),"Notification Settings"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(No,{enabled:i,onChange:()=>o(!i),label:"Email Notifications"}),h.jsx(No,{enabled:a,onChange:()=>l(!a),label:"Low Stock Alerts"}),h.jsx(No,{enabled:u,onChange:()=>c(!u),label:"Activity Updates"}),h.jsx("div",{className:"pt-4",children:h.jsxs("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center",children:[h.jsx(af,{className:"mr-2"}),"Save Notification Settings"]})})]})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[h.jsx(Xj,{className:"mr-2"}),"API Keys"]}),h.jsxs("div",{className:"space-y-4",children:[d.map(I=>h.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-4",children:I.isEditing?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Key Name"}),h.jsx("input",{type:"text",value:I.name,onChange:D=>A(I.id,"name",D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Key Value"}),h.jsx("input",{type:"text",value:I.value,onChange:D=>A(I.id,"value",D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>S(I.id),className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center",children:[h.jsx(af,{className:"mr-2"}),"Save"]}),h.jsx("button",{onClick:()=>P(I.id),className:"px-3 py-2 bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"})]})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-md font-medium text-gray-800 dark:text-gray-200",children:I.name}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>P(I.id),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:h.jsx(Kj,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>O(I.id,I.name),className:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:h.jsx(rP,{className:"h-5 w-5"})})]})]}),h.jsx("div",{className:"mt-2",children:h.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:I.value?`${I.value.substring(0,6)}...${I.value.substring(I.value.length-4)}`:"No key set"})})]})},I.id)),y?h.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-4",children:[h.jsx("h3",{className:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3",children:"Add New API Key"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Key Name"}),h.jsx("input",{type:"text",value:p.name,onChange:I=>m({...p,name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Amazon API"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Key Value"}),h.jsx("input",{type:"text",value:p.value,onChange:I=>m({...p,value:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter API key"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:R,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center",children:[h.jsx(af,{className:"mr-2"}),"Save"]}),h.jsx("button",{onClick:()=>b(!1),className:"px-3 py-2 bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"})]})]})]}):h.jsxs("button",{onClick:()=>b(!0),className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:[h.jsx(Zj,{className:"mr-2"}),"Add new API key"]})]})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden mt-6 border border-red-500",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("h2",{className:"text-lg font-medium text-red-600 dark:text-red-400 mb-4 flex items-center",children:[h.jsx(Hj,{className:"mr-2"}),"Danger Zone"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Be careful! These actions are irreversible."}),h.jsx(He,{type:"button",variant:"danger",onClick:E,className:"w-full sm:w-auto",title:"Delete all imported items from the local database",children:"Clear All Imported Item Data"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This will permanently remove all item data imported via CSV or scanned."})]})]})})]})})},VN=()=>{var o;const{user:e,signOut:t}=An(),[n,r]=M.useState(!1),s=hr();M.useEffect(()=>{e||s("/login")},[e,s]);const i=async()=>{try{r(!0);const{success:a,error:l}=await t();a?(le.success("Logged out successfully"),s("/login")):(le.error(l||"Failed to log out"),r(!1))}catch(a){console.error("Logout error:",a),le.error("An unexpected error occurred"),r(!1)}};return e?h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Your Profile"}),h.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:h.jsx(nc,{className:"h-8 w-8 text-blue-600 dark:text-blue-300"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:((o=e.email)==null?void 0:o.split("@")[0])||"User"}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:[h.jsx(iw,{className:"mr-2"}),e.email]})]})]}),h.jsxs("button",{onClick:i,disabled:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 flex items-center",children:[h.jsx(sw,{className:"mr-2"}),n?"Logging out...":"Log out"]})]}),h.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[h.jsx(tP,{className:"mr-2"}),"Account Details"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"User ID"}),h.jsx("div",{className:"text-sm bg-gray-50 dark:bg-gray-900 p-2 rounded border border-gray-200 dark:border-gray-700",children:e.id})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Verified"}),h.jsx("div",{className:"text-sm bg-gray-50 dark:bg-gray-900 p-2 rounded border border-gray-200 dark:border-gray-700",children:e.email_confirmed_at?"Yes":"No"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Sign In"}),h.jsx("div",{className:"text-sm bg-gray-50 dark:bg-gray-900 p-2 rounded border border-gray-200 dark:border-gray-700",children:e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleString():"N/A"})]})]})]})]})})]})}):null},HN=async()=>{console.log("Testing Supabase connection...");try{const e="https://jjtdvdbfbsdcoyehubmx.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqdGR2ZGJmYnNkY295ZWh1Ym14Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUyOTcyNzAsImV4cCI6MjA2MDg3MzI3MH0.TtRDY8WdcvGCm39kOqodZoU8xQ_k4E7zO1NLfbtpPhA";console.log("Supabase configuration found"),console.log("URL:",e),console.log("Key present:",!!t);const n=performance.now(),{data:r,error:s}=await Ne.from("healthcheck").select("*").limit(1).maybeSingle(),i=performance.now();return s?s.code==="42P01"?(console.log(" Connection successful (healthcheck table not found, but connection works)"),{success:!0,message:"Connection successful",responseTime:i-n}):(console.error(" Error connecting to Supabase:",s),{success:!1,error:s.message||"Unknown error connecting to Supabase",details:s,responseTime:i-n}):(console.log(" Connection successful:",r),{success:!0,message:"Connection successful",data:r,responseTime:i-n})}catch(e){return console.error(" Exception when testing Supabase connection:",e),{success:!1,error:e.message||"Unknown error",details:e}}},WN=async(e="test@example.com",t="password123")=>{console.log(`Creating test user: ${e}`);try{const{data:n,error:r}=await Ne.auth.signUp({email:e,password:t});return r?(console.error("Error creating test user:",r),{success:!1,error:r.message}):(console.log("Test user created successfully:",n),{success:!0,data:n})}catch(n){return console.error("Exception creating test user:",n),{success:!1,error:n.message}}},qN=async(e="test@example.com",t="password123")=>{console.log(`Testing login with: ${e}`);try{const{data:n,error:r}=await Ne.auth.signInWithPassword({email:e,password:t});return r?(console.error("Login test failed:",r),{success:!1,error:r.message}):(console.log("Login test successful:",n.user.id),{success:!0,data:n})}catch(n){return console.error("Exception during login test:",n),{success:!1,error:n.message}}},GN=()=>{const[e,t]=M.useState(""),[n,r]=M.useState(""),[s,i]=M.useState(!1),[o,a]=M.useState(""),[l,u]=M.useState(!1),[c,d]=M.useState(null),{signIn:f,isAuthenticated:p}=An(),m=hr();M.useEffect(()=>{console.log("Login page rendered, auth state:",p)},[p]);const y=async w=>{if(w.preventDefault(),console.log("Login form submitted for:",e),a(""),!e||!n){const x="Please enter both email and password";a(x),le.error(x);return}i(!0);try{console.log("Attempting sign in with:",e);const{success:x,error:R,data:P}=await f(e,n);if(console.log("Sign in result:",{success:x,error:R,hasData:!!P}),x)console.log("Login successful, redirecting to dashboard"),le.success("Logged in successfully"),m("/dashboard");else{const A=R||"Failed to log in. Please check your credentials.";console.error("Login failed:",A),a(A),le.error(A)}}catch(x){console.error("Login error:",x);const R="An unexpected error occurred. Please try again.";a(R),le.error(R)}finally{i(!1)}},b=()=>{t("test@example.com"),r("password123")},v=async()=>{u(!0),d(null);try{const w=await HN();if(console.log("Connection test result:",w),w.success){le.success("Supabase connection successful!");const x=await WN();console.log("Create test user result:",x);const R=await qN();console.log("Login test result:",R),R.success?(le.success("Login test successful!"),d({success:!0,message:"Connection and authentication tests passed successfully."}),b()):(le.error("Login test failed: "+R.error),d({success:!1,message:"Connection successful but login test failed: "+R.error}))}else le.error("Supabase connection failed: "+w.error),d({success:!1,message:"Connection failed: "+w.error})}catch(w){console.error("Error during connection test:",w),le.error("Test failed: "+w.message),d({success:!1,message:"Test failed with exception: "+w.message})}finally{u(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to your account"}),h.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",h.jsx(Wn,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),o&&h.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:h.jsx("div",{className:"flex",children:h.jsxs("div",{className:"ml-3",children:[h.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),h.jsx("div",{className:"mt-2 text-sm text-red-700",children:h.jsx("p",{children:o})})]})})}),c&&h.jsx("div",{className:`rounded-md ${c.success?"bg-green-50":"bg-yellow-50"} p-4 mb-4`,children:h.jsx("div",{className:"flex",children:h.jsxs("div",{className:"ml-3",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Connection Test"}),h.jsx("div",{className:"mt-2 text-sm text-gray-700",children:h.jsx("p",{children:c.message})})]})})}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[h.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(nc,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-400 dark:text-white",placeholder:"Email address",value:e,onChange:w=>t(w.target.value)})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Dh,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-400 dark:text-white",placeholder:"Password",value:n,onChange:w=>r(w.target.value)})]})]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("button",{type:"button",onClick:b,className:"group relative px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Use Test Account"}),h.jsxs("button",{type:"button",onClick:v,disabled:l,className:"group relative px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-600 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[h.jsx(Yj,{className:"h-4 w-4 inline-block mr-1"}),l?"Testing...":"Test Connection"]})]}),h.jsx("div",{children:h.jsxs("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:h.jsx(Jj,{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400"})}),s?"Signing in...":"Sign in"]})})]})]})})},KN=()=>{const[e,t]=M.useState(""),[n,r]=M.useState(""),[s,i]=M.useState(""),[o,a]=M.useState(!1),{signUp:l}=An(),u=hr(),c=async d=>{if(d.preventDefault(),!e||!n||!s){le.error("Please fill in all fields");return}if(n!==s){le.error("Passwords do not match");return}if(n.length<6){le.error("Password must be at least 6 characters long");return}a(!0);try{const{success:f,error:p}=await l(e,n);f?(le.success("Registration successful! Please check your email for confirmation"),u("/login")):le.error(p||"Failed to register")}catch(f){console.error("Registration error:",f),le.error("An unexpected error occurred")}finally{a(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create your account"}),h.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",h.jsx(Wn,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[h.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(iw,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-400 dark:text-white",placeholder:"Email address",value:e,onChange:d=>t(d.target.value)})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Dh,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-400 dark:text-white",placeholder:"Password",value:n,onChange:d=>r(d.target.value)})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Dh,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-400 dark:text-white",placeholder:"Confirm Password",value:s,onChange:d=>i(d.target.value)})]})]})]}),h.jsx("div",{children:h.jsxs("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:h.jsx(sP,{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400"})}),o?"Creating account...":"Create account"]})})]})]})})};function Eu({title:e,subtitle:t,actions:n}){return h.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:e}),t&&h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),n&&h.jsx("div",{className:"flex space-x-3",children:n})]})}Eu.propTypes={title:kr.string.isRequired,subtitle:kr.string,actions:kr.node};const YN=[{id:1,name:"John Doe",email:"john@example.com",role:"Admin",status:"Active",lastLogin:"2023-05-15 09:30:45"},{id:2,name:"Jane Smith",email:"jane@example.com",role:"Manager",status:"Active",lastLogin:"2023-05-14 14:22:10"},{id:3,name:"Bob Johnson",email:"bob@example.com",role:"Staff",status:"Active",lastLogin:"2023-05-13 11:15:33"},{id:4,name:"Alice Williams",email:"alice@example.com",role:"Staff",status:"Inactive",lastLogin:"2023-04-28 08:45:12"},{id:5,name:"Charlie Brown",email:"charlie@example.com",role:"Manager",status:"Active",lastLogin:"2023-05-15 10:05:22"}];function XN(){const[e,t]=M.useState([]),[n,r]=M.useState(!0),{hasRole:s}=An(),i=s("admin");M.useEffect(()=>{i?(async()=>{try{setTimeout(()=>{t(YN),r(!1)},500)}catch(l){console.error("Error fetching users:",l),le.error("Failed to load users"),r(!1)}})():r(!1)},[i]);const o=a=>{switch(a){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-gray-100 text-gray-800";case"Suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n?h.jsxs("div",{children:[h.jsx(Eu,{title:"Users"}),h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]}):i?h.jsxs("div",{children:[h.jsx(Eu,{title:"Users",actions:h.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Add User"})}),h.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.name})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-500",children:a.email})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:a.role})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o(a.status)}`,children:a.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.lastLogin}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[h.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),a.status==="Active"?h.jsx("button",{className:"text-yellow-600 hover:text-yellow-900 mr-3",children:"Disable"}):h.jsx("button",{className:"text-green-600 hover:text-green-900 mr-3",children:"Enable"}),h.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},a.id))})]})})})]}):h.jsxs("div",{children:[h.jsx(Eu,{title:"Users"}),h.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4",children:h.jsxs("div",{className:"flex",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),h.jsx("div",{className:"ml-3",children:h.jsx("p",{className:"text-sm text-yellow-700",children:"You do not have permission to access this page. Please contact an administrator for assistance."})})]})})]})}const rp=M.forwardRef(({type:e="text",label:t,placeholder:n,error:r,helperText:s,fullWidth:i=!1,disabled:o=!1,required:a=!1,className:l="",id:u,name:c,onChange:d,onBlur:f,value:p,defaultValue:m,...y},b)=>{const v=u||`input-${c}-${Math.random().toString(36).substring(2,9)}`,w="block rounded-md shadow-sm border-gray-300 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",x=i?"w-full":"",R=r?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"",P=o?"bg-gray-100 cursor-not-allowed":"";return h.jsxs("div",{className:`${i?"w-full":""} ${l}`,children:[t&&h.jsxs("label",{htmlFor:v,className:"block text-sm font-medium text-gray-700 mb-1",children:[t,a&&h.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:e,id:v,name:c,className:`
            ${w}
            ${x}
            ${R}
            ${P}
          `,placeholder:n,disabled:o,ref:b,onChange:d,onBlur:f,value:p,defaultValue:m,required:a,...y}),e==="password"&&h.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3"})]}),(r||s)&&h.jsx("p",{className:`mt-1 text-sm ${r?"text-red-600":"text-gray-500"}`,children:r||s})]})});rp.displayName="Input";const yi=({children:e,color:t="gray",size:n="md",className:r="",...s})=>{const i={gray:"bg-gray-100 text-gray-800",blue:"bg-blue-100 text-blue-800",green:"bg-green-100 text-green-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",purple:"bg-purple-100 text-purple-800",indigo:"bg-indigo-100 text-indigo-800"},o={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},a=i[t]||i.gray,l=o[n]||o.md;return h.jsx("span",{className:`inline-flex items-center rounded-md font-medium ${a} ${l} ${r}`,...s,children:e})},JN=({currentPage:e=1,totalPages:t=1,onPageChange:n,className:r="",...s})=>{const i=()=>t<=5?Array.from({length:t},(c,d)=>d+1):e<=3?[1,2,3,4,"...",t]:e>=t-2?[1,"...",t-3,t-2,t-1,t]:[1,"...",e-1,e,e+1,"...",t],o=c=>{c!==e&&c!=="..."&&n&&n(c)},a=()=>{e>1&&n&&n(e-1)},l=()=>{e<t&&n&&n(e+1)};if(t<=1)return null;const u=i();return h.jsx("div",{className:`flex items-center justify-center mt-4 ${r}`,...s,children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[h.jsxs("button",{onClick:a,disabled:e<=1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${e<=1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[h.jsx("span",{className:"sr-only",children:"Previous"}),h.jsx(yu,{className:"h-5 w-5","aria-hidden":"true"})]}),u.map((c,d)=>h.jsx("button",{onClick:()=>o(c),disabled:c==="...",className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${c===e?"z-10 bg-blue-50 border-blue-500 text-blue-600":c==="..."?"bg-white border-gray-300 text-gray-500 cursor-default":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:c},d)),h.jsxs("button",{onClick:l,disabled:e>=t,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${e>=t?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[h.jsx("span",{className:"sr-only",children:"Next"}),h.jsx(fj,{className:"h-5 w-5","aria-hidden":"true"})]})]})})},QN=nt.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});QN.interceptors.response.use(e=>e,e=>(console.error("API Error:",e.message),Promise.reject(e)));const ZN="20a98a6a-437e-497c-b64c-ec97ec2fbc19",eM="https://ato.fnskutoasin.com/api/v1/ScanTask/GetMyByBarCode",sp={async getMyTasks(e={}){try{const{searchString:t="",pageSize:n=10,pageNumber:r=1}=e,s="20a98a6a-437e-497c-b64c-ec97ec2fbc19",i="https://ato.fnskutoasin.com/api/v1",o=new URLSearchParams;return t&&o.append("SearchString",t),o.append("PageSize",n),o.append("PageNumber",r),(await nt.get(`${i}/ScanTask/GetMy`,{params:o,headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"}})).data}catch(t){return console.error("Error fetching scan tasks:",t),{succeeded:!1,messages:[t.message||"Failed to fetch scan tasks"],data:[],totalCount:0,pageSize:e.pageSize||10,currentPage:e.pageNumber||1,totalPages:0}}},async getTaskByBarcode(e){try{if(!e)throw new Error("Barcode is required");return(await nt.get("https://ato.fnskutoasin.com/api/v1/ScanTask/GetMyByBarCode",{params:{barCode:e},headers:{Authorization:"Bearer 20a98a6a-437e-497c-b64c-ec97ec2fbc19",Accept:"application/json","Content-Type":"application/json"}})).data}catch(t){return console.error(`Error fetching scan task for barcode ${e}:`,t),{succeeded:!1,messages:[t.message||`Failed to fetch scan task for barcode ${e}`],data:null}}},async addOrGetTask(e){var t,n;try{if(!e)throw new Error("Barcode is required");const r=ZN,s=eM.replace("/GetMyByBarCode","/AddOrGet");console.log(`Calling AddOrGet API: ${s} for ${e}`);const i=await nt.post(s,{barCode:e},{headers:{"api-key":r,Accept:"application/json","Content-Type":"application/json"}});return console.log("AddOrGet API Response:",i.data),(!i.data||!i.data.succeeded)&&console.warn("AddOrGet call did not report success:",(n=(t=i.data)==null?void 0:t.messages)==null?void 0:n.join(", ")),i.data}catch(r){return console.error(`Error adding/getting scan task for barcode ${e}:`,r),{succeeded:!1,messages:[r.message||`Failed to add/get scan task for barcode ${e}`],data:null}}},async getTaskById(e){try{if(!e)throw new Error("Task ID is required");return(await nt.get("https://ato.fnskutoasin.com/api/v1/ScanTask/GetMyById",{params:{id:e},headers:{Authorization:"Bearer 20a98a6a-437e-497c-b64c-ec97ec2fbc19",Accept:"application/json","Content-Type":"application/json"}})).data}catch(t){return console.error(`Error fetching scan task with ID ${e}:`,t),{succeeded:!1,messages:[t.message||`Failed to fetch scan task with ID ${e}`],data:null}}}},tM=()=>{const{user:e}=An(),[t,n]=M.useState(!1),[r,s]=M.useState([]),[i,o]=M.useState(""),[a,l]=M.useState({currentPage:1,totalPages:0,totalCount:0,pageSize:10}),[u,c]=M.useState(""),[d,f]=M.useState(!1);M.useEffect(()=>{p()},[a.currentPage,a.pageSize]);const p=async()=>{var R;n(!0);try{const P=await sp.getMyTasks({searchString:i,pageNumber:a.currentPage,pageSize:a.pageSize});P&&P.succeeded?(s(P.data||[]),l({currentPage:P.currentPage,totalPages:P.totalPages,totalCount:P.totalCount,pageSize:P.pageSize})):(le.error(((R=P.messages)==null?void 0:R[0])||"Failed to load scan tasks"),s([]))}catch(P){console.error("Error fetching scan tasks:",P),le.error("An error occurred while loading scan tasks")}finally{n(!1)}},m=R=>{R.preventDefault(),l(P=>({...P,currentPage:1})),p()},y=async R=>{var P;if(R.preventDefault(),!u){le.error("Please enter a barcode");return}f(!0);try{const A=await sp.addOrGetTask(u);A&&A.succeeded?(le.success("Scan task added successfully"),c(""),p()):le.error(((P=A.messages)==null?void 0:P[0])||"Failed to add scan task")}catch(A){console.error("Error adding scan task:",A),le.error("An error occurred while adding scan task")}finally{f(!1)}},b=R=>{l(P=>({...P,currentPage:R}))},v=R=>{switch(R){case 0:return h.jsx(yi,{color:"gray",children:"Pending"});case 1:return h.jsx(yi,{color:"blue",children:"In Progress"});case 2:return h.jsx(yi,{color:"green",children:"Completed"});case 3:return h.jsx(yi,{color:"red",children:"Failed"});default:return h.jsx(yi,{color:"gray",children:"Unknown"})}},w=R=>R?new Date(R).toLocaleString():"N/A",x=[{header:"ID",accessor:"id"},{header:"Barcode",accessor:"barCode"},{header:"ASIN",accessor:"asin",cell:R=>R||"N/A"},{header:"State",accessor:"taskState",cell:R=>v(R)},{header:"Created",accessor:"createdOn",cell:R=>w(R)},{header:"Finished",accessor:"finishedOn",cell:R=>w(R)},{header:"Actions",accessor:"id",cell:R=>h.jsx(He,{size:"sm",onClick:()=>window.open(`/scan-tasks/${R}`,"_blank"),children:"View"})}];return h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Scan Tasks"}),h.jsxs(He,{onClick:()=>window.open("/scanner","_blank"),className:"flex items-center",children:[h.jsx(Uc,{className:"w-5 h-5 mr-2"}),"Scan New Item"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[h.jsxs(fn,{className:"p-4 md:col-span-2",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Search Scan Tasks"}),h.jsxs("form",{onSubmit:m,className:"flex items-end gap-4",children:[h.jsx("div",{className:"flex-1",children:h.jsx(rp,{label:"Search Term",placeholder:"Enter barcode, ASIN, or any search term",value:i,onChange:R=>o(R.target.value)})}),h.jsxs(He,{type:"submit",disabled:t,children:[h.jsx(Va,{className:"w-5 h-5 mr-2"}),"Search"]})]})]}),h.jsxs(fn,{className:"p-4",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add New Task"}),h.jsxs("form",{onSubmit:y,children:[h.jsx(rp,{label:"Barcode / FNSKU",placeholder:"Enter barcode to add",value:u,onChange:R=>c(R.target.value),className:"mb-4"}),h.jsx(He,{type:"submit",className:"w-full",disabled:d||!u,children:d?"Adding...":"Add Task"})]})]})]}),h.jsxs(fn,{className:"p-4 mb-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:t?"Loading Scan Tasks...":`Scan Tasks (${a.totalCount})`}),t?h.jsx("div",{className:"flex justify-center items-center h-40",children:h.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"})}):r.length===0?h.jsx("div",{className:"text-center py-8 text-gray-500",children:"No scan tasks found. Create a new task to get started."}):h.jsxs(h.Fragment,{children:[h.jsx(yg,{data:r,columns:x}),a.totalPages>1&&h.jsx("div",{className:"mt-6 flex justify-center",children:h.jsx(JN,{currentPage:a.currentPage,totalPages:a.totalPages,onPageChange:b})})]})]})]})},nM=()=>{var m;const{id:e}=gE(),t=hr(),[n,r]=M.useState(!0),[s,i]=M.useState(null),[o,a]=M.useState(null);M.useEffect(()=>{if(!e){a("No task ID provided"),r(!1);return}l(e)},[e]);const l=async y=>{var b,v;r(!0);try{const w=await sp.getTaskById(y);w&&w.succeeded?i(w.data):(a(((b=w.messages)==null?void 0:b[0])||"Failed to load task details"),le.error(((v=w.messages)==null?void 0:v[0])||"Failed to load task details"))}catch(w){console.error("Error fetching task details:",w),a("An error occurred while loading task details"),le.error("An error occurred while loading task details")}finally{r(!1)}},u=y=>{switch(y){case 0:return{label:"Pending",color:"gray"};case 1:return{label:"In Progress",color:"blue"};case 2:return{label:"Completed",color:"green"};case 3:return{label:"Failed",color:"red"};default:return{label:"Unknown",color:"gray"}}},c=y=>y?new Date(y).toLocaleString():"N/A",d=y=>{if(!y&&y!==0)return"N/A";if(y<60)return`${y} seconds`;if(y<3600){const b=Math.floor(y/60),v=y%60;return`${b} min ${v} sec`}else{const b=Math.floor(y/3600),v=Math.floor(y%3600/60);return`${b} hr ${v} min`}},f=()=>{t("/scan-tasks")};if(n)return h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})});if(o)return h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs(fn,{className:"p-6 bg-red-50 border border-red-300",children:[h.jsx("h1",{className:"text-xl font-bold text-red-700 mb-4",children:"Error"}),h.jsx("p",{className:"text-red-600 mb-4",children:o}),h.jsxs(He,{onClick:f,children:[h.jsx(yu,{className:"w-5 h-5 mr-2"}),"Back to Scan Tasks"]})]})});if(!s)return h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs(fn,{className:"p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-4",children:"Task Not Found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"The scan task you're looking for doesn't exist or you don't have permission to view it."}),h.jsxs(He,{onClick:f,children:[h.jsx(yu,{className:"w-5 h-5 mr-2"}),"Back to Scan Tasks"]})]})});const p=u(s.taskState);return h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsx("div",{className:"mb-6",children:h.jsxs(He,{onClick:f,variant:"outline",className:"flex items-center",children:[h.jsx(yu,{className:"w-5 h-5 mr-2"}),"Back to Scan Tasks"]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[h.jsxs(fn,{className:"p-6 md:col-span-2",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("h1",{className:"text-2xl font-bold",children:["Task #",s.id]}),h.jsx(yi,{color:p.color,size:"lg",children:p.label})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Barcode"}),h.jsx("p",{className:"text-lg font-semibold font-mono",children:s.barCode||"N/A"})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"ASIN"}),h.jsx("p",{className:"text-lg font-semibold font-mono",children:s.asin||"Not Available"})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Assigned"}),h.jsx("p",{className:"text-base",children:c(s.assignmentDate)})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Created"}),h.jsx("p",{className:"text-base",children:c(s.createdOn)})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Finished"}),h.jsx("p",{className:"text-base",children:s.finishedOn?c(s.finishedOn):"Not Finished"})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"User"}),h.jsx("p",{className:"text-base",children:s.user||"N/A"})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.asin&&h.jsx(He,{onClick:()=>window.open(`https://www.amazon.com/dp/${s.asin}`,"_blank"),children:"View on Amazon"}),h.jsx(He,{variant:"outline",onClick:()=>t(`/scanner?code=${s.barCode}`),children:"Scan Again"})]})]}),h.jsxs(fn,{className:"p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Task Statistics"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(h0,{className:"w-5 h-5 mr-3 text-gray-500"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Duration"}),h.jsx("p",{className:"text-lg font-semibold",children:d(s.duration)})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(h0,{className:"w-5 h-5 mr-3 text-gray-500"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Processing Time"}),h.jsx("p",{className:"text-lg font-semibold",children:d(s.processingDuration)})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(tw,{className:"w-5 h-5 mr-3 text-gray-500"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Barcode Format"}),h.jsx("p",{className:"text-lg font-semibold",children:(m=s.barCode)!=null&&m.startsWith("X")?"FNSKU":"Standard"})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(bj,{className:"w-5 h-5 mr-3 text-gray-500"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"User ID"}),h.jsx("p",{className:"text-base font-mono truncate max-w-[200px]",children:s.userId||"N/A"})]})]})]})]})]})]})},rM={HomeIcon:wj,ArchiveBoxIcon:ZR,TagIcon:tw,QrCodeIcon:jj,ArrowsRightLeftIcon:rj,TruckIcon:Oj,ChartBarIcon:ij,MapPinIcon:Cj,UsersIcon:Nj,Cog6ToothIcon:gj},sM=()=>{var u;const{user:e,signOut:t,hasPermission:n,hasRole:r}=An(),s=Yn(),{navigationItems:i,activeRoute:o}=KR();M.useEffect(()=>{console.log("Layout component rendered with user:",e==null?void 0:e.email)},[e]);const a=i.filter(c=>{if(!c.permission&&!c.role)return!0;const d=c.permission?n(c.permission):!0,f=c.role?r(c.role):!0;return d&&f}),l=async()=>{try{await t()}catch(c){console.error("Logout error:",c)}};return h.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[h.jsx("div",{className:"bg-white dark:bg-gray-800 w-64 flex-shrink-0 hidden md:block shadow-lg",children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"h-16 flex items-center justify-center border-b border-gray-200 dark:border-gray-700",children:h.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Inventory System"})}),h.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-3",children:h.jsx("ul",{className:"space-y-2",children:a.map(c=>{const d=rM[c.icon];return h.jsx("li",{children:h.jsxs(Wn,{to:c.path,className:`flex items-center p-2 rounded-lg ${s.pathname===c.path||s.pathname.startsWith(c.path+"/")?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[h.jsx("span",{className:"mr-3",children:d?h.jsx(d,{className:"w-5 h-5"}):null}),h.jsx("span",{children:c.name})]})},c.path)})})}),h.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"flex flex-col",children:[h.jsxs(Wn,{to:"/profile",className:`flex items-center p-2 mb-2 rounded-lg ${s.pathname==="/profile"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[h.jsx(nc,{className:"w-5 h-5 mr-3"}),h.jsx("span",{children:"Profile"})]}),h.jsxs("button",{onClick:l,className:"flex items-center p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[h.jsx(sw,{className:"w-5 h-5 mr-3"}),h.jsx("span",{children:"Logout"})]})]})})]})}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow h-16 flex items-center justify-between px-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("button",{className:"text-gray-500 dark:text-gray-300 focus:outline-none md:hidden",children:h.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),h.jsx("h1",{className:"ml-4 text-lg font-semibold text-gray-800 dark:text-white",children:((u=a.find(c=>s.pathname===c.path))==null?void 0:u.name)||(s.pathname==="/profile"?"Profile":"Dashboard")})]}),h.jsx("div",{className:"flex items-center",children:h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 mr-2",children:(e==null?void 0:e.email)||"Not signed in"}),h.jsx(Wn,{to:"/profile",className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-500",children:h.jsx(nc,{className:"h-4 w-4"})})]})})]}),h.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900",children:h.jsx("div",{className:"container mx-auto px-4 py-6",children:h.jsx(PE,{})})})]})]})};function iM(){const{loading:e,isAuthenticated:t}=An();return M.useEffect(()=>{console.log("App rendered with auth state:",{loading:e,isAuthenticated:t})},[e,t]),e?h.jsx("div",{className:"h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-gray-500",children:"Loading application..."})}):h.jsxs(h.Fragment,{children:[h.jsx(GR,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),h.jsx(nR,{children:h.jsx(YR,{children:h.jsxs(OE,{children:[h.jsx(Nt,{path:"/login",element:t?h.jsx(Dl,{to:"/dashboard",replace:!0}):h.jsx(GN,{})}),h.jsx(Nt,{path:"/register",element:t?h.jsx(Dl,{to:"/dashboard",replace:!0}):h.jsx(KN,{})}),h.jsxs(Nt,{path:"/",element:t?h.jsx(sM,{}):h.jsx(Dl,{to:"/login",replace:!0}),children:[h.jsx(Nt,{index:!0,element:h.jsx(v0,{})}),h.jsx(Nt,{path:"dashboard",element:h.jsx(v0,{})}),h.jsx(Nt,{path:"products",element:h.jsx(o5,{})}),h.jsx(Nt,{path:"inventory",element:h.jsx(VT,{})}),h.jsx(Nt,{path:"reports",element:h.jsx(MN,{})}),h.jsx(Nt,{path:"scanner",element:h.jsx(BN,{})}),h.jsx(Nt,{path:"settings",element:h.jsx(UN,{})}),h.jsx(Nt,{path:"profile",element:h.jsx(VN,{})}),h.jsx(Nt,{path:"users",element:h.jsx(XN,{})}),h.jsx(Nt,{path:"scan-tasks",element:h.jsx(tM,{})}),h.jsx(Nt,{path:"scan-tasks/:id",element:h.jsx(nM,{})})]}),h.jsx(Nt,{path:"*",element:h.jsx(Dl,{to:t?"/dashboard":"/login",replace:!0})})]})})})]})}console.log("Main.jsx is loading the App with AuthProvider...");window.addEventListener("error",e=>{var t,n;console.error("Global error caught:",e.error),(n=(t=e.error)==null?void 0:t.message)!=null&&n.includes("useAuth must be used within an AuthProvider")&&console.error("AuthProvider error detected. Check that all components using useAuth are wrapped in AuthProvider")});const Ru=document.getElementById("root");console.log("Root element:",Ru);try{i1(Ru).render(h.jsx(M.StrictMode,{children:h.jsx(RC,{children:h.jsx(iM,{})})})),console.log("App rendered successfully")}catch(e){console.error("Error rendering the application:",e),Ru&&(Ru.innerHTML=`
      <div style="padding: 20px; color: red; font-family: sans-serif;">
        <h2>Application Error</h2>
        <p>${e.message}</p>
        <p>Check the browser console for more details.</p>
        ${e.message.includes("AuthProvider")?"<p>Authentication context error: Make sure AuthProvider is properly set up.</p>":""}
      </div>
    `)}export{hc as g};
